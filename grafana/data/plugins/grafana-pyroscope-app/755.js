/*! For license information please see 755.js.LICENSE.txt */
(self.webpackChunkgrafana_pyroscope_app=self.webpackChunkgrafana_pyroscope_app||[]).push([[755],{7945:(e,t,r)=>{"use strict";r.d(t,{Tp:()=>a});const n={RadioButton:{container:"data-testid radio-button"},Breadcrumbs:{breadcrumb:e=>`data-testid ${e} breadcrumb`},TimePicker:{openButton:"data-testid TimePicker Open Button",overlayContent:"data-testid TimePicker Overlay Content",fromField:"data-testid Time Range from field",toField:"data-testid Time Range to field",applyTimeRange:"data-testid TimePicker submit button",copyTimeRange:"data-testid TimePicker copy button",pasteTimeRange:"data-testid TimePicker paste button",calendar:{label:"data-testid Time Range calendar",openButton:"data-testid Open time range calendar",closeButton:"data-testid Close time range Calendar"},absoluteTimeRangeTitle:"data-testid-absolute-time-range-narrow"},DataSourcePermissions:{form:()=>'form[name="addPermission"]',roleType:"Role to add new permission to",rolePicker:"Built-in role picker",permissionLevel:"Permission Level"},DateTimePicker:{input:"data-testid date-time-input"},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:"Test Data Query scenario select container",scenarioSelect:"Test Data Query scenario select",max:"TestData max",min:"TestData min",noise:"TestData noise",seriesCount:"TestData series count",spread:"TestData spread",startValue:"TestData start value",drop:"TestData drop values"}},DataSourceHttpSettings:{urlInput:"data-testid Datasource HTTP settings url"},Jaeger:{traceIDInput:"Trace ID"},Prometheus:{configPage:{connectionSettings:"Data source connection URL",manageAlerts:"prometheus-alerts-manager",scrapeInterval:"data-testid scrape interval",queryTimeout:"data-testid query timeout",defaultEditor:"data-testid default editor",disableMetricLookup:"disable-metric-lookup",prometheusType:"data-testid prometheus type",prometheusVersion:"data-testid prometheus version",cacheLevel:"data-testid cache level",incrementalQuerying:"prometheus-incremental-querying",queryOverlapWindow:"data-testid query overlap window",disableRecordingRules:"disable-recording-rules",customQueryParameters:"data-testid custom query parameters",httpMethod:"data-testid http method",exemplarsAddButton:"data-testid Add exemplar config button",internalLinkSwitch:"data-testid Internal link switch"},queryEditor:{explain:"data-testid prometheus explain switch wrapper",editorToggle:"data-testid QueryEditorModeToggle",options:"data-testid prometheus options",legend:"data-testid prometheus legend wrapper",format:"data-testid prometheus format",step:"prometheus-step",type:"data-testid prometheus type",exemplars:"prometheus-exemplars",builder:{metricSelect:"data-testid metric select",hints:"data-testid prometheus hints",metricsExplorer:"data-testid metrics explorer",queryAdvisor:"data-testid query advisor"},code:{queryField:"data-testid prometheus query field",metricsBrowser:{openButton:"data-testid open metrics browser",selectMetric:"data-testid select a metric",metricList:"data-testid metric list",labelNamesFilter:"data-testid label names filter",labelValuesFilter:"data-testid label values filter",useQuery:"data-testid use query",useAsRateQuery:"data-testid use as rate query",validateSelector:"data-testid validate selector",clear:"data-testid clear"}}},exemplarMarker:"data-testid Exemplar marker",variableQueryEditor:{queryType:"data-testid query type",labelnames:{metricRegex:"data-testid label names metric regex"},labelValues:{labelSelect:"data-testid label values label select"},metricNames:{metricRegex:"data-testid metric names metric regex"},varQueryResult:"data-testid variable query result",seriesQuery:"data-testid prometheus series query",classicQuery:"data-testid prometheus classic query"},annotations:{minStep:"prometheus-annotation-min-step",title:"data-testid prometheus annotation title",tags:"data-testid prometheus annotation tags",text:"data-testid prometheus annotation text",seriesValueAsTimestamp:"data-testid prometheus annotation series value as timestamp"}}},Menu:{MenuComponent:e=>`${e} menu`,MenuGroup:e=>`${e} menu group`,MenuItem:e=>`${e} menu item`,SubMenu:{container:"data-testid SubMenu container",icon:"data-testid SubMenu icon"}},Panels:{Panel:{title:e=>`data-testid Panel header ${e}`,headerItems:e=>`data-testid Panel header item ${e}`,menuItems:e=>`data-testid Panel menu item ${e}`,menu:e=>`data-testid Panel menu ${e}`,containerByTitle:e=>`${e} panel`,headerCornerInfo:e=>`Panel header ${e}`,status:e=>`data-testid Panel status ${e}`,loadingBar:()=>"Panel loading bar",HoverWidget:{container:"data-testid hover-header-container",dragIcon:"data-testid drag-icon"},PanelDataErrorMessage:"data-testid Panel data error message"},Visualization:{Graph:{container:"Graph container",VisualizationTab:{legendSection:"Legend section"},Legend:{legendItemAlias:e=>`gpl alias ${e}`,showLegendSwitch:"gpl show legend"},xAxis:{labels:()=>"div.flot-x-axis > div.flot-tick-label"}},BarGauge:{value:"Bar gauge value",valueV2:"data-testid Bar gauge value"},PieChart:{svgSlice:"data testid Pie Chart Slice"},Text:{container:()=>".markdown-html"},Table:{header:"table header",footer:"table-footer",body:"data-testid table body"}}},VizLegend:{seriesName:e=>`data-testid VizLegend series ${e}`},Drawer:{General:{title:e=>`Drawer title ${e}`,expand:"Drawer expand",contract:"Drawer contract",close:"data-testid Drawer close",rcContentWrapper:()=>".rc-drawer-content-wrapper",subtitle:"data-testid drawer subtitle"}},PanelEditor:{General:{content:"Panel editor content"},OptionsPane:{content:"Panel editor option pane content",select:"Panel editor option pane select",fieldLabel:e=>`${e} field property editor`},DataPane:{content:"Panel editor data pane content"},applyButton:"data-testid Apply changes and go back to dashboard",toggleVizPicker:"data-testid toggle-viz-picker",toggleVizOptions:"data-testid toggle-viz-options",toggleTableView:"toggle-table-view",showZoomField:"Map controls Show zoom control field property editor",showAttributionField:"Map controls Show attribution field property editor",showScaleField:"Map controls Show scale field property editor",showMeasureField:"Map controls Show measure tools field property editor",showDebugField:"Map controls Show debug field property editor",measureButton:"show measure tools"},PanelInspector:{Data:{content:"Panel inspector Data content"},Stats:{content:"Panel inspector Stats content"},Json:{content:"Panel inspector Json content"},Query:{content:"Panel inspector Query content",refreshButton:"Panel inspector Query refresh button",jsonObjectKeys:()=>".json-formatter-key"}},Tab:{title:e=>`Tab ${e}`,active:()=>'[class*="-activeTabStyle"]'},RefreshPicker:{runButton:"RefreshPicker run button",intervalButton:"RefreshPicker interval button",runButtonV2:"data-testid RefreshPicker run button",intervalButtonV2:"data-testid RefreshPicker interval button"},QueryTab:{content:"Query editor tab content",queryInspectorButton:"Query inspector button",queryHistoryButton:"data-testid query-history-button",addQuery:"data-testid query-tab-add-query"},QueryHistory:{queryText:"Query text"},QueryEditorRows:{rows:"Query editor row"},QueryEditorRow:{actionButton:e=>`data-testid ${e}`,title:e=>`Query editor row title ${e}`,container:e=>`Query editor row ${e}`},AlertTab:{content:"data-testid Alert editor tab content"},Alert:{alert:e=>`Alert ${e}`,alertV2:e=>`data-testid Alert ${e}`},TransformTab:{content:"data-testid Transform editor tab content",newTransform:e=>`data-testid New transform ${e}`,transformationEditor:e=>`data-testid Transformation editor ${e}`,transformationEditorDebugger:e=>`data-testid Transformation editor debugger ${e}`},Transforms:{card:e=>`data-testid New transform ${e}`,disableTransformationButton:"data-testid Disable transformation button",Reduce:{modeLabel:"data-testid Transform mode label",calculationsLabel:"data-testid Transform calculations label"},SpatialOperations:{actionLabel:"root Action field property editor",locationLabel:"root Location Mode field property editor",location:{autoOption:"Auto location option",coords:{option:"Coords location option",latitudeFieldLabel:"root Latitude field field property editor",longitudeFieldLabel:"root Longitude field field property editor"},geohash:{option:"Geohash location option",geohashFieldLabel:"root Geohash field field property editor"},lookup:{option:"Lookup location option",lookupFieldLabel:"root Lookup field field property editor",gazetteerFieldLabel:"root Gazetteer field property editor"}}},searchInput:"data-testid search transformations",noTransformationsMessage:"data-testid no transformations message",addTransformationButton:"data-testid add transformation button",removeAllTransformationsButton:"data-testid remove all transformations button"},NavBar:{Configuration:{button:"Configuration"},Toggle:{button:"data-testid Toggle menu"},Reporting:{button:"Reporting"}},NavMenu:{Menu:"data-testid navigation mega-menu",item:"data-testid Nav menu item"},NavToolbar:{container:"data-testid Nav toolbar"},PageToolbar:{container:()=>".page-toolbar",item:e=>`${e}`,itemButton:e=>`data-testid ${e}`},QueryEditorToolbarItem:{button:e=>`QueryEditor toolbar item button ${e}`},BackButton:{backArrow:"data-testid Go Back"},OptionsGroup:{group:e=>e?`Options group ${e}`:"Options group",toggle:e=>e?`Options group ${e} toggle`:"Options group toggle"},PluginVisualization:{item:e=>`Plugin visualization item ${e}`,current:()=>'[class*="-currentVisualizationItem"]'},Select:{option:"Select option",input:()=>'input[id*="time-options-input"]',singleValue:()=>'div[class*="-singleValue"]'},FieldConfigEditor:{content:"Field config editor content"},OverridesConfigEditor:{content:"Field overrides editor content"},FolderPicker:{container:"Folder picker select container",containerV2:"data-testid Folder picker select container",input:"data-testid folder-picker-input"},ReadonlyFolderPicker:{container:"data-testid Readonly folder picker select container"},DataSourcePicker:{container:"data-testid Data source picker select container",input:()=>'input[id="data-source-picker"]',inputV2:"data-testid Select a data source",dataSourceList:"data-testid Data source list dropdown",advancedModal:{dataSourceList:"data-testid Data source list",builtInDataSourceList:"data-testid Built in data source list"}},TimeZonePicker:{container:"Time zone picker select container",containerV2:"data-testid Time zone picker select container"},WeekStartPicker:{container:"Choose starting day of the week",containerV2:"data-testid Choose starting day of the week",placeholder:"Choose starting day of the week"},TraceViewer:{spanBar:"data-testid SpanBar--wrapper"},QueryField:{container:"data-testid Query field"},QueryBuilder:{queryPatterns:"data-testid Query patterns",labelSelect:"data-testid Select label",valueSelect:"data-testid Select value",matchOperatorSelect:"data-testid Select match operator"},ValuePicker:{button:e=>`data-testid Value picker button ${e}`,select:e=>`data-testid Value picker select ${e}`},Search:{section:"Search section",sectionV2:"data-testid Search section",items:"Search items",itemsV2:"data-testid Search items",cards:"data-testid Search cards",collapseFolder:e=>`data-testid Collapse folder ${e}`,expandFolder:e=>`data-testid Expand folder ${e}`,dashboardItem:e=>`${n.Search.dashboardItems} ${e}`,dashboardCard:e=>`data-testid Search card ${e}`,folderHeader:e=>`data-testid Folder header ${e}`,folderContent:e=>`data-testid Folder content ${e}`,dashboardItems:"data-testid Dashboard search item"},DashboardLinks:{container:"data-testid Dashboard link container",dropDown:"data-testid Dashboard link dropdown",link:"data-testid Dashboard link"},LoadingIndicator:{icon:"data-testid Loading indicator"},CallToActionCard:{button:e=>`Call to action button ${e}`,buttonV2:e=>`data-testid Call to action button ${e}`},DataLinksContextMenu:{singleLink:"data-testid Data link"},CodeEditor:{container:"data-testid Code editor container"},DashboardImportPage:{textarea:"data-testid-import-dashboard-textarea",submit:"data-testid-load-dashboard"},ImportDashboardForm:{name:"data-testid-import-dashboard-title",submit:"data-testid-import-dashboard-submit"},PanelAlertTabContent:{content:"data-testid Unified alert editor tab content"},VisualizationPreview:{card:e=>`data-testid suggestion-${e}`},ColorSwatch:{name:"data-testid-colorswatch"},DashboardRow:{title:e=>`data-testid dashboard-row-title-${e}`},UserProfile:{profileSaveButton:"data-testid-user-profile-save",preferencesSaveButton:"data-testid-shared-prefs-save",orgsTable:"data-testid-user-orgs-table",sessionsTable:"data-testid-user-sessions-table",extensionPointTabs:"data-testid-extension-point-tabs",extensionPointTab:e=>`data-testid-extension-point-tab-${e}`},FileUpload:{inputField:"data-testid-file-upload-input-field",fileNameSpan:"data-testid-file-upload-file-name"},DebugOverlay:{wrapper:"debug-overlay"},OrgRolePicker:{input:"Role"},AnalyticsToolbarButton:{button:"Dashboard insights"},Variables:{variableOption:"data-testid variable-option"},Annotations:{annotationsTypeInput:"annotations-type-input",annotationsChoosePanelInput:"choose-panels-input"},Tooltip:{container:"data-testid tooltip"}},a={pages:{Login:{url:"/login",username:"data-testid Username input field",password:"data-testid Password input field",submit:"data-testid Login button",skip:"data-testid Skip change password button"},Home:{url:"/"},DataSource:{name:"data-testid Data source settings page name input field",delete:"Data source settings page Delete button",readOnly:"data-testid Data source settings page read only message",saveAndTest:"data-testid Data source settings page Save and Test button",alert:"data-testid Data source settings page Alert"},DataSources:{url:"/datasources",dataSources:e=>`Data source list item ${e}`},EditDataSource:{url:e=>`/datasources/edit/${e}`,settings:"Datasource settings page basic settings"},AddDataSource:{url:"/datasources/new",dataSourcePlugins:e=>`Data source plugin item ${e}`,dataSourcePluginsV2:e=>`Add new data source ${e}`},ConfirmModal:{delete:"data-testid Confirm Modal Danger Button"},AddDashboard:{url:"/dashboard/new",itemButton:e=>`data-testid ${e}`,addNewPanel:"Add new panel",addNewRow:"Add new row",addNewPanelLibrary:"Add new panel from panel library"},Dashboard:{url:e=>`/d/${e}`,DashNav:{nav:"Dashboard navigation",navV2:"data-testid Dashboard navigation",publicDashboardTag:"data-testid public dashboard tag",shareButton:"data-testid share-button"},SubMenu:{submenu:"Dashboard submenu",submenuItem:"data-testid template variable",submenuItemLabels:e=>`data-testid Dashboard template variables submenu Label ${e}`,submenuItemValueDropDownValueLinkTexts:e=>`data-testid Dashboard template variables Variable Value DropDown value link text ${e}`,submenuItemValueDropDownDropDown:"Variable options",submenuItemValueDropDownOptionTexts:e=>`data-testid Dashboard template variables Variable Value DropDown option text ${e}`,Annotations:{annotationsWrapper:"data-testid annotation-wrapper",annotationLabel:e=>`data-testid Dashboard annotations submenu Label ${e}`,annotationToggle:e=>`data-testid Dashboard annotations submenu Toggle ${e}`}},Settings:{Actions:{close:"data-testid dashboard-settings-close"},General:{deleteDashBoard:"Dashboard settings page delete dashboard button",sectionItems:e=>`Dashboard settings section item ${e}`,saveDashBoard:"Dashboard settings aside actions Save button",saveAsDashBoard:"Dashboard settings aside actions Save As button",timezone:"Time zone picker select container",title:"Tab General"},Annotations:{List:{addAnnotationCTA:n.CallToActionCard.button("Add annotation query"),addAnnotationCTAV2:n.CallToActionCard.buttonV2("Add annotation query"),annotations:"data-testid list-annotations"},Settings:{name:"Annotations settings name input"},NewAnnotation:{panelFilterSelect:"data-testid annotations-panel-filter",showInLabel:"show-in-label",previewInDashboard:"data-testid annotations-preview",delete:"data-testid annotations-delete",apply:"data-testid annotations-apply",enable:"data-testid annotation-enable",hide:"data-testid annotation-hide"}},Variables:{List:{addVariableCTA:n.CallToActionCard.button("Add variable"),addVariableCTAV2:n.CallToActionCard.buttonV2("Add variable"),newButton:"Variable editor New variable button",table:"Variable editor Table",tableRowNameFields:e=>`Variable editor Table Name field ${e}`,tableRowDefinitionFields:e=>`Variable editor Table Definition field ${e}`,tableRowArrowUpButtons:e=>`Variable editor Table ArrowUp button ${e}`,tableRowArrowDownButtons:e=>`Variable editor Table ArrowDown button ${e}`,tableRowDuplicateButtons:e=>`Variable editor Table Duplicate button ${e}`,tableRowRemoveButtons:e=>`Variable editor Table Remove button ${e}`},Edit:{General:{headerLink:"Variable editor Header link",modeLabelNew:"Variable editor Header mode New",modeLabelEdit:"Variable editor Header mode Edit",generalNameInput:"Variable editor Form Name field",generalNameInputV2:"data-testid Variable editor Form Name field",generalTypeSelect:"Variable editor Form Type select",generalTypeSelectV2:"data-testid Variable editor Form Type select",generalLabelInput:"Variable editor Form Label field",generalLabelInputV2:"data-testid Variable editor Form Label field",generalHideSelect:"Variable editor Form Hide select",generalHideSelectV2:"data-testid Variable editor Form Hide select",selectionOptionsMultiSwitch:"data-testid Variable editor Form Multi switch",selectionOptionsIncludeAllSwitch:"data-testid Variable editor Form IncludeAll switch",selectionOptionsCustomAllInput:"data-testid Variable editor Form IncludeAll field",previewOfValuesOption:"data-testid Variable editor Preview of Values option",submitButton:"data-testid Variable editor Run Query button",applyButton:"data-testid Variable editor Apply button"},QueryVariable:{queryOptionsDataSourceSelect:n.DataSourcePicker.inputV2,queryOptionsRefreshSelect:"Variable editor Form Query Refresh select",queryOptionsRefreshSelectV2:"data-testid Variable editor Form Query Refresh select",queryOptionsRegExInput:"Variable editor Form Query RegEx field",queryOptionsRegExInputV2:"data-testid Variable editor Form Query RegEx field",queryOptionsSortSelect:"Variable editor Form Query Sort select",queryOptionsSortSelectV2:"data-testid Variable editor Form Query Sort select",queryOptionsQueryInput:"data-testid Variable editor Form Default Variable Query Editor textarea",valueGroupsTagsEnabledSwitch:"Variable editor Form Query UseTags switch",valueGroupsTagsTagsQueryInput:"Variable editor Form Query TagsQuery field",valueGroupsTagsTagsValuesQueryInput:"Variable editor Form Query TagsValuesQuery field"},ConstantVariable:{constantOptionsQueryInput:"Variable editor Form Constant Query field",constantOptionsQueryInputV2:"data-testid Variable editor Form Constant Query field"},DatasourceVariable:{datasourceSelect:"data-testid datasource variable datasource type"},TextBoxVariable:{textBoxOptionsQueryInput:"Variable editor Form TextBox Query field",textBoxOptionsQueryInputV2:"data-testid Variable editor Form TextBox Query field"},CustomVariable:{customValueInput:"data-testid custom-variable-input"},IntervalVariable:{intervalsValueInput:"data-testid interval variable intervals input",autoEnabledCheckbox:"data-testid interval variable auto value checkbox",stepCountIntervalSelect:"data-testid interval variable step count input",minIntervalInput:"data-testid interval variable mininum interval input"},GroupByVariable:{dataSourceSelect:n.DataSourcePicker.inputV2,infoText:"data-testid group by variable info text",modeToggle:"data-testid group by variable mode toggle"},AdHocFiltersVariable:{datasourceSelect:n.DataSourcePicker.inputV2,infoText:"data-testid ad-hoc filters variable info text"}}}},Annotations:{marker:"data-testid annotation-marker"},Rows:{Repeated:{ConfigSection:{warningMessage:"data-testid Repeated rows warning message"}}}},Dashboards:{url:"/dashboards",dashboards:e=>`Dashboard search item ${e}`},SaveDashboardAsModal:{newName:"Save dashboard title field",save:"Save dashboard button"},SaveDashboardModal:{save:"Dashboard settings Save Dashboard Modal Save button",saveVariables:"Dashboard settings Save Dashboard Modal Save variables checkbox",saveTimerange:"Dashboard settings Save Dashboard Modal Save timerange checkbox"},SharePanelModal:{linkToRenderedImage:"Link to rendered image"},ShareDashboardModal:{PublicDashboard:{Tab:"Tab Public dashboard",WillBePublicCheckbox:"data-testid public dashboard will be public checkbox",LimitedDSCheckbox:"data-testid public dashboard limited datasources checkbox",CostIncreaseCheckbox:"data-testid public dashboard cost may increase checkbox",PauseSwitch:"data-testid public dashboard pause switch",EnableAnnotationsSwitch:"data-testid public dashboard on off switch for annotations",CreateButton:"data-testid public dashboard create button",DeleteButton:"data-testid public dashboard delete button",CopyUrlInput:"data-testid public dashboard copy url input",CopyUrlButton:"data-testid public dashboard copy url button",SettingsDropdown:"data-testid public dashboard settings dropdown",TemplateVariablesWarningAlert:"data-testid public dashboard disabled template variables alert",UnsupportedDataSourcesWarningAlert:"data-testid public dashboard unsupported data sources alert",NoUpsertPermissionsWarningAlert:"data-testid public dashboard no upsert permissions alert",EnableTimeRangeSwitch:"data-testid public dashboard on off switch for time range",EmailSharingConfiguration:{Container:"data-testid email sharing config container",ShareType:"data-testid public dashboard share type",EmailSharingInput:"data-testid public dashboard email sharing input",EmailSharingInviteButton:"data-testid public dashboard email sharing invite button",EmailSharingList:"data-testid public dashboard email sharing list",DeleteEmail:"data-testid public dashboard delete email button",ReshareLink:"data-testid public dashboard reshare link button"}}},PublicDashboard:{page:"public-dashboard-page",NotAvailable:{container:"public-dashboard-not-available",title:"public-dashboard-title",pausedDescription:"public-dashboard-paused-description"}},RequestViewAccess:{form:"request-view-access-form",recipientInput:"request-view-access-recipient-input",submitButton:"request-view-access-submit-button"},PublicDashboardConfirmAccess:{submitButton:"data-testid confirm-access-submit-button"},Explore:{url:"/explore",General:{container:"data-testid Explore",graph:"Explore Graph",table:"Explore Table",scrollView:"data-testid explorer scroll view"}},SoloPanel:{url:e=>`/d-solo/${e}`},PluginsList:{page:"Plugins list page",list:"Plugins list",listItem:"Plugins list item",signatureErrorNotice:"data-testid Unsigned plugins notice"},PluginPage:{page:"Plugin page",signatureInfo:"data-testid Plugin signature info",disabledInfo:"data-testid Plugin disabled info"},PlaylistForm:{name:"Playlist name",interval:"Playlist interval",itemDelete:"data-testid playlist-form-delete-item"},BrowseDashboards:{table:{body:"data-testid browse-dashboards-table",row:e=>`data-testid browse dashboards row ${e}`,checkbox:e=>`data-testid ${e} checkbox`},NewFolderForm:{form:"data-testid new folder form",nameInput:"data-testid new-folder-name-input",createButton:"data-testid new-folder-create-button"}},Search:{url:"/?search=openn",FolderView:{url:"/?search=open&layout=folders"}},PublicDashboards:{ListItem:{linkButton:"public-dashboard-link-button",configButton:"public-dashboard-configuration-button",trashcanButton:"public-dashboard-remove-button",pauseSwitch:"data-testid public dashboard pause switch"}},UserListPage:{tabs:{allUsers:"data-testid all-users-tab",orgUsers:"data-testid org-users-tab",anonUserDevices:"data-testid anon-user-devices-tab",publicDashboardsUsers:"data-testid public-dashboards-users-tab",users:"data-testid users-tab"},org:{url:"/org/users"},admin:{url:"/admin/users"},publicDashboards:{container:"data-testid public-dashboards-users-list"},UserListAdminPage:{container:"data-testid user-list-admin-page"},UsersListPage:{container:"data-testid users-list-page"},UserAnonListPage:{container:"data-testid user-anon-list-page"},UsersListPublicDashboardsPage:{container:"data-testid users-list-public-dashboards-page",DashboardsListModal:{listItem:e=>`data-testid dashboards-list-item-${e}`}}},ProfilePage:{url:"/profile"}},components:n}},1630:(e,t,r)=>{"use strict";r.d(t,{qA:()=>C,Sn:()=>R,qH:()=>T});var n=r(7781),a=r(8531),i=(r(5959),r(1269)),o=r(5096),s=r(4370);function l(e,t){return(0,o.N)((function(r,n){var a=0;r.subscribe((0,s._)(n,(function(r){return e.call(t,r,a++)&&n.next(r)})))}))}var u=r(7708);function c(e,t){return(0,o.N)(function(e,t,r,n,a){return function(i,o){var l=r,u=t,c=0;i.subscribe((0,s._)(o,(function(t){var r=c++;u=l?e(u,t,r):(l=!0,t),n&&o.next(u)}),a&&function(){l&&o.next(u),o.complete()}))}}(e,t,arguments.length>=2,!0))}var d=r(1693),p=r(3887);const h={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var f,m=new Uint8Array(16);function g(){if(!f&&!(f="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f(m)}for(var y=[],v=0;v<256;++v)y.push((v+256).toString(16).slice(1));function b(e,t=0){return(y[e[t+0]]+y[e[t+1]]+y[e[t+2]]+y[e[t+3]]+"-"+y[e[t+4]]+y[e[t+5]]+"-"+y[e[t+6]]+y[e[t+7]]+"-"+y[e[t+8]]+y[e[t+9]]+"-"+y[e[t+10]]+y[e[t+11]]+y[e[t+12]]+y[e[t+13]]+y[e[t+14]]+y[e[t+15]]).toLowerCase()}const w=function(e,t,r){if(h.randomUUID&&!t&&!e)return h.randomUUID();var n=(e=e||{}).random||(e.rng||g)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=n[a];return t}return b(n)};var S=r(8449);const x="grafana-llm-app",O=`/api/plugins/${x}`;let _=new S.SemVer("0.2.0");const E="openai/v1/chat/completions";function k(e){return"error"in e}function C(){return(0,i.pipe)((0,i.pipe)(l((e=>"content"in e.choices[0].delta)),(0,u.T)((e=>e.choices[0].delta.content))),c(((e,t)=>e+t),""))}function T(e){const t={scope:n.LiveChannelScope.Plugin,namespace:x,path:E+"/"+w(),data:e};return(0,a.getGrafanaLiveSrv)().getStream(t).pipe(l((e=>(0,n.isLiveChannelMessageEvent)(e)))).pipe(function(e,t,r){var n=(0,d.T)(e)||t||r?{next:e,error:t,complete:r}:e;return n?(0,o.N)((function(e,t){var r;null===(r=n.subscribe)||void 0===r||r.call(n);var a=!0;e.subscribe((0,s._)(t,(function(e){var r;null===(r=n.next)||void 0===r||r.call(n,e),t.next(e)}),(function(){var e;a=!1,null===(e=n.complete)||void 0===e||e.call(n),t.complete()}),(function(e){var r;a=!1,null===(r=n.error)||void 0===r||r.call(n,e),t.error(e)}),(function(){var e,t;a&&(null===(e=n.unsubscribe)||void 0===e||e.call(n)),null===(t=n.finalize)||void 0===t||t.call(n)})))})):p.D}((e=>{if(k(e.message))throw new Error(e.message.error)})),(r=e=>{return k(e.message)||!("done"in(t=e.message.choices[0].delta)&&null!=t.done);var t},void 0===i&&(i=!1),(0,o.N)((function(e,t){var n=0;e.subscribe((0,s._)(t,(function(e){var a=r(e,n++);(a||i)&&t.next(e),!a&&t.complete()})))}))),(0,u.T)((e=>e.message)));var r,i}let D=!1;const P=async()=>{try{if(!(await(0,a.getBackendSrv)().get(`${O}/settings`,void 0,void 0,{showSuccessAlert:!1,showErrorAlert:!1})).enabled)return{configured:!1,ok:!1,error:"The Grafana LLM plugin is not enabled."}}catch(e){return(0,a.logDebug)(String(e)),(0,a.logDebug)("Failed to check if OpenAI is enabled. This is expected if the Grafana LLM plugin is not installed, and the above error can be ignored."),D=!0,{configured:!1,ok:!1,error:"The Grafana LLM plugin is not installed."}}let e;try{e=await(0,a.getBackendSrv)().get(`${O}/health`,void 0,void 0,{showSuccessAlert:!1,showErrorAlert:!1})}catch(e){return D||((0,a.logDebug)(String(e)),(0,a.logDebug)("Failed to check if OpenAI is enabled. This is expected if the Grafana LLM plugin is not installed, and the above error can be ignored."),D=!0),{configured:!1,ok:!1,error:"The Grafana LLM plugin is not installed."}}const{details:t}=e;return void 0!==t?.version&&function(e){try{_=new S.SemVer(e)}catch(e){(0,a.logWarning)("Failed to parse version of grafana-llm-app; assuming old version is present.")}}(t.version),void 0===t?.openAI?{configured:!1,ok:!1,error:"The Grafana LLM plugin is outdated; please update it."}:"boolean"==typeof t.openAI?{configured:t.openAI,ok:t.openAI}:t.openAI},R=async()=>{const e=await P();return e.configured&&e.ok}},6356:(e,t,r)=>{"use strict";r.d(t,{H9:()=>wn,mI:()=>Zo,d0:()=>Nd,fS:()=>Cs,UU:()=>de,xK:()=>ec,gF:()=>Zu,Es:()=>Lo,vA:()=>Wu,G1:()=>qu,Bs:()=>ee,So:()=>ke,dt:()=>Vn,WM:()=>ku,KE:()=>mu,JZ:()=>Le,Pj:()=>zo,n1:()=>fc,Sh:()=>Rt,Eb:()=>ei,Lw:()=>Ys,Gg:()=>n,Is:()=>Xs,jh:()=>Tt,Go:()=>Md});var n={};r.r(n),r.d(n,{K2:()=>oa});var a={};r.r(a);var i=r(5959),o=r.n(i),s=r(1159),l=r(7781),u=r(8531),c=Object.defineProperty,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,f=(e,t,r)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))p.call(t,r)&&f(e,r,t[r]);if(d)for(var r of d(t))h.call(t,r)&&f(e,r,t[r]);return e};function g(e,t){const r=m({},u.locationService.getSearchObject());if(t)for(const e of Object.keys(r))t.includes(e)||delete r[e];return l.urlUtil.renderUrl(l.locationUtil.assureBaseUrl(e),r)}function y(e,t){return o().createElement(e.Component,{model:e,routeProps:t})}var v=Object.defineProperty,b=Object.defineProperties,w=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,_=(e,t,r)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const E=new Map;var k=r(1269);const C={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let T;const D=new Uint8Array(16);function P(){if(!T&&(T="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!T))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return T(D)}const R=[];for(let e=0;e<256;++e)R.push((e+256).toString(16).slice(1));function A(e,t=0){return R[e[t+0]]+R[e[t+1]]+R[e[t+2]]+R[e[t+3]]+"-"+R[e[t+4]]+R[e[t+5]]+"-"+R[e[t+6]]+R[e[t+7]]+"-"+R[e[t+8]]+R[e[t+9]]+"-"+R[e[t+10]]+R[e[t+11]]+R[e[t+12]]+R[e[t+13]]+R[e[t+14]]+R[e[t+15]]}const j=function(e,t,r){if(C.randomUUID&&!t&&!e)return C.randomUUID();const n=(e=e||{}).random||(e.rng||P)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return A(n)};var I=Object.defineProperty,L=Object.defineProperties,N=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,z=(e,t,r)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const F=o().memo((function(e){var t,r=e,{model:n}=r,a=((e,t)=>{var r={};for(var n in e)V.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&M)for(var n of M(e))t.indexOf(n)<0&&$.call(e,n)&&(r[n]=e[n]);return r})(r,["model"]);const s=null!=(t=n.constructor.Component)?t:B,[l,u]=(0,i.useState)(0);return(0,i.useEffect)((()=>{const e=n.activate();return u((e=>e+1)),e}),[n]),n.isActive?o().createElement(s,(c=((e,t)=>{for(var r in t||(t={}))V.call(t,r)&&z(e,r,t[r]);if(M)for(var r of M(t))$.call(t,r)&&z(e,r,t[r]);return e})({},a),L(c,N({model:n})))):null;var c}));function B(e){return null}class U extends l.BusEventWithPayload{}U.type="scene-object-state-change";class H extends l.BusEventWithPayload{}H.type="scene-object-user-action";var q,W=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};class G{constructor(e){var t,r,n,a;((e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)})(this,q,void 0),n=e,W(t=this,r=q,"write to private field"),a?a.call(t,n):r.set(t,n)}resolve(){return W(e=this,t=q,"read from private field"),r?r.call(e):t.get(e);var e,t,r}}q=new WeakMap;var Q=Object.defineProperty,X=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,Y=(e,t,r)=>t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Z=(e,t)=>{for(var r in t||(t={}))J.call(t,r)&&Y(e,r,t[r]);if(X)for(var r of X(t))K.call(t,r)&&Y(e,r,t[r]);return e};class ee{constructor(e){this._isActive=!1,this._activationHandlers=[],this._deactivationHandlers=new Map,this._subs=new k.Subscription,this._refCount=0,e.key||(e.key=j()),this._events=new l.EventBusSrv,this._state=Object.freeze(e),this._setParent(this._state)}get state(){return this._state}get isActive(){return this._isActive}get parent(){return this._parent}get variableDependency(){return this._variableDependency}get urlSync(){return this._urlSync}get Component(){return F}_setParent(e){re(e,(e=>{e._parent&&e._parent!==this&&console.warn("SceneObject already has a parent set that is different from the new parent. You cannot share the same SceneObject instance in multiple scenes or in multiple different places of the same scene graph. Use SceneObject.clone() to duplicate a SceneObject or store a state key reference and use sceneGraph.findObject to locate it.",e,this),e._parent=this}))}subscribeToState(e){return this._events.subscribe(U,(t=>{t.payload.changedObject===this&&e(t.payload.newState,t.payload.prevState)}))}subscribeToEvent(e,t){return this._events.subscribe(e,t)}setState(e){const t=this._state,r=Z(Z({},this._state),e);this._state=Object.freeze(r),this._setParent(e),this._handleActivationOfChangedStateProps(t,r),this.publishEvent(new U({prevState:t,newState:r,partialUpdate:e,changedObject:this}),!0)}_handleActivationOfChangedStateProps(e,t){this.isActive&&(e.$behaviors!==t.$behaviors&&this._handleChangedBehaviors(e.$behaviors,t.$behaviors),e.$data!==t.$data&&this._handleChangedStateActivation(e.$data,t.$data),e.$variables!==t.$variables&&this._handleChangedStateActivation(e.$variables,t.$variables),e.$timeRange!==t.$timeRange&&this._handleChangedStateActivation(e.$timeRange,t.$timeRange))}_handleChangedStateActivation(e,t){if(e){const t=this._deactivationHandlers.get(e);t&&(t(),this._deactivationHandlers.delete(e))}t&&this._deactivationHandlers.set(t,t.activate())}_handleChangedBehaviors(e,t){if(e)for(const r of e)if(!t||!t.includes(r)){const e=this._deactivationHandlers.get(r);e&&(e(),this._deactivationHandlers.delete(r))}if(t)for(const r of t)e&&e.includes(r)||this._activateBehavior(r)}publishEvent(e,t){this._events.publish(e),t&&this.parent&&this.parent.publishEvent(e,t)}getRoot(){return this._parent?this._parent.getRoot():this}_internalActivate(){this._isActive=!0;const{$data:e,$variables:t,$timeRange:r,$behaviors:n}=this.state;if(this._activationHandlers.forEach((e=>{const t=e();t&&this._deactivationHandlers.set(t,t)})),r&&!r.isActive&&this._deactivationHandlers.set(r,r.activate()),t&&!t.isActive&&this._deactivationHandlers.set(t,t.activate()),e&&!e.isActive&&this._deactivationHandlers.set(e,e.activate()),n)for(const e of n)this._activateBehavior(e)}_activateBehavior(e){if(e instanceof ee)this._deactivationHandlers.set(e,e.activate());else if("function"==typeof e){const t=e(this);t&&this._deactivationHandlers.set(e,t)}}activate(){this.isActive||this._internalActivate(),this._refCount++;let e=!1;return()=>{if(this._refCount--,e){throw new Error("SceneObject cancelation handler returned by activate() called a second time")}e=!0,0===this._refCount&&this._internalDeactivate()}}_internalDeactivate(){this._isActive=!1;for(let e of this._deactivationHandlers.values())e();this._deactivationHandlers.clear(),this._events.removeAllListeners(),this._subs.unsubscribe(),this._subs=new k.Subscription}useState(){return te(this)}forceRender(){this.setState({})}clone(e){return function(e,t){const r=ue(e.state,t);return new e.constructor(r)}(this,e)}addActivationHandler(e){this._activationHandlers.push(e)}forEachChild(e){re(this.state,e)}getRef(){return this._ref||(this._ref=new G(this)),this._ref}}function te(e,t){var r;const[n,a]=(0,i.useState)(e.state),o=e.state,s=null!=(r=null==t?void 0:t.shouldActivateOrKeepAlive)&&r;return(0,i.useEffect)((()=>{let t;s&&(t=e.activate());const r=e.subscribeToState((e=>{a(e)}));return e.state!==o&&a(e.state),()=>{r.unsubscribe(),t&&t()}}),[e,s]),e.state}function re(e,t){for(const r of Object.values(e))if(r instanceof ee&&t(r),Array.isArray(r))for(const e of r)e instanceof ee&&t(e)}var ne=Object.defineProperty,ae=Object.getOwnPropertySymbols,ie=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,se=(e,t,r)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,le=(e,t)=>{for(var r in t||(t={}))ie.call(t,r)&&se(e,r,t[r]);if(ae)for(var r of ae(t))oe.call(t,r)&&se(e,r,t[r]);return e};function ue(e,t){const r=le({},e);for(const e in r){const t=r[e];if(t instanceof ee&&(r[e]=t.clone()),t instanceof G)throw new Error("Cannot clone a SceneObject with a SceneObjectRef in state");if(Array.isArray(t)){const n=[];for(const e of t)e instanceof ee?n.push(e.clone()):n.push(e);r[e]=n}}return Object.assign(r,t),r}function ce(e,t){let r,n=e;for(;n&&!r;)r=t(n),n=n.parent;return r}class de extends l.DataSourceApi{constructor(e,t){super({name:"RuntimeDataSource-"+e,uid:t,type:e,id:1,readOnly:!0,jsonData:{},access:"direct",meta:{id:e,name:"RuntimeDataSource-"+e,type:l.PluginType.datasource,info:{author:{name:""},description:"",links:[],logos:{large:"",small:""},screenshots:[],updated:"",version:""},module:"",baseUrl:""}})}testDatasource(){return Promise.resolve({})}}const pe=new Map;var he=r(3241);class fe{constructor(){this.index=new Map}getUniqueKey(e,t){const r=this.index.get(e);if(!r)throw new Error("Cannot find any scene object that uses the key '"+e+"'");const n=r.findIndex((e=>e.sceneObject===t));return n>0?`${e}-${n+1}`:e}rebuildIndex(e){this.index.clear(),this.buildIndex(e,0)}buildIndex(e,t){if(e.urlSync)for(const r of e.urlSync.getKeys()){const n=this.index.get(r);n?(n.push({sceneObject:e,depth:t}),n.sort(((e,t)=>e.depth-t.depth))):this.index.set(r,[{sceneObject:e,depth:t}])}e.forEachChild((e=>this.buildIndex(e,t+1)))}}function me(e){const t=new fe;t.rebuildIndex(e);const r={},n=e=>{if(e.urlSync){const n=e.urlSync.getUrlState();for(const[a,i]of Object.entries(n))if(null!=i){const n=t.getUniqueKey(a,e);r[n]=i}}e.forEachChild(n)};return n(e),r}function ge(e,t,r){if(e.urlSync){const n={},a=e.urlSync.getUrlState();for(const i of e.urlSync.getKeys()){const o=r.getUniqueKey(i,e),s=t.getAll(o),l=a[i];ye(s,l)||(s.length>0?Array.isArray(l)?n[i]=s:n[i]=s[0]:n[i]=null)}Object.keys(n).length>0&&e.urlSync.updateFromUrl(n)}e.forEachChild((e=>ge(e,t,r)))}function ye(e,t){return 0===e.length&&null==t||(Array.isArray(t)||1!==(null==e?void 0:e.length)?0===(null==t?void 0:t.length)&&null===e||(0,he.isEqual)(e,t):t===e[0])}var ve=r(3321);ve.ob.Auto;var be=(e=>(e.NotStarted="NotStarted",e.Loading="Loading",e.Streaming="Streaming",e.Done="Done",e.Error="Error",e))(be||{}),we=Object.defineProperty,Se=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable,_e=(e,t,r)=>t in e?we(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Ee={state:be.Done,series:[],timeRange:(0,l.getDefaultTimeRange)()};class ke{constructor(e,t){this._sceneObject=e,this._keys=t.keys}getKeys(){return"function"==typeof this._keys?this._keys():this._keys}getUrlState(){return this._sceneObject.getUrlState()}updateFromUrl(e){this._sceneObject.updateFromUrl(e)}}const Ce=/^\d+[yYmMsSwWhHdD]$/;function Te(e){if("string"!=typeof e)return null;if(-1!==e.indexOf("now"))return e;if(Ce.test(e))return e;if(8===e.length){const t=(0,l.toUtc)(e,"YYYYMMDD");if(t.isValid())return t.toISOString()}else if(15===e.length){const t=(0,l.toUtc)(e,"YYYYMMDDTHHmmss");if(t.isValid())return t.toISOString()}else if(24===e.length){return(0,l.toUtc)(e).toISOString()}const t=parseInt(e,10);return isNaN(t)?null:(0,l.toUtc)(t).toISOString()}function De(e,t,r,n,a){const i=a&&"now"===t;return{from:l.dateMath.parse(e,!1,r,n),to:l.dateMath.parse(i?"now-"+a:t,!0,r,n),raw:{from:e,to:t}}}var Pe=Object.defineProperty,Re=Object.getOwnPropertySymbols,Ae=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable,Ie=(e,t,r)=>t in e?Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Le extends ee{constructor(e={}){var t,r;const n=null!=(t=e.from)?t:"now-6h",a=null!=(r=e.to)?r:"now",i=e.timeZone;super(((e,t)=>{for(var r in t||(t={}))Ae.call(t,r)&&Ie(e,r,t[r]);if(Re)for(var r of Re(t))je.call(t,r)&&Ie(e,r,t[r]);return e})({from:n,to:a,timeZone:i,value:De(n,a,i||(0,l.getTimeZone)(),e.fiscalYearStartMonth,e.UNSAFE_nowDelay)},e)),this._urlSync=new ke(this,{keys:["from","to","timezone"]}),this.onTimeRangeChange=e=>{const t={},r={};"string"==typeof e.raw.from?(t.from=e.raw.from,r.from=e.raw.from):(t.from=e.raw.from.toISOString(),r.from=e.raw.from.toISOString(!0)),"string"==typeof e.raw.to?(t.to=e.raw.to,r.to=e.raw.to):(t.to=e.raw.to.toISOString(),r.to=e.raw.to.toISOString(!0)),t.value=De(r.from,r.to,this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay),t.from===this.state.from&&t.to===this.state.to||this.setState(t)},this.onTimeZoneChange=e=>{this.setState({timeZone:e})},this.onRefresh=()=>{this.setState({value:De(this.state.from,this.state.to,this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay)})},this.addActivationHandler(this._onActivate.bind(this))}_onActivate(){if(!this.state.timeZone){const e=this.getTimeZoneSource();e!==this&&this._subs.add(e.subscribeToState(((t,r)=>{void 0!==t.timeZone&&t.timeZone!==r.timeZone&&this.setState({value:De(this.state.from,this.state.to,e.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay)})})))}return this.state.weekStart&&(0,l.setWeekStart)(this.state.weekStart),()=>{this.state.weekStart&&(0,l.setWeekStart)(u.config.bootData.user.weekStart)}}getTimeZoneSource(){if(!this.parent||!this.parent.parent)return this;const e=ce(this.parent.parent,(e=>{if(e.state.$timeRange&&e.state.$timeRange.state.timeZone)return e.state.$timeRange}));return e||this}getTimeZone(){if(this.state.timeZone)return this.state.timeZone;const e=this.getTimeZoneSource();return e!==this?e.state.timeZone:(0,l.getTimeZone)()}getUrlState(){const e={from:this.state.from,to:this.state.to};return this.state.timeZone&&(e.timezone=this.state.timeZone),e}updateFromUrl(e){var t,r,n;if(!e.to&&!e.from)return;const a={},i=Te(e.from);i&&(a.from=i);const o=Te(e.to);o&&(a.to=o),"string"==typeof e.timezone&&(a.timeZone=""!==e.timezone?e.timezone:void 0),a.value=De(null!=(t=a.from)?t:this.state.from,null!=(r=a.to)?r:this.state.to,null!=(n=a.timeZone)?n:this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay),this.setState(a)}}const Ne=new class extends ee{constructor(e){super(((e,t)=>{for(var r in t||(t={}))xe.call(t,r)&&_e(e,r,t[r]);if(Se)for(var r of Se(t))Oe.call(t,r)&&_e(e,r,t[r]);return e})({data:Ee},e))}getResultsStream(){const e={origin:this,data:this.state.data};return(0,k.of)(e)}},Me=new Le;const Ve=new class extends ee{constructor(){super({variables:[]})}getByName(e){}isVariableLoadingOrWaitingToUpdate(e){return!1}};function $e(e){var t;return null!=(t=ce(e,(e=>e.state.$timeRange)))?t:Me}class ze extends l.BusEventWithPayload{}function Fe(e){return"object"==typeof e&&"formatter"in e}ze.type="scene-variable-changed-value";let Be,Ue={};function He(e){const t=Ue[e];return t||(Ue[e]=(0,he.property)(e))}class qe{constructor(e,t){this.state={name:e,value:t,type:"scopedvar"}}getValue(e){let{value:t}=this.state,r=t.value;return r=e?He(e)(t.value):t.value,"string"===r||"number"===r||"boolean"===r?r:String(r)}getValueText(){const{value:e}=this.state;return null!=e.text?String(e.text):String(e)}}const We=new l.Registry((()=>[{id:ve.$m.Lucene,name:"Lucene",description:"Values are lucene escaped and multi-valued variables generate an OR expression",formatter:e=>{if("string"==typeof e)return Ge(e);if(Array.isArray(e)){if(0===e.length)return"__empty__";return"("+(0,he.map)(e,(e=>'"'+Ge(e)+'"')).join(" OR ")+")"}return Ge(`${e}`)}},{id:ve.$m.Raw,name:"raw",description:"Keep value as is",formatter:e=>String(e)},{id:ve.$m.Regex,name:"Regex",description:"Values are regex escaped and multi-valued variables generate a (<value>|<value>) expression",formatter:e=>{if("string"==typeof e)return(0,l.escapeRegex)(e);if(Array.isArray(e)){const t=e.map((e=>"string"==typeof e?(0,l.escapeRegex)(e):(0,l.escapeRegex)(String(e))));return 1===t.length?t[0]:"("+t.join("|")+")"}return(0,l.escapeRegex)(`${e}`)}},{id:ve.$m.Pipe,name:"Pipe",description:"Values are separated by | character",formatter:e=>"string"==typeof e?e:Array.isArray(e)?e.join("|"):`${e}`},{id:ve.$m.Distributed,name:"Distributed",description:"Multiple values are formatted like variable=value",formatter:(e,t,r)=>"string"==typeof e?e:Array.isArray(e)?(e=(0,he.map)(e,((e,t)=>0!==t?r.state.name+"="+e:e))).join(","):`${e}`},{id:ve.$m.CSV,name:"Csv",description:"Comma-separated values",formatter:e=>"string"==typeof e?e:(0,he.isArray)(e)?e.join(","):String(e)},{id:ve.$m.HTML,name:"HTML",description:"HTML escaping of values",formatter:e=>"string"==typeof e?l.textUtil.escapeHtml(e):(0,he.isArray)(e)?l.textUtil.escapeHtml(e.join(", ")):l.textUtil.escapeHtml(String(e))},{id:ve.$m.JSON,name:"JSON",description:"JSON stringify value",formatter:e=>"string"==typeof e?e:JSON.stringify(e)},{id:ve.$m.PercentEncode,name:"Percent encode",description:"Useful for URL escaping values",formatter:e=>(0,he.isArray)(e)?Qe("{"+e.join(",")+"}"):Qe(e)},{id:ve.$m.SingleQuote,name:"Single quote",description:"Single quoted values",formatter:e=>{const t=new RegExp("'","g");if((0,he.isArray)(e))return(0,he.map)(e,(e=>`'${(0,he.replace)(e,t,"\\'")}'`)).join(",");let r="string"==typeof e?e:String(e);return`'${(0,he.replace)(r,t,"\\'")}'`}},{id:ve.$m.DoubleQuote,name:"Double quote",description:"Double quoted values",formatter:e=>{const t=new RegExp('"',"g");if((0,he.isArray)(e))return(0,he.map)(e,(e=>`"${(0,he.replace)(e,t,'\\"')}"`)).join(",");let r="string"==typeof e?e:String(e);return`"${(0,he.replace)(r,t,'\\"')}"`}},{id:ve.$m.SQLString,name:"SQL string",description:"SQL string quoting and commas for use in IN statements and other scenarios",formatter:Ze},{id:ve.$m.Date,name:"Date",description:"Format date in different ways",formatter:(e,t)=>{var r;let n=NaN;if("number"==typeof e?n=e:"string"==typeof e&&(n=parseInt(e,10)),isNaN(n))return"NaN";const a=null!=(r=t[0])?r:"iso";switch(a){case"ms":return String(e);case"seconds":return`${Math.round(n/1e3)}`;case"iso":return(0,l.dateTime)(n).toISOString();default:return(t||[]).length>1?(0,l.dateTime)(n).format(t.join(":")):(0,l.dateTime)(n).format(a)}}},{id:ve.$m.Glob,name:"Glob",description:"Format multi-valued variables using glob syntax, example {value1,value2}",formatter:e=>(0,he.isArray)(e)&&e.length>1?"{"+e.join(",")+"}":String(e)},{id:ve.$m.Text,name:"Text",description:"Format variables in their text representation. Example in multi-variable scenario A + B + C.",formatter:(e,t,r)=>r.getValueText?r.getValueText():String(e)},{id:ve.$m.QueryParam,name:"Query parameter",description:"Format variables as URL parameters. Example in multi-variable scenario A + B + C => var-foo=A&var-foo=B&var-foo=C.",formatter:(e,t,r)=>Array.isArray(e)?e.map((e=>Ke(r.state.name,e))).join("&"):Ke(r.state.name,e)},{id:ve.$m.UriEncode,name:"Percent encode as URI",description:"Useful for URL escaping values, taking into URI syntax characters",formatter:e=>(0,he.isArray)(e)?Xe("{"+e.join(",")+"}"):Xe(e)}]));function Ge(e){return!1===isNaN(+e)?e:e.replace(/([\!\*\+\-\=<>\s\&\|\(\)\[\]\{\}\^\~\?\:\\/"])/g,"\\$1")}function Qe(e){return"object"==typeof e&&(e=String(e)),Je(encodeURIComponent(e))}const Xe=e=>Je(encodeURI(String(e))),Je=e=>e.replace(/[!'()*]/g,(e=>"%"+e.charCodeAt(0).toString(16).toUpperCase()));function Ke(e,t){return`var-${e}=${Qe(t)}`}const Ye={"'":"''",'"':'\\"'};function Ze(e){const t=new RegExp("'|\"","g");if((0,he.isArray)(e))return(0,he.map)(e,(e=>`'${(0,he.replace)(e,t,(e=>{var t;return null!=(t=Ye[e])?t:""}))}'`)).join(",");let r="string"==typeof e?e:String(e);return`'${(0,he.replace)(r,t,(e=>{var t;return null!=(t=Ye[e])?t:""}))}'`}const et="All",tt="$__all",rt="$__auto",nt=/\$(\w+)|\[\[(\w+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::([^\}]+))?}/g,at="__searchFilter";function it(e,t){const r=t.state.$variables;if(!r)return t.parent?it(e,t.parent):null;const n=r.getByName(e);return n||(t.parent?it(e,t.parent):null)}function ot(e,t,r,n,a){return t?(nt.lastIndex=0,t.replace(nt,((t,i,o,s,l,u,c)=>{const d=i||o||l,p=s||c||n,h=function(e,t,r,n){if(r&&r.hasOwnProperty(e)){const t=r[e];if(t)return function(e,t){return Be?(Be.state.name=e,Be.state.value=t):Be=new qe(e,t),Be}(e,t)}const a=it(e,n);if(a)return a;const i=Ct.get(e);if(i)return new i(e,n,t,r);return null}(d,t,r,e);if(!h)return a&&a.push({match:t,variableName:d,fieldPath:u,format:p,value:t,found:!1}),t;const f=function(e,t,r,n){if(null==r)return"";if(Fe(r))return ot(e,r.formatter(n));Array.isArray(r)||"object"!=typeof r||(r=`${r}`);if("function"==typeof n)return n(r,{name:t.state.name,type:t.state.type,multi:t.state.isMulti,includeAll:t.state.includeAll});let a=[];n?(a=n.split(":"),a.length>1?(n=a[0],a=a.slice(1)):a=[]):n=ve.$m.Glob;let i=We.getIfExists(n);i||(console.error(`Variable format ${n} not found. Using glob format as fallback.`),i=We.get(ve.$m.Glob));return i.formatter(r,a,t)}(e,h,h.getValue(u),p);return a&&a.push({match:t,variableName:d,fieldPath:u,format:p,value:f,found:f!==t}),f}))):null!=t?t:""}function st(e){return void 0!==e.useState}function lt(e){return"enrichDataRequest"in e}function ut(e){return"isDataLayer"in e}function ct(e){var t;return null!=(t=ce(e,(e=>e.state.$data)))?t:Ne}function dt(e,t,r,n){if(t(e))return e;let a=null;return e.forEachChild((e=>{if(e===r)return;let n=dt(e,t);n&&(a=n)})),a||(n&&e.parent?dt(e.parent,t,e,!0):null)}function pt(e,t){return dt(e,t,void 0,!0)}new WeakMap;class ht{constructor(e){this._value=e}formatter(){return this._value}}class ft{constructor(e,t){this.state={name:e,type:"time_macro"},this._sceneObject=t}getValue(){const e=$e(this._sceneObject);return"__from"===this.state.name?e.state.value.from.valueOf():e.state.value.to.valueOf()}getValueText(){const e=$e(this._sceneObject);return"__from"===this.state.name?(0,l.dateTimeFormat)(e.state.value.from,{timeZone:e.getTimeZone()}):(0,l.dateTimeFormat)(e.state.value.to,{timeZone:e.getTimeZone()})}}class mt{constructor(e,t,r){this.state={name:e,type:"time_macro",match:r},this._sceneObject=t}getValue(){var e;const t=ct(this._sceneObject);if(t){const r=null==(e=t.state.data)?void 0:e.request;return r?"__interval_ms"===this.state.name?r.intervalMs:r.interval:this.state.match}return this.state.match}}function gt(e,t={}){if(e.state.$variables)for(const r of e.state.$variables.state.variables)r.state.skipUrlSync||t[r.state.name]||(t[r.state.name]=r);return e.parent&&gt(e.parent,t),t}var yt=Object.defineProperty,vt=Object.defineProperties,bt=Object.getOwnPropertyDescriptors,wt=Object.getOwnPropertySymbols,St=Object.prototype.hasOwnProperty,xt=Object.prototype.propertyIsEnumerable,Ot=(e,t,r)=>t in e?yt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function _t(e,t,r){return new Proxy({},{get:(n,a)=>{return"name"===a?e.name:"displayName"===a?(0,l.getFieldDisplayName)(e,t,r):"labels"===a||"formattedLabels"===a?e.labels?(i=((e,t)=>{for(var r in t||(t={}))St.call(t,r)&&Ot(e,r,t[r]);if(wt)for(var r of wt(t))xt.call(t,r)&&Ot(e,r,t[r]);return e})({},e.labels),o={__values:Object.values(e.labels).sort().join(", "),toString:()=>(0,l.formatLabels)(e.labels,"",!0)},vt(i,bt(o))):"":void 0;var i,o}})}const Et=(0,l.getDisplayProcessor)();class kt{constructor(e){this._urlQueryParams=e}formatter(e){if(!e)return this._urlQueryParams;const t=e.split(":");if("exclude"===t[0]&&t.length>1){const e=new URLSearchParams(this._urlQueryParams);for(const r of t[1].split(","))e.delete(r);return`?${e}`}if("include"===t[0]&&t.length>1){const e=new URLSearchParams(this._urlQueryParams),r=t[1].split(",");for(const t of e.keys())r.includes(t)||e.delete(t);return`?${e}`}return this._urlQueryParams}}const Ct=new Map([[l.DataLinkBuiltInVars.includeVars,class{constructor(e,t){this.state={name:e,type:"url_variable"},this._sceneObject=t}getValue(){const e=gt(this._sceneObject),t=We.get(ve.$m.QueryParam),r=[];for(const n of Object.keys(e)){const a=e[n],i=a.getValue();i&&(Fe(i)?r.push(i.formatter(ve.$m.QueryParam)):r.push(t.formatter(i,[],a)))}return new ht(r.join("&"))}getValueText(){return""}}],[l.DataLinkBuiltInVars.keepTime,class{constructor(e,t){this.state={name:e,type:"url_variable"},this._sceneObject=t}getValue(){var e;const t=null==(e=$e(this._sceneObject).urlSync)?void 0:e.getUrlState();return new ht(l.urlUtil.toUrlParams(t))}getValueText(){return""}}],["__value",class{constructor(e,t,r,n){this._match=r,this._scopedVars=n,this.state={name:e,type:"__value"}}getValue(e){var t,r;const n=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!n)return this._match;const{frame:a,rowIndex:i,field:o,calculatedValue:s}=n.value;if(s)switch(e){case"numeric":case"raw":return s.numeric;case"time":return"";default:return(0,l.formattedValueToString)(s)}if(null==i)return this._match;if("time"===e){const e=a.fields.find((e=>e.type===l.FieldType.time));return e?e.values.get(i):void 0}if(!o)return this._match;const u=o.values.get(i);if("raw"===e)return u;const c=(null!=(r=o.display)?r:Et)(u);return"numeric"===e?c.numeric:(0,l.formattedValueToString)(c)}getValueText(){return""}}],["__data",class{constructor(e,t,r,n){this._match=r,this._scopedVars=n,this.state={name:e,type:"__data"}}getValue(e){var t,r;const n=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!n||!e)return this._match;const{frame:a,rowIndex:i}=n.value;if(void 0===i||void 0===e)return this._match;const o={name:a.name,refId:a.refId,fields:(0,l.getFieldDisplayValuesProxy)({frame:a,rowIndex:i})};return null!=(r=He(e)(o))?r:""}getValueText(){return""}}],["__series",class{constructor(e,t,r,n){this._match=r,this._scopedVars=n,this.state={name:e,type:"__series"}}getValue(e){var t;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r||!e)return this._match;if("name"!==e)return this._match;const{frame:n,frameIndex:a}=r.value;return(0,l.getFrameDisplayName)(n,a)}getValueText(){return""}}],["__field",class{constructor(e,t,r,n){this._match=r,this._scopedVars=n,this.state={name:e,type:"__field"}}getValue(e){var t,r;const n=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!n||!e)return this._match;if(void 0===e||""===e)return this._match;const{frame:a,field:i,data:o}=n.value,s=_t(i,a,o);return null!=(r=He(e)(s))?r:""}getValueText(){return""}}],["__url",class{constructor(e,t){this.state={name:e,type:"url_macro"}}getValue(e){var t;const r=u.locationService.getLocation(),n=null!=(t=u.config.appSubUrl)?t:"";switch(null!=e?e:""){case"params":return new kt(r.search);case"path":return n+r.pathname;default:return n+r.pathname+r.search}}getValueText(){return""}}],["__from",ft],["__to",ft],["__timezone",class{constructor(e,t){this.state={name:e,type:"time_macro"},this._sceneObject=t}getValue(){const e=$e(this._sceneObject).getTimeZone();return"browser"===e?Intl.DateTimeFormat().resolvedOptions().timeZone:e}getValueText(){return this.getValue()}}],["__user",class{constructor(e,t){this.state={name:e,type:"user_macro"}}getValue(e){const t=u.config.bootData.user;switch(e){case"login":return t.login;case"email":return t.email;default:return String(t.id)}}getValueText(){return""}}],["__org",class{constructor(e,t){this.state={name:e,type:"org_macro"}}getValue(e){const t=u.config.bootData.user;return"name"===e?t.orgName:String(t.orgId)}getValueText(){return""}}],["__interval",mt],["__interval_ms",mt]]);const Tt={getVariables:function(e){var t;return null!=(t=ce(e,(e=>e.state.$variables)))?t:Ve},getData:ct,getTimeRange:$e,getLayout:function(e){const t=ce(e,(e=>function(e){return"isDraggable"in e}(e)?e:void 0));return t||null},getDataLayers:function(e,t=!1){let r=e,n=[];for(;r;){const e=r.state.$data;if(e){if(ut(e)?n=n.concat(e):e.state.$data&&ut(e.state.$data)&&(n=n.concat(e.state.$data)),t&&n.length>0)break;r=r.parent}else r=r.parent}return n},interpolate:function(e,t,r,n,a){return""===t||null==t?"":ot(e,t,r,n,a)},lookupVariable:it,hasVariableDependencyInLoadingState:function(e){if(!e.variableDependency)return!1;for(const t of e.variableDependency.getNames()){const r=it(t,e);if(!r)continue;if(r.parent.isVariableLoadingOrWaitingToUpdate(r))return!0}return!1},findByKey:function(e,t){const r=pt(e,(e=>e.state.key===t));if(!r)throw new Error("Unable to find scene with key "+t);return r},findByKeyAndType:function(e,t,r){const n=pt(e,(e=>e.state.key===t));if(!n)throw new Error("Unable to find scene with key "+t);if(!(n instanceof r))throw new Error(`Found scene object with key ${t} does not match type ${r.name}`);return n},findObject:pt,findAllObjects:function e(t,r){const n=[];return t.forEachChild((t=>{r(t)&&n.push(t),n.push(...e(t,r))})),n},getAncestor:function(e,t){let r=e;for(;r;){if(r instanceof t)return r;r=r.parent}if(!r)throw new Error("Unable to find parent of type "+t.name);return r},getQueryController:function(e){let t=e;for(;t;){if(t.state.$behaviors)for(const e of t.state.$behaviors)if("isQueryController"in e)return e;t=t.parent}}};async function Dt(e,t){if(null==e?void 0:e.uid){const t=pe.get(e.uid);if(t)return t}return e&&e.query?e:await(0,u.getDataSourceSrv)().get(e,t)}function Pt(e,t,...r){let n=!1;"undefined"!=typeof window&&(n="true"===localStorage.getItem("grafana.debug.scenes"))}class Rt{constructor(e,t){this._sceneObject=e,this._options=t,this._dependencies=new Set,this._isWaitingForVariables=!1,this.scanCount=0,this._statePaths=t.statePaths}hasDependencyOn(e){return this.getNames().has(e)}variableUpdateCompleted(e,t){const r=this.getNames();let n=!1;(r.has(e.state.name)||r.has(l.DataLinkBuiltInVars.includeVars))&&t&&(n=!0),Pt(0,0,e.state.name,this._isWaitingForVariables),this._options.onAnyVariableChanged&&this._options.onAnyVariableChanged(e),this._options.onVariableUpdateCompleted&&(this._isWaitingForVariables||n)&&this._options.onVariableUpdateCompleted(),n&&(this._options.onReferencedVariableValueChanged&&this._options.onReferencedVariableValueChanged(e),this._options.onReferencedVariableValueChanged||this._options.onVariableUpdateCompleted||this._sceneObject.forceRender())}hasDependencyInLoadingState(){return Tt.hasVariableDependencyInLoadingState(this._sceneObject)?(this._isWaitingForVariables=!0,!0):(this._isWaitingForVariables=!1,!1)}getNames(){const e=this._state,t=this._state=this._sceneObject.state;if(!e)return this.scanStateForDependencies(this._state),this._dependencies;if(t!==e)if(this._statePaths){for(const r of this._statePaths)if("*"===r||t[r]!==e[r]){this.scanStateForDependencies(t);break}}else this.scanStateForDependencies(t);return this._dependencies}setVariableNames(e){this._options.variableNames=e,this.scanStateForDependencies(this._state)}setPaths(e){this._statePaths=e}scanStateForDependencies(e){if(this._dependencies.clear(),this.scanCount+=1,this._options.variableNames)for(const e of this._options.variableNames)this._dependencies.add(e);if(this._statePaths)for(const t of this._statePaths){if("*"===t){this.extractVariablesFrom(e);break}{const r=e[t];r&&this.extractVariablesFrom(r)}}}extractVariablesFrom(e){nt.lastIndex=0;const t=("string"!=typeof e?Bn(e):e).matchAll(nt);if(t)for(const e of t){const[,t,r,,n]=e,a=t||r||n;this._dependencies.add(a)}}}class At{constructor(){this._values=new Map}recordCurrentDependencyValuesForSceneObject(e){if(this.clearValues(),e.variableDependency)for(const t of e.variableDependency.getNames()){const r=Tt.lookupVariable(t,e);r&&this._values.set(r.state.name,r.getValue())}}cloneAndRecordCurrentValuesForSceneObject(e){const t=new At;return t.recordCurrentDependencyValuesForSceneObject(e),t}clearValues(){this._values.clear()}hasValues(){return!!this._values}recordCurrentValue(e){this._values.set(e.state.name,e.getValue())}hasRecordedValue(e){return this._values.has(e.state.name)}hasValueChanged(e){if(this._values.has(e.state.name)){if(!Fn(this._values.get(e.state.name),e.getValue()))return!0}return!1}hasDependenciesChanged(e){if(!this._values)return!1;if(!e.variableDependency)return!1;for(const t of e.variableDependency.getNames()){const r=Tt.lookupVariable(t,e);if(!r)continue;const n=r.state.name;if(r&&this._values.has(n)){if(!Fn(this._values.get(n),r.getValue()))return!0}}return!1}}function jt(e){return"object"==typeof e&&"getExtraQueries"in e}var It=Object.defineProperty,Lt=Object.defineProperties,Nt=Object.getOwnPropertyDescriptors,Mt=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,$t=Object.prototype.propertyIsEnumerable,zt=(e,t,r)=>t in e?It(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Ft=(e,t)=>(0,k.of)(t),Bt=e=>t=>t.pipe((0,k.mergeMap)((([t,...r])=>{const n=r.flatMap((r=>{var n,a;return null!=(a=null==(n=e.get(r.request.requestId))?void 0:n(t,r))?a:(0,k.of)(r)}));return(0,k.forkJoin)([(0,k.of)(t),...n])})),(0,k.map)((([e,...t])=>{var r,n,a;return n=((e,t)=>{for(var r in t||(t={}))Vt.call(t,r)&&zt(e,r,t[r]);if(Mt)for(var r of Mt(t))$t.call(t,r)&&zt(e,r,t[r]);return e})({},e),a={series:[...e.series,...t.flatMap((e=>e.series))],annotations:[...null!=(r=e.annotations)?r:[],...t.flatMap((e=>{var t;return null!=(t=e.annotations)?t:[]}))]},Lt(n,Nt(a))})));var Ut=Object.defineProperty,Ht=Object.defineProperties,qt=Object.getOwnPropertyDescriptors,Wt=Object.getOwnPropertySymbols,Gt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable,Xt=(e,t,r)=>t in e?Ut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Jt=(e,t)=>{for(var r in t||(t={}))Gt.call(t,r)&&Xt(e,r,t[r]);if(Wt)for(var r of Wt(t))Qt.call(t,r)&&Xt(e,r,t[r]);return e},Kt=(e,t)=>Ht(e,qt(t));function Yt(e){const t=e.getRoot();return lt(t)?t.enrichDataRequest(e):null}let Zt,er=new Set;function tr(e){return t=>{const r=Tt.getQueryController(e.origin);return r?new k.Observable((n=>{e.cancel||(e.cancel=()=>n.complete()),r.queryStarted(e);let a=!1;const i=t.subscribe({next:t=>{a||t.state===be.Loading||(a=!0,r.queryCompleted(e)),n.next(t)},error:e=>n.error(e),complete:()=>{n.complete()}});return()=>{i.unsubscribe(),a||r.queryCompleted(e)}})):t}}const rr=new Set;function nr(e,t){e.setState(t)}class ar extends ee{constructor(){super(...arguments),this._urlSync=new ir(this)}validateAndUpdate(){return this.getValueOptions({}).pipe((0,k.map)((e=>(this.updateValueGivenNewOptions(e),{}))))}onCancel(){this.setStateHelper({loading:!1});const e=this.parent;null==e||e.cancel(this)}updateValueGivenNewOptions(e){const{value:t,text:r}=this.state,n=this.getStateUpdateGivenNewOptions(e,t,r);this.interceptStateUpdateAfterValidation(n),this.setStateHelper(n),(n.value!==t||n.text!==r||this.hasAllValue())&&this.publishEvent(new ze(this),!0)}getStateUpdateGivenNewOptions(e,t,r){const n={options:e,loading:!1,value:t,text:r};if(0===e.length)return this.state.defaultToAll||this.state.includeAll?(n.value=tt,n.text=et):this.state.isMulti?(n.value=[],n.text=[]):(n.value="",n.text=""),n;if(this.hasAllValue())return this.state.includeAll||(n.value=e[0].value,n.text=e[0].label,this.state.isMulti&&(n.value=[n.value],n.text=[n.text])),n;if(this.state.isMulti){const a=(Array.isArray(t)?t:[t]).filter((t=>e.find((e=>e.value===t)))),i=a.map((t=>e.find((e=>e.value===t)).label));if(0===a.length){const t=this.getDefaultMultiState(e);n.value=t.value,n.text=t.text}else(0,he.isEqual)(a,t)||(n.value=a),(0,he.isEqual)(i,r)||(n.text=i);return n}let a=function(e,t,r){let n;for(const a of r){if(a.value===e)return a;a.label===t&&(n=a)}return n}(t,r,e);return a?(n.text=a.label,n.value=a.value):this.state.defaultToAll?(n.value=tt,n.text=et):(n.value=e[0].value,n.text=e[0].label),n}interceptStateUpdateAfterValidation(e){const t=e.value===tt&&this.state.text===et;this.skipNextValidation&&e.value!==this.state.value&&!t&&(e.value=this.state.value,e.text=this.state.text),this.skipNextValidation=!1}getValue(){return this.hasAllValue()?this.state.allValue?new or(this.state.allValue,this):this.state.options.map((e=>e.value)):this.state.value}getValueText(){return this.hasAllValue()?et:Array.isArray(this.state.text)?this.state.text.join(" + "):String(this.state.text)}hasAllValue(){const e=this.state.value;return e===tt||Array.isArray(e)&&e[0]===tt}getDefaultMultiState(e){return this.state.defaultToAll?{value:[tt],text:[et]}:e.length>0?{value:[e[0].value],text:[e[0].label]}:{value:[],text:[]}}changeValueTo(e,t){if(e!==this.state.value||t!==this.state.text){if(t||(t=Array.isArray(e)?e.map((e=>this.findLabelTextForValue(e))):this.findLabelTextForValue(e)),Array.isArray(e)){if(0===e.length){const r=this.getDefaultMultiState(this.state.options);e=r.value,t=r.text}e[e.length-1]===tt?(e=[tt],t=[et]):e[0]===tt&&e.length>1&&(e.shift(),Array.isArray(t)&&t.shift())}(0,he.isEqual)(e,this.state.value)&&(0,he.isEqual)(t,this.state.text)||(this.setStateHelper({value:e,text:t,loading:!1}),this.publishEvent(new ze(this),!0))}}findLabelTextForValue(e){if(e===tt)return et;const t=this.state.options.find((t=>t.value===e));if(t)return t.label;const r=this.state.options.find((t=>t.label===e));return r?r.label:e}setStateHelper(e){nr(this,e)}getOptionsForSelect(){let e=this.state.options;if(this.state.includeAll&&(e=[{value:tt,label:et},...e]),!Array.isArray(this.state.value)){e.find((e=>e.value===this.state.value))||(e=[{value:this.state.value,label:String(this.state.text)},...e])}return e}}class ir{constructor(e){this._sceneObject=e}getKey(){return`var-${this._sceneObject.state.name}`}getKeys(){return this._sceneObject.state.skipUrlSync?[]:[this.getKey()]}getUrlState(){if(this._sceneObject.state.skipUrlSync)return{};let e=null,t=this._sceneObject.state.value;return e=Array.isArray(t)?t.map(String):this._sceneObject.state.isMulti?[String(t)]:String(t),{[this.getKey()]:e}}updateFromUrl(e){let t=e[this.getKey()];null!=t&&(this._sceneObject.state.includeAll&&(t=function(e){if((0,he.isArray)(e)&&e[0]===et)return[tt];if(e===et)return tt;return e}(t)),this._sceneObject.state.allValue&&this._sceneObject.state.allValue===t&&(t=tt),this._sceneObject.isActive||(this._sceneObject.skipNextValidation=!0),this._sceneObject.changeValueTo(t))}}class or{constructor(e,t){this._value=e,this._variable=t}formatter(e){return e===ve.$m.Text?et:e===ve.$m.PercentEncode?We.get(ve.$m.PercentEncode).formatter(this._value,[],this._variable):e===ve.$m.QueryParam?We.get(ve.$m.QueryParam).formatter(et,[],this._variable):this._value}}var sr=r(2007);const lr={RadioButton:{container:"data-testid radio-button"},Breadcrumbs:{breadcrumb:e=>`data-testid ${e} breadcrumb`},TimePicker:{openButton:"data-testid TimePicker Open Button",overlayContent:"data-testid TimePicker Overlay Content",fromField:"data-testid Time Range from field",toField:"data-testid Time Range to field",applyTimeRange:"data-testid TimePicker submit button",copyTimeRange:"data-testid TimePicker copy button",pasteTimeRange:"data-testid TimePicker paste button",calendar:{label:"data-testid Time Range calendar",openButton:"data-testid Open time range calendar",closeButton:"data-testid Close time range Calendar"},absoluteTimeRangeTitle:"data-testid-absolute-time-range-narrow"},DataSourcePermissions:{form:()=>'form[name="addPermission"]',roleType:"Role to add new permission to",rolePicker:"Built-in role picker",permissionLevel:"Permission Level"},DateTimePicker:{input:"data-testid date-time-input"},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:"Test Data Query scenario select container",scenarioSelect:"Test Data Query scenario select",max:"TestData max",min:"TestData min",noise:"TestData noise",seriesCount:"TestData series count",spread:"TestData spread",startValue:"TestData start value",drop:"TestData drop values"}},DataSourceHttpSettings:{urlInput:"data-testid Datasource HTTP settings url"},Jaeger:{traceIDInput:"Trace ID"},Prometheus:{configPage:{connectionSettings:"Data source connection URL",manageAlerts:"prometheus-alerts-manager",scrapeInterval:"data-testid scrape interval",queryTimeout:"data-testid query timeout",defaultEditor:"data-testid default editor",disableMetricLookup:"disable-metric-lookup",prometheusType:"data-testid prometheus type",prometheusVersion:"data-testid prometheus version",cacheLevel:"data-testid cache level",incrementalQuerying:"prometheus-incremental-querying",queryOverlapWindow:"data-testid query overlap window",disableRecordingRules:"disable-recording-rules",customQueryParameters:"data-testid custom query parameters",httpMethod:"data-testid http method",exemplarsAddButton:"data-testid Add exemplar config button",internalLinkSwitch:"data-testid Internal link switch",codeModeMetricNamesSuggestionLimit:"data-testid code mode metric names suggestion limit"},queryEditor:{explain:"data-testid prometheus explain switch wrapper",editorToggle:"data-testid QueryEditorModeToggle",options:"data-testid prometheus options",legend:"data-testid prometheus legend wrapper",format:"data-testid prometheus format",step:"prometheus-step",type:"data-testid prometheus type",exemplars:"prometheus-exemplars",builder:{metricSelect:"data-testid metric select",hints:"data-testid prometheus hints",metricsExplorer:"data-testid metrics explorer",queryAdvisor:"data-testid query advisor"},code:{queryField:"data-testid prometheus query field",metricsCountInfo:"data-testid metrics count disclaimer",metricsBrowser:{openButton:"data-testid open metrics browser",selectMetric:"data-testid select a metric",seriesLimit:"data-testid series limit",metricList:"data-testid metric list",labelNamesFilter:"data-testid label names filter",labelValuesFilter:"data-testid label values filter",useQuery:"data-testid use query",useAsRateQuery:"data-testid use as rate query",validateSelector:"data-testid validate selector",clear:"data-testid clear"}}},exemplarMarker:"data-testid Exemplar marker",variableQueryEditor:{queryType:"data-testid query type",labelnames:{metricRegex:"data-testid label names metric regex"},labelValues:{labelSelect:"data-testid label values label select"},metricNames:{metricRegex:"data-testid metric names metric regex"},varQueryResult:"data-testid variable query result",seriesQuery:"data-testid prometheus series query",classicQuery:"data-testid prometheus classic query"},annotations:{minStep:"prometheus-annotation-min-step",title:"data-testid prometheus annotation title",tags:"data-testid prometheus annotation tags",text:"data-testid prometheus annotation text",seriesValueAsTimestamp:"data-testid prometheus annotation series value as timestamp"}}},Menu:{MenuComponent:e=>`${e} menu`,MenuGroup:e=>`${e} menu group`,MenuItem:e=>`${e} menu item`,SubMenu:{container:"data-testid SubMenu container",icon:"data-testid SubMenu icon"}},Panels:{Panel:{title:e=>`data-testid Panel header ${e}`,content:"data-testid panel content",headerItems:e=>`data-testid Panel header item ${e}`,menuItems:e=>`data-testid Panel menu item ${e}`,menu:e=>`data-testid Panel menu ${e}`,containerByTitle:e=>`${e} panel`,headerCornerInfo:e=>`Panel header ${e}`,status:e=>`data-testid Panel status ${e}`,loadingBar:()=>"Panel loading bar",HoverWidget:{container:"data-testid hover-header-container",dragIcon:"data-testid drag-icon"},PanelDataErrorMessage:"data-testid Panel data error message"},Visualization:{Graph:{container:"Graph container",VisualizationTab:{legendSection:"Legend section"},Legend:{legendItemAlias:e=>`gpl alias ${e}`,showLegendSwitch:"gpl show legend"},xAxis:{labels:()=>"div.flot-x-axis > div.flot-tick-label"}},BarGauge:{value:"Bar gauge value",valueV2:"data-testid Bar gauge value"},PieChart:{svgSlice:"data testid Pie Chart Slice"},Text:{container:()=>".markdown-html"},Table:{header:"table header",footer:"table-footer",body:"data-testid table body"}}},VizLegend:{seriesName:e=>`data-testid VizLegend series ${e}`},Drawer:{General:{title:e=>`Drawer title ${e}`,expand:"Drawer expand",contract:"Drawer contract",close:"data-testid Drawer close",rcContentWrapper:()=>".rc-drawer-content-wrapper",subtitle:"data-testid drawer subtitle"},DashboardSaveDrawer:{saveButton:"data-testid Save dashboard drawer button",saveAsButton:"data-testid Save as dashboard drawer button",saveAsTitleInput:"Save dashboard title field"}},PanelEditor:{General:{content:"data-testid Panel editor content"},OptionsPane:{content:"data-testid Panel editor option pane content",select:"Panel editor option pane select",fieldLabel:e=>`${e} field property editor`,fieldInput:e=>`data-testid Panel editor option pane field input ${e}`},DataPane:{content:"data-testid Panel editor data pane content"},applyButton:"data-testid Apply changes and go back to dashboard",toggleVizPicker:"data-testid toggle-viz-picker",toggleVizOptions:"data-testid toggle-viz-options",toggleTableView:"data-testid toggle-table-view",showZoomField:"Map controls Show zoom control field property editor",showAttributionField:"Map controls Show attribution field property editor",showScaleField:"Map controls Show scale field property editor",showMeasureField:"Map controls Show measure tools field property editor",showDebugField:"Map controls Show debug field property editor",measureButton:"show measure tools"},PanelInspector:{Data:{content:"Panel inspector Data content"},Stats:{content:"Panel inspector Stats content"},Json:{content:"data-testid Panel inspector Json content"},Query:{content:"Panel inspector Query content",refreshButton:"Panel inspector Query refresh button",jsonObjectKeys:()=>".json-formatter-key"}},Tab:{title:e=>`data-testid Tab ${e}`,active:()=>'[class*="-activeTabStyle"]'},RefreshPicker:{runButton:"RefreshPicker run button",intervalButton:"RefreshPicker interval button",runButtonV2:"data-testid RefreshPicker run button",intervalButtonV2:"data-testid RefreshPicker interval button"},QueryTab:{content:"Query editor tab content",queryInspectorButton:"Query inspector button",queryHistoryButton:"data-testid query-history-button",addQuery:"data-testid query-tab-add-query",queryGroupTopSection:"data-testid query group top section",addExpression:"data-testid query-tab-add-expression"},QueryHistory:{queryText:"Query text"},QueryEditorRows:{rows:"Query editor row"},QueryEditorRow:{actionButton:e=>`data-testid ${e}`,title:e=>`Query editor row title ${e}`,container:e=>`Query editor row ${e}`},AlertTab:{content:"data-testid Alert editor tab content"},AlertRules:{groupToggle:"data-testid group-collapse-toggle",toggle:"data-testid collapse-toggle",expandedContent:"data-testid expanded-content",previewButton:"data-testid alert-rule preview-button",ruleNameField:"data-testid alert-rule name-field",newFolderButton:"data-testid alert-rule new-folder-button",newFolderNameField:"data-testid alert-rule name-folder-name-field",newFolderNameCreateButton:"data-testid alert-rule name-folder-name-create-button",newEvaluationGroupButton:"data-testid alert-rule new-evaluation-group-button",newEvaluationGroupName:"data-testid alert-rule new-evaluation-group-name",newEvaluationGroupInterval:"data-testid alert-rule new-evaluation-group-interval",newEvaluationGroupCreate:"data-testid alert-rule new-evaluation-group-create-button"},Alert:{alert:e=>`Alert ${e}`,alertV2:e=>`data-testid Alert ${e}`},TransformTab:{content:"data-testid Transform editor tab content",newTransform:e=>`data-testid New transform ${e}`,transformationEditor:e=>`data-testid Transformation editor ${e}`,transformationEditorDebugger:e=>`data-testid Transformation editor debugger ${e}`},Transforms:{card:e=>`data-testid New transform ${e}`,disableTransformationButton:"data-testid Disable transformation button",Reduce:{modeLabel:"data-testid Transform mode label",calculationsLabel:"data-testid Transform calculations label"},SpatialOperations:{actionLabel:"root Action field property editor",locationLabel:"root Location Mode field property editor",location:{autoOption:"Auto location option",coords:{option:"Coords location option",latitudeFieldLabel:"root Latitude field field property editor",longitudeFieldLabel:"root Longitude field field property editor"},geohash:{option:"Geohash location option",geohashFieldLabel:"root Geohash field field property editor"},lookup:{option:"Lookup location option",lookupFieldLabel:"root Lookup field field property editor",gazetteerFieldLabel:"root Gazetteer field property editor"}}},searchInput:"data-testid search transformations",noTransformationsMessage:"data-testid no transformations message",addTransformationButton:"data-testid add transformation button",removeAllTransformationsButton:"data-testid remove all transformations button"},NavBar:{Configuration:{button:"Configuration"},Toggle:{button:"data-testid Toggle menu"},Reporting:{button:"Reporting"}},NavMenu:{Menu:"data-testid navigation mega-menu",item:"data-testid Nav menu item"},NavToolbar:{container:"data-testid Nav toolbar",shareDashboard:"data-testid Share dashboard",markAsFavorite:"data-testid Mark as favorite",editDashboard:{editButton:"data-testid Edit dashboard button",saveButton:"data-testid Save dashboard button",exitButton:"data-testid Exit edit mode button",settingsButton:"data-testid Dashboard settings",addRowButton:"data-testid Add row button",addLibraryPanelButton:"data-testid Add a panel from the panel library button",addVisualizationButton:"data-testid Add new visualization menu item",pastePanelButton:"data-testid Paste panel button",discardChangesButton:"data-testid Discard changes button",discardLibraryPanelButton:"data-testid Discard library panel button",unlinkLibraryPanelButton:"data-testid Unlink library panel button",saveLibraryPanelButton:"data-testid Save library panel button",backToDashboardButton:"data-testid Back to dashboard button"}},PageToolbar:{container:()=>".page-toolbar",item:e=>`${e}`,itemButton:e=>`data-testid ${e}`},QueryEditorToolbarItem:{button:e=>`QueryEditor toolbar item button ${e}`},BackButton:{backArrow:"data-testid Go Back"},OptionsGroup:{group:e=>e?`data-testid Options group ${e}`:"data-testid Options group",toggle:e=>e?`data-testid Options group ${e} toggle`:"data-testid Options group toggle"},PluginVisualization:{item:e=>`Plugin visualization item ${e}`,current:()=>'[class*="-currentVisualizationItem"]'},Select:{option:"data-testid Select option",toggleAllOptions:"data-testid toggle all options",input:()=>'input[id*="time-options-input"]',singleValue:()=>'div[class*="-singleValue"]'},FieldConfigEditor:{content:"Field config editor content"},OverridesConfigEditor:{content:"Field overrides editor content"},FolderPicker:{container:"Folder picker select container",containerV2:"data-testid Folder picker select container",input:"data-testid folder-picker-input"},ReadonlyFolderPicker:{container:"data-testid Readonly folder picker select container"},DataSourcePicker:{container:"data-testid Data source picker select container",input:()=>'input[id="data-source-picker"]',inputV2:"data-testid Select a data source",dataSourceList:"data-testid Data source list dropdown",advancedModal:{dataSourceList:"data-testid Data source list",builtInDataSourceList:"data-testid Built in data source list"}},TimeZonePicker:{container:"Time zone picker select container",containerV2:"data-testid Time zone picker select container",changeTimeSettingsButton:"data-testid Time zone picker Change time settings button"},WeekStartPicker:{container:"Choose starting day of the week",containerV2:"data-testid Choose starting day of the week",placeholder:"Choose starting day of the week"},TraceViewer:{spanBar:"data-testid SpanBar--wrapper"},QueryField:{container:"data-testid Query field"},QueryBuilder:{queryPatterns:"data-testid Query patterns",labelSelect:"data-testid Select label",inputSelect:"data-testid Select label-input",valueSelect:"data-testid Select value",matchOperatorSelect:"data-testid Select match operator"},ValuePicker:{button:e=>`data-testid Value picker button ${e}`,select:e=>`data-testid Value picker select ${e}`},Search:{section:"Search section",sectionV2:"data-testid Search section",items:"Search items",itemsV2:"data-testid Search items",cards:"data-testid Search cards",collapseFolder:e=>`data-testid Collapse folder ${e}`,expandFolder:e=>`data-testid Expand folder ${e}`,dashboardItem:e=>`${lr.Search.dashboardItems} ${e}`,dashboardCard:e=>`data-testid Search card ${e}`,folderHeader:e=>`data-testid Folder header ${e}`,folderContent:e=>`data-testid Folder content ${e}`,dashboardItems:"data-testid Dashboard search item"},DashboardLinks:{container:"data-testid Dashboard link container",dropDown:"data-testid Dashboard link dropdown",link:"data-testid Dashboard link"},LoadingIndicator:{icon:"data-testid Loading indicator"},CallToActionCard:{button:e=>`Call to action button ${e}`,buttonV2:e=>`data-testid Call to action button ${e}`},DataLinksContextMenu:{singleLink:"data-testid Data link"},CodeEditor:{container:"data-testid Code editor container"},ReactMonacoEditor:{editorLazy:"data-testid ReactMonacoEditor editorLazy"},DashboardImportPage:{textarea:"data-testid-import-dashboard-textarea",submit:"data-testid-load-dashboard"},ImportDashboardForm:{name:"data-testid-import-dashboard-title",submit:"data-testid-import-dashboard-submit"},PanelAlertTabContent:{content:"data-testid Unified alert editor tab content"},VisualizationPreview:{card:e=>`data-testid suggestion-${e}`},ColorSwatch:{name:"data-testid-colorswatch"},DashboardRow:{title:e=>`data-testid dashboard-row-title-${e}`},UserProfile:{profileSaveButton:"data-testid-user-profile-save",preferencesSaveButton:"data-testid-shared-prefs-save",orgsTable:"data-testid-user-orgs-table",sessionsTable:"data-testid-user-sessions-table",extensionPointTabs:"data-testid-extension-point-tabs",extensionPointTab:e=>`data-testid-extension-point-tab-${e}`},FileUpload:{inputField:"data-testid-file-upload-input-field",fileNameSpan:"data-testid-file-upload-file-name"},DebugOverlay:{wrapper:"debug-overlay"},OrgRolePicker:{input:"Role"},AnalyticsToolbarButton:{button:"Dashboard insights"},Variables:{variableOption:"data-testid variable-option",variableLinkWrapper:"data-testid variable-link-wrapper"},Annotations:{annotationsTypeInput:"data-testid annotations-type-input",annotationsChoosePanelInput:"data-testid choose-panels-input",editor:{testButton:"data-testid annotations-test-button",resultContainer:"data-testid annotations-query-result-container"}},Tooltip:{container:"data-testid tooltip"},ReturnToPrevious:{buttonGroup:"data-testid dismissable button group",backButton:"data-testid back",dismissButton:"data-testid dismiss"},SQLQueryEditor:{selectColumn:"data-testid select-column",selectAggregation:"data-testid select-aggregation",selectAlias:"data-testid select-alias",filterConjunction:"data-testid filter-conjunction",filterField:"data-testid filter-field",filterOperator:"data-testid filter-operator",headerTableSelector:"data-testid header-table-selector",headerFilterSwitch:"data-testid header-filter-switch",headerGroupSwitch:"data-testid header-group-switch",headerOrderSwitch:"data-testid header-order-switch",headerPreviewSwitch:"data-testid header-preview-switch"},EntityNotFound:{container:"data-testid entity-not-found"}},ur={pages:{Login:{url:"/login",username:"data-testid Username input field",password:"data-testid Password input field",submit:"data-testid Login button",skip:"data-testid Skip change password button"},Home:{url:"/"},DataSource:{name:"data-testid Data source settings page name input field",delete:"Data source settings page Delete button",readOnly:"data-testid Data source settings page read only message",saveAndTest:"data-testid Data source settings page Save and Test button",alert:"data-testid Data source settings page Alert"},DataSources:{url:"/datasources",dataSources:e=>`Data source list item ${e}`},EditDataSource:{url:e=>`/datasources/edit/${e}`,settings:"Datasource settings page basic settings"},AddDataSource:{url:"/datasources/new",dataSourcePlugins:e=>`Data source plugin item ${e}`,dataSourcePluginsV2:e=>`Add new data source ${e}`},ConfirmModal:{delete:"data-testid Confirm Modal Danger Button"},AddDashboard:{url:"/dashboard/new",itemButton:e=>`data-testid ${e}`,addNewPanel:"data-testid Add new panel",addNewRow:"data-testid Add new row",addNewPanelLibrary:"data-testid Add new panel from panel library"},Dashboard:{url:e=>`/d/${e}`,DashNav:{nav:"Dashboard navigation",navV2:"data-testid Dashboard navigation",publicDashboardTag:"data-testid public dashboard tag",shareButton:"data-testid share-button",scrollContainer:"data-testid Dashboard canvas scroll container",newShareButton:{container:"data-testid new share button",shareLink:"data-testid new share link-button",arrowMenu:"data-testid new share button arrow menu",menu:{container:"data-testid new share button menu",shareInternally:"data-testid new share button share internally",shareExternally:"data-testid new share button share externally",shareSnapshot:"data-testid new share button share snapshot"}},NewExportButton:{container:"data-testid new export button",arrowMenu:"data-testid new export button arrow menu",Menu:{container:"data-testid new export button menu",exportAsJson:"data-testid new export button export as json"}},playlistControls:{prev:"data-testid playlist previous dashboard button",stop:"data-testid playlist stop dashboard button",next:"data-testid playlist next dashboard button"}},Controls:"data-testid dashboard controls",SubMenu:{submenu:"Dashboard submenu",submenuItem:"data-testid template variable",submenuItemLabels:e=>`data-testid Dashboard template variables submenu Label ${e}`,submenuItemValueDropDownValueLinkTexts:e=>`data-testid Dashboard template variables Variable Value DropDown value link text ${e}`,submenuItemValueDropDownDropDown:"Variable options",submenuItemValueDropDownOptionTexts:e=>`data-testid Dashboard template variables Variable Value DropDown option text ${e}`,Annotations:{annotationsWrapper:"data-testid annotation-wrapper",annotationLabel:e=>`data-testid Dashboard annotations submenu Label ${e}`,annotationToggle:e=>`data-testid Dashboard annotations submenu Toggle ${e}`}},Settings:{Actions:{close:"data-testid dashboard-settings-close"},General:{deleteDashBoard:"data-testid Dashboard settings page delete dashboard button",sectionItems:e=>`Dashboard settings section item ${e}`,saveDashBoard:"Dashboard settings aside actions Save button",saveAsDashBoard:"Dashboard settings aside actions Save As button",timezone:"Time zone picker select container",title:"General"},Annotations:{List:{addAnnotationCTA:lr.CallToActionCard.button("Add annotation query"),addAnnotationCTAV2:lr.CallToActionCard.buttonV2("Add annotation query"),annotations:"data-testid list-annotations"},Settings:{name:"data-testid Annotations settings name input"},NewAnnotation:{panelFilterSelect:"data-testid annotations-panel-filter",showInLabel:"data-testid show-in-label",previewInDashboard:"data-testid annotations-preview",delete:"data-testid annotations-delete",apply:"data-testid annotations-apply",enable:"data-testid annotation-enable",hide:"data-testid annotation-hide"}},Variables:{List:{addVariableCTA:lr.CallToActionCard.button("Add variable"),addVariableCTAV2:lr.CallToActionCard.buttonV2("Add variable"),newButton:"Variable editor New variable button",table:"Variable editor Table",tableRowNameFields:e=>`Variable editor Table Name field ${e}`,tableRowDefinitionFields:e=>`Variable editor Table Definition field ${e}`,tableRowArrowUpButtons:e=>`Variable editor Table ArrowUp button ${e}`,tableRowArrowDownButtons:e=>`Variable editor Table ArrowDown button ${e}`,tableRowDuplicateButtons:e=>`Variable editor Table Duplicate button ${e}`,tableRowRemoveButtons:e=>`Variable editor Table Remove button ${e}`},Edit:{General:{headerLink:"Variable editor Header link",modeLabelNew:"Variable editor Header mode New",modeLabelEdit:"Variable editor Header mode Edit",generalNameInput:"Variable editor Form Name field",generalNameInputV2:"data-testid Variable editor Form Name field",generalTypeSelect:"Variable editor Form Type select",generalTypeSelectV2:"data-testid Variable editor Form Type select",generalLabelInput:"Variable editor Form Label field",generalLabelInputV2:"data-testid Variable editor Form Label field",generalHideSelect:"Variable editor Form Hide select",generalHideSelectV2:"data-testid Variable editor Form Hide select",selectionOptionsMultiSwitch:"data-testid Variable editor Form Multi switch",selectionOptionsIncludeAllSwitch:"data-testid Variable editor Form IncludeAll switch",selectionOptionsCustomAllInput:"data-testid Variable editor Form IncludeAll field",previewOfValuesOption:"data-testid Variable editor Preview of Values option",submitButton:"data-testid Variable editor Run Query button",applyButton:"data-testid Variable editor Apply button"},QueryVariable:{queryOptionsDataSourceSelect:lr.DataSourcePicker.inputV2,queryOptionsRefreshSelect:"Variable editor Form Query Refresh select",queryOptionsRefreshSelectV2:"data-testid Variable editor Form Query Refresh select",queryOptionsRegExInput:"Variable editor Form Query RegEx field",queryOptionsRegExInputV2:"data-testid Variable editor Form Query RegEx field",queryOptionsSortSelect:"Variable editor Form Query Sort select",queryOptionsSortSelectV2:"data-testid Variable editor Form Query Sort select",queryOptionsQueryInput:"data-testid Variable editor Form Default Variable Query Editor textarea",valueGroupsTagsEnabledSwitch:"Variable editor Form Query UseTags switch",valueGroupsTagsTagsQueryInput:"Variable editor Form Query TagsQuery field",valueGroupsTagsTagsValuesQueryInput:"Variable editor Form Query TagsValuesQuery field"},ConstantVariable:{constantOptionsQueryInput:"Variable editor Form Constant Query field",constantOptionsQueryInputV2:"data-testid Variable editor Form Constant Query field"},DatasourceVariable:{datasourceSelect:"data-testid datasource variable datasource type"},TextBoxVariable:{textBoxOptionsQueryInput:"Variable editor Form TextBox Query field",textBoxOptionsQueryInputV2:"data-testid Variable editor Form TextBox Query field"},CustomVariable:{customValueInput:"data-testid custom-variable-input"},IntervalVariable:{intervalsValueInput:"data-testid interval variable intervals input",autoEnabledCheckbox:"data-testid interval variable auto value checkbox",stepCountIntervalSelect:"data-testid interval variable step count input",minIntervalInput:"data-testid interval variable mininum interval input"},GroupByVariable:{dataSourceSelect:lr.DataSourcePicker.inputV2,infoText:"data-testid group by variable info text",modeToggle:"data-testid group by variable mode toggle"},AdHocFiltersVariable:{datasourceSelect:lr.DataSourcePicker.inputV2,infoText:"data-testid ad-hoc filters variable info text",modeToggle:"data-testid ad-hoc filters variable mode toggle"}}}},Annotations:{marker:"data-testid annotation-marker"},Rows:{Repeated:{ConfigSection:{warningMessage:"data-testid Repeated rows warning message"}}}},Dashboards:{url:"/dashboards",dashboards:e=>`Dashboard search item ${e}`},SaveDashboardAsModal:{newName:"Save dashboard title field",save:"Save dashboard button"},SaveDashboardModal:{save:"Dashboard settings Save Dashboard Modal Save button",saveVariables:"Dashboard settings Save Dashboard Modal Save variables checkbox",saveTimerange:"Dashboard settings Save Dashboard Modal Save timerange checkbox",saveRefresh:"Dashboard settings Save Dashboard Modal Save refresh checkbox"},SharePanelModal:{linkToRenderedImage:"Link to rendered image"},ShareDashboardModal:{PublicDashboard:{WillBePublicCheckbox:"data-testid public dashboard will be public checkbox",LimitedDSCheckbox:"data-testid public dashboard limited datasources checkbox",CostIncreaseCheckbox:"data-testid public dashboard cost may increase checkbox",PauseSwitch:"data-testid public dashboard pause switch",EnableAnnotationsSwitch:"data-testid public dashboard on off switch for annotations",CreateButton:"data-testid public dashboard create button",DeleteButton:"data-testid public dashboard delete button",CopyUrlInput:"data-testid public dashboard copy url input",CopyUrlButton:"data-testid public dashboard copy url button",SettingsDropdown:"data-testid public dashboard settings dropdown",TemplateVariablesWarningAlert:"data-testid public dashboard disabled template variables alert",UnsupportedDataSourcesWarningAlert:"data-testid public dashboard unsupported data sources alert",NoUpsertPermissionsWarningAlert:"data-testid public dashboard no upsert permissions alert",EnableTimeRangeSwitch:"data-testid public dashboard on off switch for time range",EmailSharingConfiguration:{Container:"data-testid email sharing config container",ShareType:"data-testid public dashboard share type",EmailSharingInput:"data-testid public dashboard email sharing input",EmailSharingInviteButton:"data-testid public dashboard email sharing invite button",EmailSharingList:"data-testid public dashboard email sharing list",DeleteEmail:"data-testid public dashboard delete email button",ReshareLink:"data-testid public dashboard reshare link button"}},SnapshotScene:{url:e=>`/dashboard/snapshot/${e}`,PublishSnapshot:"data-testid publish snapshot button",CopyUrlButton:"data-testid snapshot copy url button",CopyUrlInput:"data-testid snapshot copy url input"}},ShareDashboardDrawer:{ShareInternally:{container:"data-testid share internally drawer container",lockTimeRangeSwitch:"data-testid share internally lock time range switch",shortenUrlSwitch:"data-testid share internally shorten url switch",copyUrlButton:"data-testid share internally copy url button"},ShareExternally:{container:"data-testid share externally drawer container",publicAlert:"data-testid public share alert",emailSharingAlert:"data-testid email share alert",shareTypeSelect:"data-testid share externally share type select",Creation:{PublicShare:{createButton:"data-testid public share dashboard create button",cancelButton:"data-testid public share dashboard cancel button"},EmailShare:{createButton:"data-testid email share dashboard create button",cancelButton:"data-testid email share dashboard cancel button"},willBePublicCheckbox:"data-testid share dashboard will be public checkbox"},Configuration:{enableTimeRangeSwitch:"data-testid share externally enable time range switch",enableAnnotationsSwitch:"data-testid share externally enable annotations switch",copyUrlButton:"data-testid share externally copy url button",revokeAccessButton:"data-testid share externally revoke access button",toggleAccessButton:"data-testid share externally pause or resume access button"}},ShareSnapshot:{url:e=>`/dashboard/snapshot/${e}`,container:"data-testid share snapshot drawer container",publishSnapshot:"data-testid share snapshot publish button",copyUrlButton:"data-testid share snapshot copy url button"}},ExportDashboardDrawer:{ExportAsJson:{container:"data-testid export as json drawer container",codeEditor:"data-testid export as json code editor",exportExternallyToggle:"data-testid export as json externally switch",saveToFileButton:"data-testid export as json save to file button",copyToClipboardButton:"data-testid export as json copy to clipboard button",cancelButton:"data-testid export as json cancel button"}},PublicDashboard:{page:"public-dashboard-page",NotAvailable:{container:"public-dashboard-not-available",title:"public-dashboard-title",pausedDescription:"public-dashboard-paused-description"},footer:"public-dashboard-footer"},PublicDashboardScene:{loadingPage:"public-dashboard-scene-loading-page",page:"public-dashboard-scene-page",controls:"public-dashboard-controls"},RequestViewAccess:{form:"request-view-access-form",recipientInput:"request-view-access-recipient-input",submitButton:"request-view-access-submit-button"},PublicDashboardConfirmAccess:{submitButton:"data-testid confirm-access-submit-button"},Explore:{url:"/explore",General:{container:"data-testid Explore",graph:"Explore Graph",table:"Explore Table",scrollView:"data-testid explorer scroll view"},QueryHistory:{container:"data-testid QueryHistory"}},SoloPanel:{url:e=>`/d-solo/${e}`},PluginsList:{page:"Plugins list page",list:"Plugins list",listItem:"Plugins list item",signatureErrorNotice:"data-testid Unsigned plugins notice"},PluginPage:{page:"Plugin page",signatureInfo:"data-testid Plugin signature info",disabledInfo:"data-testid Plugin disabled info"},PlaylistForm:{name:"Playlist name",interval:"Playlist interval",itemDelete:"data-testid playlist-form-delete-item"},BrowseDashboards:{table:{body:"data-testid browse-dashboards-table",row:e=>`data-testid browse dashboards row ${e}`,checkbox:e=>`data-testid ${e} checkbox`},NewFolderForm:{form:"data-testid new folder form",nameInput:"data-testid new-folder-name-input",createButton:"data-testid new-folder-create-button"}},Search:{url:"/?search=openn",FolderView:{url:"/?search=open&layout=folders"}},PublicDashboards:{ListItem:{linkButton:"public-dashboard-link-button",configButton:"public-dashboard-configuration-button",trashcanButton:"public-dashboard-remove-button",pauseSwitch:"data-testid public dashboard pause switch"}},UserListPage:{tabs:{allUsers:"data-testid all-users-tab",orgUsers:"data-testid org-users-tab",anonUserDevices:"data-testid anon-user-devices-tab",publicDashboardsUsers:"data-testid public-dashboards-users-tab",users:"data-testid users-tab"},org:{url:"/org/users"},admin:{url:"/admin/users"},publicDashboards:{container:"data-testid public-dashboards-users-list"},UserListAdminPage:{container:"data-testid user-list-admin-page"},UsersListPage:{container:"data-testid users-list-page"},UserAnonListPage:{container:"data-testid user-anon-list-page"},UsersListPublicDashboardsPage:{container:"data-testid users-list-public-dashboards-page",DashboardsListModal:{listItem:e=>`data-testid dashboards-list-item-${e}`}}},ProfilePage:{url:"/profile"}},components:lr};var cr=r(6089);const dr=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,pr=1/0,hr=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),fr="eexxaacctt",mr=/\p{P}/gu,gr=(e,t,r)=>e.replace("A-Z",t).replace("a-z",r),yr={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",interBound:"[^A-Za-z\\d]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:pr,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,pr],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,r)=>!0,sort:(e,t,r)=>{let{idx:n,chars:a,terms:i,interLft2:o,interLft1:s,start:l,intraIns:u,interIns:c,cases:d}=e;return n.map(((e,t)=>t)).sort(((e,r)=>a[r]-a[e]||u[e]-u[r]||i[r]+o[r]+.5*s[r]-(i[e]+o[e]+.5*s[e])||c[e]-c[r]||l[e]-l[r]||d[r]-d[e]||dr(t[n[e]],t[n[r]])))}},vr=(e,t)=>0==t?"":1==t?e+"??":t==pr?e+"*?":e+`{0,${t}}?`,br="(?:\\b|_)";function wr(e){e=Object.assign({},yr,e);let{unicode:t,interLft:r,interRgt:n,intraMode:a,intraSlice:i,intraIns:o,intraSub:s,intraTrn:l,intraDel:u,intraContr:c,intraSplit:d,interSplit:p,intraBound:h,interBound:f,intraChars:m}=e;o??=a,s??=a,l??=a,u??=a;let g=e.letters??e.alpha;if(null!=g){let e=g.toLocaleUpperCase(),t=g.toLocaleLowerCase();p=gr(p,e,t),d=gr(d,e,t),f=gr(f,e,t),h=gr(h,e,t),m=gr(m,e,t),c=gr(c,e,t)}let y=t?"u":"";const v='".+?"',b=new RegExp(v,"gi"+y),w=new RegExp(`(?:\\s+|^)-(?:${m}+|${v})`,"gi"+y);let{intraRules:S}=e;null==S&&(S=e=>{let t=yr.intraSlice,r=0,n=0,a=0,c=0;if(/[^\d]/.test(e)){let d=e.length;d<=4?d>=3&&(a=Math.min(l,1),4==d&&(r=Math.min(o,1))):(t=i,r=o,n=s,a=l,c=u)}return{intraSlice:t,intraIns:r,intraSub:n,intraTrn:a,intraDel:c}});let x=!!d,O=new RegExp(d,"g"+y),_=new RegExp(p,"g"+y),E=new RegExp("^"+p+"|"+p+"$","g"+y),k=new RegExp(c,"gi"+y);const C=(e,t=!1)=>{let r=[];e=(e=e.replace(b,(e=>(r.push(e),fr)))).replace(E,""),t||(e=e.toLocaleLowerCase()),x&&(e=e.replace(O,(e=>e[0]+" "+e[1])));let n=0;return e.split(_).filter((e=>""!=e)).map((e=>e===fr?r[n++]:e))},T=/[^\d]+|\d+/g,D=(t,i=0,s=!1)=>{let l=C(t);if(0==l.length)return[];let u,c=Array(l.length).fill("");if(l=l.map(((e,t)=>e.replace(k,(e=>(c[t]=e,""))))),1==a)u=l.map(((e,t)=>{if('"'===e[0])return hr(e.slice(1,-1));let r="";for(let n of e.matchAll(T)){let e=n[0],{intraSlice:a,intraIns:i,intraSub:o,intraTrn:s,intraDel:l}=S(e);if(i+o+s+l==0)r+=e+c[t];else{let[n,u]=a,d=e.slice(0,n),p=e.slice(u),h=e.slice(n,u);1==i&&1==d.length&&d!=h[0]&&(d+="(?!"+d+")");let f=h.length,g=[e];if(o)for(let e=0;e<f;e++)g.push(d+h.slice(0,e)+m+h.slice(e+1)+p);if(s)for(let e=0;e<f-1;e++)h[e]!=h[e+1]&&g.push(d+h.slice(0,e)+h[e+1]+h[e]+h.slice(e+2)+p);if(l)for(let e=0;e<f;e++)g.push(d+h.slice(0,e+1)+"?"+h.slice(e+1)+p);if(i){let e=vr(m,1);for(let t=0;t<f;t++)g.push(d+h.slice(0,t)+e+h.slice(t)+p)}r+="(?:"+g.join("|")+")"+c[t]}}return r}));else{let e=vr(m,o);2==i&&o>0&&(e=")("+e+")("),u=l.map(((t,r)=>'"'===t[0]?hr(t.slice(1,-1)):t.split("").map(((e,t,r)=>(1==o&&0==t&&r.length>1&&e!=r[t+1]&&(e+="(?!"+e+")"),e))).join(e)+c[r]))}let d=2==r?br:"",p=2==n?br:"",h=p+vr(e.interChars,e.interIns)+d;return i>0?s?u=d+"("+u.join(")"+p+"|"+d+"(")+")"+p:(u="("+u.join(")("+h+")(")+")",u="(.??"+d+")"+u+"("+p+".*)"):(u=u.join(h),u=d+u+p),[new RegExp(u,"i"+y),l,c]},P=(e,t,r)=>{let[n]=D(t);if(null==n)return null;let a=[];if(null!=r)for(let t=0;t<r.length;t++){let i=r[t];n.test(e[i])&&a.push(i)}else for(let t=0;t<e.length;t++)n.test(e[t])&&a.push(t);return a};let R=!!h,A=new RegExp(f,y),j=new RegExp(h,y);const I=(t,a,i)=>{let[o,s,l]=D(i,1),u=C(i,!0),[c]=D(i,2),d=s.length,p=Array(d),h=Array(d);for(let e=0;e<d;e++){let t=s[e],r=u[e],n='"'==t[0]?t.slice(1,-1):t+l[e],a='"'==r[0]?r.slice(1,-1):r+l[e];p[e]=n,h[e]=a}let f=t.length,m=Array(f).fill(0),g={idx:Array(f),start:m.slice(),chars:m.slice(),cases:m.slice(),terms:m.slice(),interIns:m.slice(),intraIns:m.slice(),interLft2:m.slice(),interRgt2:m.slice(),interLft1:m.slice(),interRgt1:m.slice(),ranges:Array(f)},v=1==r||1==n,b=0;for(let i=0;i<t.length;i++){let s=a[t[i]],l=s.match(o),u=l.index+l[1].length,f=u,m=!1,w=0,S=0,x=0,O=0,_=0,E=0,k=0,C=0,T=0,D=[];for(let t=0,a=2;t<d;t++,a+=2){let i=l[a].toLocaleLowerCase(),o=p[t],c=h[t],g=o.length,b=i.length,P=i==o;if(l[a]==c&&k++,!P&&l[a+1].length>=g){let e=l[a+1].toLocaleLowerCase().indexOf(o);e>-1&&(D.push(f,b,e,g),f+=L(l,a,e,g),i=o,b=g,P=!0,0==t&&(u=f))}if(v||P){let e=f-1,c=f+b,d=!1,p=!1;if(-1==e||A.test(s[e]))P&&w++,d=!0;else{if(2==r){m=!0;break}if(R&&j.test(s[e]+s[e+1]))P&&S++,d=!0;else if(1==r){let e=l[a+1],r=f+b;if(e.length>=g){let n,c=0,p=!1,h=new RegExp(o,"ig"+y);for(;n=h.exec(e);){c=n.index;let e=r+c,t=e-1;if(-1==t||A.test(s[t])){w++,p=!0;break}if(j.test(s[t]+s[e])){S++,p=!0;break}}p&&(d=!0,D.push(f,b,c,g),f+=L(l,a,c,g),i=o,b=g,P=!0,0==t&&(u=f))}if(!d){m=!0;break}}}if(c==s.length||A.test(s[c]))P&&x++,p=!0;else{if(2==n){m=!0;break}if(R&&j.test(s[c-1]+s[c]))P&&O++,p=!0;else if(1==n){m=!0;break}}P&&(_+=g,d&&p&&E++)}if(b>g&&(T+=b-g),t>0&&(C+=l[a-1].length),!e.intraFilt(o,i,f)){m=!0;break}t<d-1&&(f+=b+l[a+1].length)}if(!m){g.idx[b]=t[i],g.interLft2[b]=w,g.interLft1[b]=S,g.interRgt2[b]=x,g.interRgt1[b]=O,g.chars[b]=_,g.terms[b]=E,g.cases[b]=k,g.interIns[b]=C,g.intraIns[b]=T,g.start[b]=u;let e=s.match(c),r=e.index+e[1].length,n=D.length,a=n>0?0:1/0,o=n-4;for(let t=2;t<e.length;){let n=e[t].length;if(a<=o&&D[a]==r){let n=D[a+1],i=D[a+2],o=D[a+3],s=t,l="";for(let t=0;t<n;s++)l+=e[s],t+=e[s].length;e.splice(t,s-t,l),r+=L(e,t,i,o),a+=4}else r+=n,t++}r=e.index+e[1].length;let l=g.ranges[b]=[],d=r,p=r;for(let t=2;t<e.length;t++){let n=e[t].length;r+=n,t%2==0?p=r:n>0&&(l.push(d,p),d=p=r)}p>d&&l.push(d,p),b++}}if(b<t.length)for(let e in g)g[e]=g[e].slice(0,b);return g},L=(e,t,r,n)=>{let a=e[t]+e[t+1].slice(0,r);return e[t-1]+=a,e[t]=e[t+1].slice(r,r+n),e[t+1]=e[t+1].slice(r+n),a.length};return{search:(...t)=>((t,r,n,a=1e3,i)=>{n=n?!0===n?5:n:0;let o=null,s=null,l=[];r=r.replace(w,(e=>{let t=e.trim().slice(1);return t='"'===t[0]?hr(t.slice(1,-1)):t.replace(mr,""),""!=t&&l.push(t),""}));let u,c=C(r);if(l.length>0){if(u=new RegExp(l.join("|"),"i"+y),0==c.length){let e=[];for(let r=0;r<t.length;r++)u.test(t[r])||e.push(r);return[e,null,null]}}else if(0==c.length)return[null,null,null];if(n>0){let e=C(r);if(e.length>1){let r=e.slice().sort(((e,t)=>t.length-e.length));for(let e=0;e<r.length;e++){if(0==i?.length)return[[],null,null];i=P(t,r[e],i)}if(e.length>n)return[i,null,null];o=xr(e).map((e=>e.join(" "))),s=[];let a=new Set;for(let e=0;e<o.length;e++)if(a.size<i.length){let r=i.filter((e=>!a.has(e))),n=P(t,o[e],r);for(let e=0;e<n.length;e++)a.add(n[e]);s.push(n)}else s.push([])}}null==o&&(o=[r],s=[i?.length>0?i:P(t,r)]);let d=null,p=null;if(l.length>0&&(s=s.map((e=>e.filter((e=>!u.test(t[e])))))),s.reduce(((e,t)=>e+t.length),0)<=a){d={},p=[];for(let r=0;r<s.length;r++){let n=s[r];if(null==n||0==n.length)continue;let a=o[r],i=I(n,t,a),l=e.sort(i,t,a);if(r>0)for(let e=0;e<l.length;e++)l[e]+=p.length;for(let e in i)d[e]=(d[e]??[]).concat(i[e]);p=p.concat(l)}}return[[].concat(...s),d,p]})(...t),split:C,filter:P,info:I,sort:e.sort}}const Sr=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,r="";for(let n in e)e[n].split("").forEach((e=>{r+=e,t.set(e,n)}));let n=new RegExp(`[${r}]`,"g"),a=e=>t.get(e);return e=>{if("string"==typeof e)return e.replace(n,a);let t=Array(e.length);for(let r=0;r<e.length;r++)t[r]=e[r].replace(n,a);return t}})();function xr(e){let t,r,n=(e=e.slice()).length,a=[e.slice()],i=new Array(n).fill(0),o=1;for(;o<n;)i[o]<o?(t=o%2&&i[o],r=e[o],e[o]=e[t],e[t]=r,++i[o],o=1,a.push(e.slice())):(i[o]=0,++o);return a}const Or=(e,t)=>t?`<mark>${e}</mark>`:e,_r=(e,t)=>e+t;function Er(e,t){const r=new wr;let n=e;const a=[],i=1e4;return t&&(n=[{value:tt,label:et},...n]),e=>{if(""===e)return n.length>i?n.slice(0,i):n;if(0===a.length)for(let e=0;e<n.length;e++)a.push(n[e].label);const t=r.filter(a,e),o=[];if(t){for(let e=0;e<t.length;e++)if(o.push(n[t[e]]),o.length>i)return o;return o}return n.length>i?n.slice(0,i):n}}wr.latinize=Sr,wr.permute=e=>xr([...Array(e.length).keys()]).sort(((e,t)=>{for(let r=0;r<e.length;r++)if(e[r]!=t[r])return e[r]-t[r];return 0})).map((t=>t.map((t=>e[t])))),wr.highlight=function(e,t,r=Or,n="",a=_r){n=a(n,r(e.substring(0,t[0]),!1))??n;for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];n=a(n,r(e.substring(o,s),!0))??n,i<t.length-3&&(n=a(n,r(e.substring(t[i+1],t[i+2]),!1))??n)}return n=a(n,r(e.substring(t[t.length-1]),!1))??n};var kr=Object.defineProperty,Cr=Object.defineProperties,Tr=Object.getOwnPropertyDescriptors,Dr=Object.getOwnPropertySymbols,Pr=Object.prototype.hasOwnProperty,Rr=Object.prototype.propertyIsEnumerable,Ar=(e,t,r)=>t in e?kr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const jr=()=>!0;function Ir({model:e}){const{value:t,text:r,key:n,options:a,includeAll:s,isReadOnly:l}=e.useState(),[u,c]=(0,i.useState)(""),[d,p]=(0,i.useState)(!1),h=function(e,t){return{value:e,label:null!=t?t:String(e)}}(t,String(r)),f=(0,i.useMemo)((()=>Er(a,s)),[a,s])(u);return o().createElement(sr.Select,{id:n,isValidNewOption:e=>e.trim().length>0,placeholder:"Select value",width:"auto",disabled:l,value:h,inputValue:u,allowCustomValue:!0,virtualized:!0,filterOption:jr,tabSelectsValue:!1,onInputChange:(t,{action:r})=>"input-change"===r?(c(t),e.onSearchChange&&e.onSearchChange(t),t):t,onOpenMenu:()=>{d&&c(String(r))},onCloseMenu:()=>{c("")},options:f,"data-testid":ur.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${t}`),onChange:t=>{e.changeValueTo(t.value,t.label),d!==t.__isNew__&&p(t.__isNew__)}})}function Lr({model:e}){const{value:t,options:r,key:n,maxVisibleValues:a,noValueOnClear:s,includeAll:l,isReadOnly:u}=e.useState(),c=(0,i.useMemo)((()=>(0,he.isArray)(t)?t:[t]),[t]),[d,p]=(0,i.useState)(c),[h,f]=(0,i.useState)(""),m=(0,i.useMemo)((()=>Er(r,l)),[r,l]);(0,i.useEffect)((()=>{p(c)}),[c]);const g=r.length>0?"Select value":"",y=m(h);return o().createElement(sr.MultiSelect,{id:n,placeholder:g,width:"auto",inputValue:h,disabled:u,value:d,noMultiValueWrap:!0,maxVisibleValues:null!=a?a:5,tabSelectsValue:!1,virtualized:!0,allowCustomValue:!0,options:y,closeMenuOnSelect:!1,components:{Option:Nr},isClearable:!0,hideSelectedOptions:!1,onInputChange:(t,{action:r})=>"input-change"===r?(f(t),e.onSearchChange&&e.onSearchChange(t),t):"input-blur"===r?(f(""),""):h,onBlur:()=>{e.changeValueTo(d)},filterOption:jr,"data-testid":ur.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${d}`),onChange:(t,r)=>{"clear"===r.action&&s&&e.changeValueTo([]),p(t.map((e=>e.value)))}})}const Nr=({children:e,data:t,innerProps:r,innerRef:n,isFocused:a,isSelected:i,renderOptionLabel:s})=>{var l;const u=((e,t)=>{var r={};for(var n in e)Pr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Dr)for(var n of Dr(e))t.indexOf(n)<0&&Rr.call(e,n)&&(r[n]=e[n]);return r})(r,["onMouseMove","onMouseOver"]),c=(0,sr.useTheme2)(),d=(0,sr.getSelectStyles)(c),p=(0,sr.useStyles2)(Mr);return o().createElement("div",(h=((e,t)=>{for(var r in t||(t={}))Pr.call(t,r)&&Ar(e,r,t[r]);if(Dr)for(var r of Dr(t))Rr.call(t,r)&&Ar(e,r,t[r]);return e})({ref:n,className:(0,cr.cx)(d.option,a&&d.optionFocused)},u),f={"data-testid":ur.components.Select.option,title:t.title},Cr(h,Tr(f))),o().createElement("div",{className:p.checkbox},o().createElement(sr.Checkbox,{value:i})),o().createElement("div",{className:d.optionBody,"data-testid":ur.pages.Dashboard.SubMenu.submenuItemValueDropDownOptionTexts(null!=(l=t.label)?l:String(t.value))},o().createElement("span",null,e)));var h,f};Nr.displayName="SelectMenuOptions";const Mr=e=>({checkbox:(0,cr.css)({marginRight:e.spacing(2)})});function Vr(e){return e.state.isMulti?o().createElement(Lr,{model:e}):o().createElement(Ir,{model:e})}class $r{constructor(e){this._sceneObject=e}getKey(){return`var-${this._sceneObject.state.name}`}getKeys(){return this._sceneObject.state.skipUrlSync?[]:[this.getKey()]}getUrlState(){return this._sceneObject.state.skipUrlSync?{}:{[this.getKey()]:zr(this._sceneObject.state.value,this._sceneObject.state.text)}}updateFromUrl(e){let t=e[this.getKey()];if(null!=t){this._sceneObject.isActive||(this._sceneObject.skipNextValidation=!0);const{values:e,texts:n}=(r=t,(r=Array.isArray(r)?r:[r]).reduce(((e,t)=>{const[r,n]=(null!=t?t:"").split(",");return e.values.push(Xn(r)),e.texts.push(Xn(null!=n?n:r)),e}),{values:[],texts:[]}));this._sceneObject.changeValueTo(e,n)}var r}}function zr(e,t){return e=Array.isArray(e)?e:[e],t=Array.isArray(t)?t:[t],e.map(((e,r)=>{if(null==e)return"";e=String(e);let n=t[r];return n=null==n?e:String(n),Jn(e,n)}))}function Fr(e){const t=e.getRoot();return"enrichFiltersRequest"in t?t.enrichFiltersRequest(e):null}var Br=Object.defineProperty,Ur=Object.defineProperties,Hr=Object.getOwnPropertyDescriptors,qr=Object.getOwnPropertySymbols,Wr=Object.prototype.hasOwnProperty,Gr=Object.prototype.propertyIsEnumerable,Qr=(e,t,r)=>t in e?Br(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Xr=(e,t)=>{for(var r in t||(t={}))Wr.call(t,r)&&Qr(e,r,t[r]);if(qr)for(var r of qr(t))Gr.call(t,r)&&Qr(e,r,t[r]);return e};class Jr extends ar{constructor(e){var t;super((t=Xr({isMulti:!0,name:"",value:[],text:[],options:[],datasource:null,baseFilters:[],applyMode:"auto",layout:"horizontal",type:"groupby"},e),Ur(t,Hr({noValueOnClear:!0})))),this.isLazy=!0,this._urlSync=new $r(this),this._getKeys=async e=>{var t,r,n;const a=await(null==(r=(t=this.state).getTagKeysProvider)?void 0:r.call(t,this,null));if(a&&a.replace)return a.values;if(this.state.defaultOptions)return this.state.defaultOptions.concat(null!=(n=null==a?void 0:a.values)?n:[]);if(!e.getTagKeys)return[];const i=Wn(this),o=this.state.baseFilters||[],s=Tt.getTimeRange(this).state.value;let l=await e.getTagKeys(Xr({filters:o,queries:i,timeRange:s},Fr(this)));a&&(l=l.concat(a.values));const u=this.state.tagKeyRegexFilter;return u&&(l=l.filter((e=>e.text.match(u)))),l},this.addActivationHandler((()=>(rr.add(this),()=>rr.delete(this))))}validateAndUpdate(){return this.getValueOptions({}).pipe((0,k.map)((e=>(this._updateValueGivenNewOptions(e),{}))))}_updateValueGivenNewOptions(e){const{value:t,text:r}=this.state,n={options:e,loading:!1,value:null!=t?t:[],text:null!=r?r:[]};this.setState(n)}getValueOptions(e){return this.state.defaultOptions?(0,k.of)(this.state.defaultOptions.map((e=>({label:e.text,value:String(e.value)})))):(this.setState({loading:!0,error:null}),(0,k.from)(Dt(this.state.datasource,{__sceneObject:{text:"__sceneObject",value:this}})).pipe((0,k.mergeMap)((e=>(0,k.from)(this._getKeys(e)).pipe((0,k.take)(1),(0,k.mergeMap)((e=>{const t=e.map((e=>({label:e.text,value:e.value?String(e.value):e.text})));return(0,k.of)(t)})))))))}getDefaultMultiState(e){return{value:[],text:[]}}}Jr.Component=function({model:e}){const{value:t,text:r,key:n,maxVisibleValues:a,noValueOnClear:s,options:l,includeAll:u}=e.useState(),c=(0,i.useMemo)((()=>{const e=(0,he.isArray)(t)?t:[t],n=(0,he.isArray)(r)?r:[r];return e.map(((e,t)=>{var r;return{value:e,label:String(null!=(r=n[t])?r:e)}}))}),[t,r]),[d,p]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(""),[y,v]=(0,i.useState)(c),b=(0,i.useMemo)((()=>Er(l,u)),[l,u]);(0,i.useEffect)((()=>{v(c)}),[c]);const w=b(m);return o().createElement(sr.MultiSelect,{"data-testid":`GroupBySelect-${n}`,id:n,placeholder:"Select value",width:"auto",inputValue:m,value:y,noMultiValueWrap:!0,maxVisibleValues:null!=a?a:5,tabSelectsValue:!1,virtualized:!0,options:w,filterOption:Kr,closeMenuOnSelect:!1,isOpen:h,isClearable:!0,hideSelectedOptions:!1,isLoading:d,components:{Option:Nr},onInputChange:(t,{action:r})=>"input-change"===r?(g(t),e.onSearchChange&&e.onSearchChange(t),t):"input-blur"===r?(g(""),""):m,onBlur:()=>{e.changeValueTo(y.map((e=>e.value)),y.map((e=>e.label)))},onChange:(t,r)=>{"clear"===r.action&&s&&e.changeValueTo([]),v(t)},onOpenMenu:async()=>{p(!0),await(0,k.lastValueFrom)(e.validateAndUpdate()),p(!1),f(!0)},onCloseMenu:()=>{f(!1)}})};const Kr=()=>!0;function Yr(e){return o().createElement(sr.Tooltip,{content:"Cancel query"},o().createElement(sr.Icon,{className:"spin-clockwise",name:"sync",size:"xs",role:"button",onMouseDown:t=>{e.onCancel(t)}}))}function Zr(e){const t=(0,sr.useStyles2)(en),r=(0,sr.useTheme2)(),n="vertical"===e.layout,a=Boolean(e.isLoading)?o().createElement("div",{style:{marginLeft:r.spacing(1),marginTop:"-1px"},"aria-label":ur.components.LoadingIndicator.icon},o().createElement(Yr,{onCancel:t=>{var r;t.preventDefault(),t.stopPropagation(),null==(r=e.onCancel)||r.call(e)}})):null;let i=null;e.error&&(i=o().createElement(sr.Tooltip,{content:e.error,placement:"bottom"},o().createElement(sr.Icon,{className:t.errorIcon,name:"exclamation-triangle"})));let s=null;e.description&&(s=o().createElement(sr.Tooltip,{content:e.description,placement:n?"top":"bottom"},o().createElement(sr.Icon,{className:t.normalIcon,name:"info-circle"})));const l="string"==typeof e.label?ur.pages.Dashboard.SubMenu.submenuItemLabels(e.label):"";let u;return u=n?o().createElement("label",{className:t.verticalLabel,"data-testid":l,htmlFor:e.htmlFor},e.label,s,i,e.icon&&o().createElement(sr.Icon,{name:e.icon,className:t.normalIcon}),a,e.onRemove&&o().createElement(sr.IconButton,{variant:"secondary",size:"xs",name:"times",onClick:e.onRemove,tooltip:"Remove"})):o().createElement("label",{className:t.horizontalLabel,"data-testid":l,htmlFor:e.htmlFor},i,e.icon&&o().createElement(sr.Icon,{name:e.icon,className:t.normalIcon}),e.label,s,a),u}const en=e=>({horizontalLabel:(0,cr.css)({background:e.isDark?e.colors.background.primary:e.colors.background.secondary,display:"flex",alignItems:"center",padding:e.spacing(0,1),fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.bodySmall.fontSize,height:e.spacing(e.components.height.md),lineHeight:e.spacing(e.components.height.md),borderRadius:e.shape.borderRadius(1),border:`1px solid ${e.components.input.borderColor}`,position:"relative",right:-1,whiteSpace:"nowrap",gap:e.spacing(.5)}),verticalLabel:(0,cr.css)({display:"flex",alignItems:"center",fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.bodySmall.fontSize,lineHeight:e.typography.bodySmall.lineHeight,whiteSpace:"nowrap",marginBottom:e.spacing(.5),gap:e.spacing(1)}),errorIcon:(0,cr.css)({color:e.colors.error.text}),normalIcon:(0,cr.css)({color:e.colors.text.secondary})});function tn(e){var t;return{label:null!=(t=e.label)?t:String(e.value),value:e.value}}function rn(e,t){return""!==e?{value:e,label:t||e}:null}const nn=()=>!0;function an({filter:e,model:t}){var r,n;const a=(0,sr.useStyles2)(on),[s,l]=(0,i.useState)([]),[u,c]=(0,i.useState)([]),[d,p]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),[b,w]=(0,i.useState)(""),[S,x]=(0,i.useState)(!1),O=rn(e.key,e.keyLabel),_=rn(e.value,e.valueLabel),E=(0,i.useMemo)((()=>Er(u.map(tn),void 0)),[u])(b),k=o().createElement(sr.Select,{virtualized:!0,allowCustomValue:!0,isValidNewOption:e=>e.trim().length>0,allowCreateWhileLoading:!0,formatCreateLabel:e=>`Use custom value: ${e}`,disabled:t.state.readOnly,className:(0,cr.cx)(a.value,m?a.widthWhenOpen:void 0),width:"auto",value:_,filterOption:nn,placeholder:"Select value",options:E,inputValue:b,onInputChange:(e,{action:t})=>("input-change"===t&&w(e),e),onChange:r=>{t._updateFilter(e,"value",r),S!==r.__isNew__&&x(r.__isNew__)},isOpen:y&&!h,isLoading:h,autoFocus:""!==e.key&&""===e.value,openMenuOnFocus:!0,onOpenMenu:async()=>{var r;f(!0),v(!0);const n=await t._getValuesFor(e);f(!1),c(n),S&&w(null!=(r=null==_?void 0:_.label)?r:"")},onCloseMenu:()=>{v(!1),w("")}}),C=o().createElement(sr.Select,{key:""+(h?"loading":"loaded"),disabled:t.state.readOnly,className:(0,cr.cx)(a.key,m?a.widthWhenOpen:void 0),width:"auto",value:O,placeholder:"Select label",options:s,onChange:r=>t._updateFilter(e,"key",r),autoFocus:""===e.key,isOpen:m&&!d,isLoading:d,onOpenMenu:async()=>{g(!0),p(!0);const r=await t._getKeys(e.key);p(!1),l(r)},onCloseMenu:()=>{g(!1)},onBlur:()=>{""===e.key&&t._removeFilter(e)},openMenuOnFocus:!0});if("vertical"===t.state.layout){if(e.key){const n=o().createElement(Zr,{layout:"vertical",label:null!=(r=e.key)?r:"",onRemove:()=>t._removeFilter(e)});return o().createElement(sr.Field,{label:n,"data-testid":`AdHocFilter-${e.key}`,className:a.field},o().createElement("div",{className:a.wrapper},o().createElement(sr.Select,{className:a.operator,value:e.operator,disabled:t.state.readOnly,options:t._getOperators(),width:"auto",onChange:r=>t._updateFilter(e,"operator",r)}),k))}return o().createElement(sr.Field,{label:"Select label","data-testid":`AdHocFilter-${e.key}`,className:a.field},C)}return o().createElement("div",{className:a.wrapper,"data-testid":`AdHocFilter-${e.key}`},C,o().createElement(sr.Select,{className:a.operator,value:e.operator,disabled:t.state.readOnly,options:t._getOperators(),width:"auto",onChange:r=>t._updateFilter(e,"operator",r)}),k,o().createElement(sr.Button,{variant:"secondary","aria-label":"Remove filter",title:"Remove filter",className:a.removeButton,icon:"times","data-testid":`AdHocFilter-remove-${null!=(n=e.key)?n:""}`,onClick:()=>t._removeFilter(e)}))}const on=e=>({field:(0,cr.css)({marginBottom:0}),wrapper:(0,cr.css)({display:"flex","> *":{"&:not(:first-child)":{marginLeft:-1},"&:first-child":{borderTopRightRadius:0,borderBottomRightRadius:0},"&:last-child":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:first-child):not(:last-child)":{borderRadius:0},position:"relative",zIndex:0,"&:hover":{zIndex:1},"&:focus-within":{zIndex:2}}}),widthWhenOpen:(0,cr.css)({minWidth:e.spacing(16)}),value:(0,cr.css)({flexShrink:1}),key:(0,cr.css)({minWidth:"90px",flexShrink:1}),operator:(0,cr.css)({flexShrink:0}),removeButton:(0,cr.css)({paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5),borderLeft:"none",width:e.spacing(3),marginRight:e.spacing(1),boxSizing:"border-box",position:"relative",left:"1px"})});function sn({model:e,addFilterButtonText:t}){const{_wip:r}=e.useState();return r?o().createElement(an,{filter:r,model:e}):o().createElement(sr.Button,{variant:"secondary",icon:"plus",title:"Add filter","aria-label":"Add filter","data-testid":"AdHocFilter-add",onClick:()=>e._addWip()},t)}class ln{constructor(e){this._variable=e}getKey(){return`var-${this._variable.state.name}`}getKeys(){return[this.getKey()]}getUrlState(){const e=this._variable.state.filters;if(0===e.length)return{[this.getKey()]:[""]};const t=e.filter(_n).map((e=>function(e){return[Jn(e.key,e.keyLabel),e.operator,Jn(e.value,e.valueLabel)]}(e).map(Gn).join("|")));return{[this.getKey()]:t}}updateFromUrl(e){const t=e[this.getKey()];if(null==t)return;const r=function(e){if(Array.isArray(e)){return e.map(un).filter(cn)}const t=un(e);return null===t?[]:[t]}(t);this._variable.setState({filters:r})}}function un(e){if("string"!=typeof e||0===e.length)return null;const[t,r,n,a,i,o]=e.split("|").reduce(((e,t)=>{const[r,n]=t.split(",");return e.push(r,null!=n?n:r),e}),[]).map(Xn);return{key:t,keyLabel:r,operator:n,value:i,valueLabel:o,condition:""}}function cn(e){return null!==e&&"string"==typeof e.key&&"string"==typeof e.value}var dn=Object.defineProperty,pn=Object.defineProperties,hn=Object.getOwnPropertyDescriptors,fn=Object.getOwnPropertySymbols,mn=Object.prototype.hasOwnProperty,gn=Object.prototype.propertyIsEnumerable,yn=(e,t,r)=>t in e?dn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vn=(e,t)=>{for(var r in t||(t={}))mn.call(t,r)&&yn(e,r,t[r]);if(fn)for(var r of fn(t))gn.call(t,r)&&yn(e,r,t[r]);return e},bn=(e,t)=>pn(e,hn(t));class wn extends ee{constructor(e){var t,r;super(vn({type:"adhoc",name:null!=(t=e.name)?t:"Filters",filters:[],datasource:null,applyMode:"auto",filterExpression:null!=(r=e.filterExpression)?r:Sn(e.expressionBuilder,e.filters)},e)),this._scopedVars={__sceneObject:{value:this}},this._dataSourceSrv=(0,u.getDataSourceSrv)(),this._urlSync=new ln(this),"auto"===this.state.applyMode&&function(e){if(e.addActivationHandler((()=>(er.add(e),()=>er.delete(e)))),Zt)return;const t=(0,u.getTemplateSrv)();(null==t?void 0:t.getAdhocFilters)&&(Zt=t.getAdhocFilters,t.getAdhocFilters=function(e){var r;if(0===er.size)return Zt.call(t);const n=(0,u.getDataSourceSrv)().getInstanceSettings(e);if(!n)return[];for(const e of er.values())if((null==(r=e.state.datasource)?void 0:r.uid)===n.uid)return e.state.filters;return[]}.bind(t))}(this)}setState(e){let t=!1;e.filters&&e.filters!==this.state.filters&&!e.filterExpression&&(e.filterExpression=Sn(this.state.expressionBuilder,e.filters),t=e.filterExpression!==this.state.filterExpression),super.setState(e),t&&this.publishEvent(new ze(this),!0)}getValue(){return this.state.filterExpression}_updateFilter(e,t,{value:r,label:n}){if(null==r)return;const{filters:a,_wip:i}=this.state,o=`${t}Label`;if(e===i)return void("value"===t?this.setState({filters:[...a,bn(vn({},i),{[t]:r,[o]:n})],_wip:void 0}):this.setState({_wip:bn(vn({},e),{[t]:r,[o]:n})}));const s=this.state.filters.map((a=>{if(a===e){const i=bn(vn({},a),{[t]:r,[o]:n});return"key"===t&&e[t]!==r&&(i.value="",i.valueLabel=""),i}return a}));this.setState({filters:s})}_removeFilter(e){e!==this.state._wip?this.setState({filters:this.state.filters.filter((t=>t!==e))}):this.setState({_wip:void 0})}async _getKeys(e){var t,r,n;const a=await(null==(r=(t=this.state).getTagKeysProvider)?void 0:r.call(t,this,e));if(a&&a.replace)return a.values.map(On);if(this.state.defaultKeys)return this.state.defaultKeys.map(On);const i=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!i||!i.getTagKeys)return[];const o=this.state.filters.filter((t=>t.key!==e)).concat(null!=(n=this.state.baseFilters)?n:[]),s=Tt.getTimeRange(this).state.value,l=this.state.useQueriesAsFilterForOptions?Wn(this):void 0;let u=await i.getTagKeys(vn({filters:o,queries:l,timeRange:s},Fr(this)));a&&(u=u.concat(a.values));const c=this.state.tagKeyRegexFilter;return c&&(u=u.filter((e=>e.text.match(c)))),u.map(On)}async _getValuesFor(e){var t,r,n;const a=await(null==(r=(t=this.state).getTagValuesProvider)?void 0:r.call(t,this,e));if(a&&a.replace)return En(a.values);const i=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!i||!i.getTagValues)return[];const o=this.state.filters.filter((t=>t.key!==e.key)).concat(null!=(n=this.state.baseFilters)?n:[]),s=Tt.getTimeRange(this).state.value,l=this.state.useQueriesAsFilterForOptions?Wn(this):void 0;let u=await i.getTagValues(vn({key:e.key,filters:o,timeRange:s,queries:l},Fr(this)));return a&&(u=u.concat(a.values)),En(u)}_addWip(){this.setState({_wip:{key:"",keyLabel:"",value:"",valueLabel:"",operator:"=",condition:""}})}_getOperators(){return["=","!=","<",">","=~","!~"].map((e=>({label:e,value:e})))}}function Sn(e,t){return(null!=e?e:Un)(null!=t?t:[])}wn.Component=function({model:e}){const{filters:t,readOnly:r,addFilterButtonText:n}=e.useState(),a=(0,sr.useStyles2)(xn);return o().createElement("div",{className:a.wrapper},t.map(((t,r)=>o().createElement(o().Fragment,{key:r},o().createElement(an,{filter:t,model:e})))),!r&&o().createElement(sn,{model:e,key:"'builder",addFilterButtonText:n}))};const xn=e=>({wrapper:(0,cr.css)({display:"flex",flexWrap:"wrap",alignItems:"flex-end",columnGap:e.spacing(2),rowGap:e.spacing(1)}),filterIcon:(0,cr.css)({color:e.colors.text.secondary,paddingRight:e.spacing(.5)})});function On({text:e,value:t}){return{label:e,value:String(null!=t?t:e)}}function _n(e){return""!==e.key&&""!==e.operator&&""!==e.value}function En(e){const t=[],r=new Map;for(const n of e){const e=n.group;if(e){let a=r.get(e);a||(a=[],r.set(e,a),t.push({label:e,options:a})),a.push(On(n))}else t.push(On(n))}return t}class kn{constructor(){this._resultsMap=new Map,this._prevLayers=[]}getMergedStream(e){(function(e,t){if(e.length!==t.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1})(e,this._prevLayers)&&(this._resultsMap=new Map,this._prevLayers=e);const t=e.map((e=>e.getResultsStream())),r=[];for(const t of e)r.push(t.activate());return(0,k.merge)(t).pipe((0,k.mergeAll)(),(0,k.filter)((e=>this._resultsMap.get(e.origin.state.key)!==e)),(0,k.map)((e=>(this._resultsMap.set(e.origin.state.key,e),this._resultsMap.values()))),(0,k.finalize)((()=>{r.forEach((e=>e()))})))}}var Cn=Object.defineProperty,Tn=Object.defineProperties,Dn=Object.getOwnPropertyDescriptors,Pn=Object.getOwnPropertySymbols,Rn=Object.prototype.hasOwnProperty,An=Object.prototype.propertyIsEnumerable,jn=(e,t,r)=>t in e?Cn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,In=(e,t)=>{for(var r in t||(t={}))Rn.call(t,r)&&jn(e,r,t[r]);if(Pn)for(var r of Pn(t))An.call(t,r)&&jn(e,r,t[r]);return e},Ln=(e,t)=>Tn(e,Dn(t));let Nn=100;function Mn(){return"SQR"+Nn++}class Vn extends ee{constructor(e){super(e),this._dataLayersMerger=new kn,this._variableValueRecorder=new At,this._results=new k.ReplaySubject(1),this._scopedVars={__sceneObject:{value:this,text:"__sceneObject"}},this._variableDependency=new Rt(this,{statePaths:["queries","datasource"],onVariableUpdateCompleted:this.onVariableUpdatesCompleted.bind(this),onAnyVariableChanged:this.onAnyVariableChanged.bind(this)}),this.onDataReceived=e=>{const t=(0,l.preProcessPanelData)(e,this.state.data);this._resultAnnotations=e.annotations;const r=this._combineDataLayers(t);let n=this.state._hasFetchedData;n||t.state===be.Loading||(n=!0),this.setState({data:r,_hasFetchedData:n}),this._results.next({origin:this,data:r})},this.addActivationHandler((()=>this._onActivate()))}getResultsStream(){return this._results}_onActivate(){const e=Tt.getTimeRange(this),t=this.getClosestExtraQueryProviders();for(const e of t)this._subs.add(e.subscribeToState(((t,r)=>{e.shouldRerun(r,t)&&this.runQueries()})));return this.subscribeToTimeRangeChanges(e),this.shouldRunQueriesOnActivate()&&this.runQueries(),this._dataLayersSub||this._handleDataLayers(),()=>this._onDeactivate()}_handleDataLayers(){const e=Tt.getDataLayers(this);0!==e.length&&(this._dataLayersSub=this._dataLayersMerger.getMergedStream(e).subscribe(this._onLayersReceived.bind(this)))}_onLayersReceived(e){var t,r,n,a,i;const o=Tt.getTimeRange(this),{dataLayerFilter:s}=this.state;let u,c=[],d=[];for(const n of e)for(let e of n.data.series)(null==(t=e.meta)?void 0:t.dataTopic)===l.DataTopic.Annotations&&(c=c.concat(e)),(null==(r=e.meta)?void 0:r.dataTopic)===l.DataTopic.AlertStates&&(d=d.concat(e));if((null==s?void 0:s.panelId)&&(c.length>0&&(c=function(e,t){var r;if(!Array.isArray(e)||0===e.length)return e;const n=Array.from({length:e.length},(()=>new Set));let a=0;for(const i of e){for(let e=0;e<i.length;e++){if(n[a].has(e))continue;let o=!0;const s=i.fields.find((e=>"panelId"===e.name)),l=i.fields.find((e=>"source"===e.name));if(l){s&&"dashboard"===l.values[e].type&&(o=s.values[e]===t.panelId);const n=l.values[e].filter;if(n){const e=(null!=(r=n.ids)?r:[]).includes(t.panelId);n.exclude?e&&(o=!1):e||(o=!1)}}o&&n[a].add(e)}a++}const i=[];a=0;for(const t of e){const e=n[a].size,r=[];for(const e of t.fields){const i=[];for(let r=0;r<t.length;r++)n[a].has(r)&&i.push(e.values[r]);r.push(Kt(Jt({},e),{values:i}))}i.push(Kt(Jt({},t),{fields:r,length:e})),a++}return i}(c,s)),d.length>0))for(const e of d){const t=new l.DataFrameView(e);for(const e of t)if(e.panelId===s.panelId){u=e;break}}if(zn(c)&&zn(this._layerAnnotations)&&(0,he.isEqual)(u,null==(n=this.state.data)?void 0:n.alertState))return;this._layerAnnotations=c;const p=this.state.data?this.state.data:Ln(In({},Ee),{timeRange:o.state.value});this.setState({data:Ln(In({},p),{annotations:[...null!=(a=this._resultAnnotations)?a:[],...c],alertState:null!=u?u:null==(i=this.state.data)?void 0:i.alertState})})}onVariableUpdatesCompleted(){this.runQueries()}onAnyVariableChanged(e){this._adhocFiltersVar!==e&&this._groupByVar!==e&&(e instanceof wn&&this._isRelevantAutoVariable(e)&&this.runQueries(),e instanceof Jr&&this._isRelevantAutoVariable(e)&&this.runQueries())}_isRelevantAutoVariable(e){var t,r;const n=null!=(t=this.state.datasource)?t:$n(this.state.queries);return"auto"===e.state.applyMode&&(null==n?void 0:n.uid)===(null==(r=e.state.datasource)?void 0:r.uid)}shouldRunQueriesOnActivate(){return this._variableValueRecorder.hasDependenciesChanged(this)?(Pt(),!0):!this.state.data||!!this._isDataTimeRangeStale(this.state.data)}_isDataTimeRangeStale(e){const t=Tt.getTimeRange(this).state.value,r=e.timeRange;return(t.from.unix()!==r.from.unix()||t.to.unix()!==r.to.unix())&&(Pt(),!0)}_onDeactivate(){var e;this._querySub&&(this._querySub.unsubscribe(),this._querySub=void 0),this._dataLayersSub&&(this._dataLayersSub.unsubscribe(),this._dataLayersSub=void 0),null==(e=this._timeSub)||e.unsubscribe(),this._timeSub=void 0,this._timeSubRange=void 0,this._adhocFiltersVar=void 0,this._groupByVar=void 0,this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this)}setContainerWidth(e){!this._containerWidth&&e>0?(this._containerWidth=e,this.state.maxDataPointsFromWidth&&!this.state.maxDataPoints&&setTimeout((()=>{this.isActive&&!this.state._hasFetchedData&&this.runQueries()}),0)):e>0&&(this._containerWidth=e)}isDataReadyToDisplay(){return Boolean(this.state._hasFetchedData)}subscribeToTimeRangeChanges(e){this._timeSubRange!==e&&(this._timeSub&&this._timeSub.unsubscribe(),this._timeSubRange=e,this._timeSub=e.subscribeToState((()=>{this.runWithTimeRange(e)})))}runQueries(){const e=Tt.getTimeRange(this);this.subscribeToTimeRangeChanges(e),this.runWithTimeRange(e)}getMaxDataPoints(){var e;return this.state.maxDataPoints?this.state.maxDataPoints:this.state.maxDataPointsFromWidth&&null!=(e=this._containerWidth)?e:500}cancelQuery(){var e;null==(e=this._querySub)||e.unsubscribe(),this._dataLayersSub&&(this._dataLayersSub.unsubscribe(),this._dataLayersSub=void 0),this.setState({data:Ln(In({},this.state.data),{state:be.Done})})}async runWithTimeRange(e){var t,r;if(!this.state.maxDataPoints&&this.state.maxDataPointsFromWidth&&!this._containerWidth)return;if(this._dataLayersSub||this._handleDataLayers(),null==(t=this._querySub)||t.unsubscribe(),this._variableDependency.hasDependencyInLoadingState())return Pt(),void this.setState({data:Ln(In({},this.state.data),{state:be.Loading})});const{queries:n}=this.state;if(null==n?void 0:n.length)try{const t=null!=(r=this.state.datasource)?r:$n(n),a=await Dt(t,this._scopedVars);this.findAndSubscribeToAdHocFilters(null==t?void 0:t.uid);const i=(0,u.getRunRequest)(),{primary:o,secondaries:s,processors:l}=this.prepareRequests(e,a);Pt(0,0,this.state.key);let c=i(a,o);if(s.length>0){const e=s.map((e=>i(a,e))),t=Bt(l);c=(0,k.forkJoin)([c,...e]).pipe(t)}c=c.pipe(tr({type:"data",request:o,origin:this,cancel:()=>this.cancelQuery()})),this._querySub=c.subscribe(this.onDataReceived)}catch(e){console.error("PanelQueryRunner Error",e),this.onDataReceived(Ln(In(In({},Ee),this.state.data),{state:be.Error,errors:[(0,u.toDataQueryError)(e)]}))}else this._setNoDataState()}clone(e){var t;const r=super.clone(e);return this._resultAnnotations&&(r._resultAnnotations=this._resultAnnotations.map((e=>In({},e)))),this._layerAnnotations&&(r._layerAnnotations=this._layerAnnotations.map((e=>In({},e)))),r._variableValueRecorder=this._variableValueRecorder.cloneAndRecordCurrentValuesForSceneObject(this),r._containerWidth=this._containerWidth,r._results.next({origin:this,data:null!=(t=this.state.data)?t:Ee}),r}prepareRequests(e,t){var r;const{minInterval:n,queries:a}=this.state;let i=In({app:"scenes",requestId:Mn(),timezone:e.getTimeZone(),range:e.state.value,interval:"1s",intervalMs:1e3,targets:(0,he.cloneDeep)(a),maxDataPoints:this.getMaxDataPoints(),scopedVars:this._scopedVars,startTime:Date.now(),liveStreaming:this.state.liveStreaming,rangeRaw:{from:e.state.from,to:e.state.to},cacheTimeout:this.state.cacheTimeout,queryCachingTTL:this.state.queryCachingTTL},Yt(this));this._adhocFiltersVar&&(i.filters=this._adhocFiltersVar.state.filters.filter(_n)),this._groupByVar&&(i.groupByKeys=this._groupByVar.state.value),i.targets=i.targets.map((e=>{var r;return e.datasource&&(e.datasource.uid===t.uid||(null==(r=t.meta)?void 0:r.mixed)||!u.isExpressionReference||(0,u.isExpressionReference)(e.datasource))||(e.datasource=t.getRef()),e}));const o=n||t.interval,s=l.rangeUtil.calculateInterval(e.state.value,i.maxDataPoints,o);i.scopedVars=Object.assign({},i.scopedVars,{__interval:{text:s.interval,value:s.interval},__interval_ms:{text:s.intervalMs.toString(),value:s.intervalMs}}),i.interval=s.interval,i.intervalMs=s.intervalMs;const c=e.state.value;let d=[],p=new Map;for(const e of null!=(r=this.getClosestExtraQueryProviders())?r:[])for(const{req:t,processor:r}of e.getExtraQueries(i)){const e=Mn();d.push(Ln(In({},t),{requestId:e})),p.set(e,null!=r?r:Ft)}return i.range=c,{primary:i,secondaries:d,processors:p}}_combineDataLayers(e){return this._layerAnnotations&&this._layerAnnotations.length>0&&(e.annotations=(e.annotations||[]).concat(this._layerAnnotations)),this.state.data&&this.state.data.alertState&&(e.alertState=this.state.data.alertState),e}_setNoDataState(){this.state.data!==Ee&&this.setState({data:Ee})}getClosestExtraQueryProviders(){const e=new Map;return this.parent?(ce(this.parent,(t=>(jt(t)&&!e.has(t.constructor)&&e.set(t.constructor,t),t.forEachChild((t=>{jt(t)&&!e.has(t.constructor)&&e.set(t.constructor,t)})),null))),Array.from(e.values())):[]}findAndSubscribeToAdHocFilters(e){const t=function(e){var t;for(const r of er.values())if((null==(t=r.state.datasource)?void 0:t.uid)===e)return r}(e);this._adhocFiltersVar!==t&&(this._adhocFiltersVar=t,this._updateExplicitVariableDependencies());const r=function(e){var t;for(const r of rr.values())if((null==(t=r.state.datasource)?void 0:t.uid)===e)return r}(e);this._groupByVar!==r&&(this._groupByVar=r,this._updateExplicitVariableDependencies())}_updateExplicitVariableDependencies(){const e=[];this._adhocFiltersVar&&e.push(this._adhocFiltersVar.state.name),this._groupByVar&&e.push(this._groupByVar.state.name),this._variableDependency.setVariableNames(e)}}function $n(e){var t,r;return null!=(r=null==(t=e.find((e=>null!==e.datasource)))?void 0:t.datasource)?r:void 0}function zn(e){if(!e)return!0;for(let t=0;t<e.length;t++)if(e[t].length>0)return!1;return!0}function Fn(e,t){return e===t||(0,he.isEqual)(e,t)}function Bn(e){try{return JSON.stringify(e,(()=>{const e=new WeakSet;return(t,r)=>{if("object"==typeof r&&null!==r){if(e.has(r))return;e.add(r)}return r}})())}catch(e){console.error(e)}return""}function Un(e){return e.map((e=>function(e){let t="";t="=~"===e.operator||"!~"===e.operator?Hn(function(e){return e.replace(qn,"\\$&")}(e.value)):Hn(e.value);return`${e.key}${e.operator}"${t}"`}(e))).join(",")}function Hn(e){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/"/g,'\\"')}const qn=/[*+?()|\\.\[\]{}^$]/g;function Wn(e){const t=function(e){const t={};for(const r of e)r.state.key&&(r.state.key in t||(t[r.state.key]=[]),t[r.state.key].push(r));return Object.values(t).flatMap((e=>{const t=e.filter((e=>e.isActive));return 0===t.length&&1===e.length?e:t}))}(Tt.findAllObjects(e.getRoot(),(e=>e instanceof Vn))).filter((t=>{var r,n;return(null==(r=t.state.datasource)?void 0:r.uid)===(null==(n=e.state.datasource)?void 0:n.uid)}));if(0===t.length)return[];const r=[];return t.forEach((e=>{r.push(...e.state.queries)})),r}function Gn(e){return null==e?"":/\|/g[Symbol.replace](e,"__gfp__")}function Qn(e){return null==e?"":/,/g[Symbol.replace](e,"__gfc__")}function Xn(e){return null==e?"":(e=/__gfp__/g[Symbol.replace](e,"|"),e=/__gfc__/g[Symbol.replace](e,","))}function Jn(e,t){return t&&e!==t?[e,t].map(Qn).join(","):Qn(e)}var Kn=(e=>(e[e.never=0]="never",e[e.onDashboardLoad=1]="onDashboardLoad",e[e.onTimeRangeChanged=2]="onTimeRangeChanged",e))(Kn||{});var Yn=(e=>(e[e.Crosshair=1]="Crosshair",e[e.Off=0]="Off",e[e.Tooltip=2]="Tooltip",e))(Yn||{});var Zn=Object.defineProperty,ea=Object.defineProperties,ta=Object.getOwnPropertyDescriptors,ra=Object.getOwnPropertySymbols,na=Object.prototype.hasOwnProperty,aa=Object.prototype.propertyIsEnumerable,ia=(e,t,r)=>t in e?Zn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class oa extends ee{constructor(e){var t,r;super((t=((e,t)=>{for(var r in t||(t={}))na.call(t,r)&&ia(e,r,t[r]);if(ra)for(var r of ra(t))aa.call(t,r)&&ia(e,r,t[r]);return e})({},e),r={sync:e.sync||Yn.Off},ea(t,ta(r)))),this.getEventsBus=e=>{if(!this.parent)throw new Error("EnableCursorSync cannot be used as a standalone scene object");return new sa(this.parent,e)}}getEventsScope(){if(!this.parent)throw new Error("EnableCursorSync cannot be used as a standalone scene object");return this.state.key}}class sa{constructor(e,t){this._source=e,this._eventsOrigin=t}publish(e){e.origin=this,this._eventsOrigin.publishEvent(e,!0)}getStream(e){return new k.Observable((t=>{const r=this._source.subscribeToEvent(e,(e=>{t.next(e)}));return()=>r.unsubscribe()}))}subscribe(e,t){return this.getStream(e).pipe().subscribe(t)}removeAllListeners(){}newScopedBus(e,t){throw new Error("For internal use only")}}var la=function(){};var ua="undefined"!=typeof window;const ca=ua?i.useLayoutEffect:i.useEffect;var da={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const pa=ua&&void 0!==window.ResizeObserver?function(){var e=(0,i.useState)(null),t=e[0],r=e[1],n=(0,i.useState)(da),a=n[0],o=n[1],s=(0,i.useMemo)((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,r=t.x,n=t.y,a=t.width,i=t.height,s=t.top,l=t.left,u=t.bottom,c=t.right;o({x:r,y:n,width:a,height:i,top:s,left:l,bottom:u,right:c})}}))}),[]);return ca((function(){if(t)return s.observe(t),function(){s.disconnect()}}),[t]),[r,a]}:function(){return[la,da]};function ha(e,t){if(t)return t;let r=e.error?e.error.message:void 0;return e.errors&&(r=e.errors.map((e=>e.message)).join(", ")),r}const fa=(0,cr.css)({position:"relative",width:"100%",height:"100%"}),ma=(0,cr.css)({position:"absolute",width:"100%",height:"100%"}),ga=e=>({ok:(0,cr.css)({color:e.colors.success.text}),pending:(0,cr.css)({color:e.colors.warning.text}),alerting:(0,cr.css)({color:e.colors.error.text})});var ya=Object.defineProperty,va=Object.defineProperties,ba=Object.getOwnPropertyDescriptors,wa=Object.getOwnPropertySymbols,Sa=Object.prototype.hasOwnProperty,xa=Object.prototype.propertyIsEnumerable,Oa=(e,t,r)=>t in e?ya(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_a=(e,t)=>{for(var r in t||(t={}))Sa.call(t,r)&&Oa(e,r,t[r]);if(wa)for(var r of wa(t))xa.call(t,r)&&Oa(e,r,t[r]);return e},Ea=(e,t)=>va(e,ba(t));const ka="hideSeriesFrom",Ca=(0,l.isSystemOverrideWithRef)(ka);function Ta(e,t=l.ByNamesMatcherMode.exclude,r){return r=null!=r?r:{id:"custom.hideFrom",value:{viz:!0,legend:!1,tooltip:!1}},{__systemRef:ka,matcher:{id:l.FieldMatcherID.byNames,options:{mode:t,names:e,prefix:t===l.ByNamesMatcherMode.exclude?"All except:":void 0,readOnly:!0}},properties:[Ea(_a({},r),{value:{viz:!0,legend:!1,tooltip:!1}})]}}const Da=(e,t,r=l.ByNamesMatcherMode.exclude)=>{const n=e.properties.find((e=>"custom.hideFrom"===e.id)),a=Pa(e),i=a.findIndex((e=>e===t));return i<0?a.push(t):a.splice(i,1),Ta(a,r,n)},Pa=e=>{var t;const r=null==(t=e.matcher.options)?void 0:t.names;return Array.isArray(r)?[...r]:[]},Ra=(e,t)=>Pa(e).length===Aa(t).length,Aa=(e,t)=>{const r=new Set;for(const n of e)for(const a of n.fields){if(a.type!==l.FieldType.number)continue;const i=(0,l.getFieldDisplayName)(a,n,e);i!==t&&r.add(i)}return Array.from(r)},ja=(e,t)=>{var r;let n=[];for(const a of e){const e=a.properties.find((e=>"custom.hideFrom"===e.id));if(void 0!==e&&!0===(null==(r=e.value)?void 0:r.legend)){const e=l.fieldMatchers.get(a.matcher.id).get(a.matcher.options);for(const r of t)for(const a of r.fields){if(a.type!==l.FieldType.number)continue;const i=(0,l.getFieldDisplayName)(a,r,t);e(a,r,t)&&n.push(i)}}}return n};var Ia=Object.defineProperty,La=Object.defineProperties,Na=Object.getOwnPropertyDescriptors,Ma=Object.getOwnPropertySymbols,Va=Object.prototype.hasOwnProperty,$a=Object.prototype.propertyIsEnumerable,za=(e,t,r)=>t in e?Ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Fa=(e,t)=>{for(var r in t||(t={}))Va.call(t,r)&&za(e,r,t[r]);if(Ma)for(var r of Ma(t))$a.call(t,r)&&za(e,r,t[r]);return e},Ba=(e,t)=>La(e,Na(t));const Ua=(e,t)=>({matcher:{id:l.FieldMatcherID.byName,options:e},properties:[Ha(t)]}),Ha=e=>({id:"color",value:{mode:l.FieldColorModeId.Fixed,fixedColor:e}});var qa=Object.defineProperty,Wa=Object.defineProperties,Ga=Object.getOwnPropertyDescriptors,Qa=Object.getOwnPropertySymbols,Xa=Object.prototype.hasOwnProperty,Ja=Object.prototype.propertyIsEnumerable,Ka=(e,t,r)=>t in e?qa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ya=(e,t)=>{for(var r in t||(t={}))Xa.call(t,r)&&Ka(e,r,t[r]);if(Qa)for(var r of Qa(t))Ja.call(t,r)&&Ka(e,r,t[r]);return e},Za=(e,t)=>Wa(e,Ga(t));class ei extends ee{constructor(e){var t;super(Ya({options:{},fieldConfig:{defaults:{},overrides:[]},title:"Title",pluginId:"timeseries"},e)),this._variableDependency=new Rt(this,{statePaths:["title","options","fieldConfig"]}),this._structureRev=0,this.onTimeRangeChange=e=>{Tt.getTimeRange(this).onTimeRangeChange({raw:{from:(0,l.toUtc)(e.from),to:(0,l.toUtc)(e.to)},from:(0,l.toUtc)(e.from),to:(0,l.toUtc)(e.to)})},this.getTimeRange=e=>{const t=Tt.findObject(this,(e=>e instanceof ri)),r=Tt.getTimeRange(this);if(t instanceof ri&&t.isEnabled)return De(r.state.from,r.state.to,r.getTimeZone(),r.state.fiscalYearStartMonth,r.state.UNSAFE_nowDelay);const n=this.getPlugin();return n&&!n.meta.skipDataQuery&&e&&e.timeRange?e.timeRange:r.state.value},this.onTitleChange=e=>{this.setState({title:e})},this.onDescriptionChange=e=>{this.setState({description:e})},this.onDisplayModeChange=e=>{this.setState({displayMode:e})},this.onOptionsChange=(e,t=!1)=>{const{fieldConfig:r,options:n}=this.state,a=t?e:(0,he.mergeWith)((0,he.cloneDeep)(n),e,((e,t)=>{if((0,he.isArray)(t))return t})),i=(0,l.getPanelOptionsWithDefaults)({plugin:this._plugin,currentOptions:a,currentFieldConfig:r,isAfterPluginChange:!1});this.setState({options:i.options})},this.onFieldConfigChange=(e,t)=>{const{fieldConfig:r,options:n}=this.state,a=t?e:(0,he.merge)((0,he.cloneDeep)(r),e),i=(0,l.getPanelOptionsWithDefaults)({plugin:this._plugin,currentOptions:n,currentFieldConfig:a,isAfterPluginChange:!1});this._dataWithFieldConfig=void 0,this.setState({fieldConfig:i.fieldConfig})},this.interpolate=(e,t,r)=>Tt.interpolate(this,e,t,r),this.getDescription=()=>{this.publishEvent(new H({origin:this,interaction:"panel-description-shown"}),!0);const{description:e}=this.state;if(e){const t=this.interpolate(e);return(0,l.renderMarkdown)(t)}return""},this.onCancelQuery=()=>{var e;this.publishEvent(new H({origin:this,interaction:"panel-cancel-query-clicked"}),!0);const t=Tt.getData(this);null==(e=t.cancelQuery)||e.call(t)},this.onStatusMessageClick=()=>{this.publishEvent(new H({origin:this,interaction:"panel-status-message-clicked"}),!0)},this._onSeriesColorChange=(e,t)=>{this.onFieldConfigChange(((e,t,r)=>{const{overrides:n}=r,a=r.overrides.findIndex((t=>t.matcher.id===l.FieldMatcherID.byName&&t.matcher.options===e));if(a<0)return Ba(Fa({},r),{overrides:[...r.overrides,Ua(e,t)]});const i=Array.from(n),o=i[a],s=o.properties.findIndex((e=>"color"===e.id));if(s<0)return i[a]=Ba(Fa({},o),{properties:[...o.properties,Ha(t)]}),Ba(Fa({},r),{overrides:i});const u=Array.from(o.properties);return u[s]=Ha(t),i[a]=Ba(Fa({},o),{properties:u}),Ba(Fa({},r),{overrides:i})})(e,t,this.state.fieldConfig))},this._onSeriesVisibilityChange=(e,t)=>{this._dataWithFieldConfig&&this.onFieldConfigChange(function(e,t,r,n){const{overrides:a}=r,i=e,o=a.findIndex(Ca);if(o<0){if(t===sr.SeriesVisibilityChangeMode.ToggleSelection){const e=Ta([i,...ja(a,n)]);return Ea(_a({},r),{overrides:[...r.overrides,e]})}const e=Ta(Aa(n,i));return Ea(_a({},r),{overrides:[...r.overrides,e]})}const s=Array.from(a),[l]=s.splice(o,1);if(t===sr.SeriesVisibilityChangeMode.ToggleSelection){let e=Pa(l);const t=ja(s,n);if(t.length>0&&(e=e.filter((e=>t.indexOf(e)<0))),e[0]===i&&1===e.length)return Ea(_a({},r),{overrides:s});const a=Ta([i,...t]);return Ea(_a({},r),{overrides:[...s,a]})}const u=Da(l,i);return Ra(u,n)?Ea(_a({},r),{overrides:s}):Ea(_a({},r),{overrides:[...s,u]})}(e,t,this.state.fieldConfig,this._dataWithFieldConfig.series),!0)},this._onInstanceStateChange=e=>{this._panelContext&&(this._panelContext=Za(Ya({},this._panelContext),{instanceState:e})),this.setState({_pluginInstanceState:e})},this._onToggleLegendSort=e=>{const t=this.state.options.legend;if(!t)return;let r=t.sortDesc,n=t.sortBy;e!==n&&(r=void 0),!1===r?(n=void 0,r=void 0):(r=!r,n=e),this.onOptionsChange(Za(Ya({},this.state.options),{legend:Za(Ya({},t),{sortBy:n,sortDesc:r})}),!0)},this.addActivationHandler((()=>{this._onActivate()})),null==(t=e.menu)||t.addActivationHandler((()=>{this.publishEvent(new H({origin:this,interaction:"panel-menu-shown"}),!0)}))}_onActivate(){this._plugin||this._loadPlugin(this.state.pluginId)}async _loadPlugin(e){const t=function(e){var t;const{getPanelPluginFromCache:r}=(0,u.getPluginImportUtils)();return null!=(t=r(e))?t:E.get(e)}(e);if(t)this._pluginLoaded(t);else{const{importPanelPlugin:t}=(0,u.getPluginImportUtils)();try{const r=await t(e);this._pluginLoaded(r)}catch(t){this._pluginLoaded(function(e){const t=new l.PanelPlugin((()=>null));return t.meta={id:e,name:e,sort:100,type:l.PluginType.panel,module:"",baseUrl:"",info:{author:{name:""},description:"",links:[],logos:{large:"",small:"public/img/grafana_icon.svg"},screenshots:[],updated:"",version:""}},t}(e)),t instanceof Error&&this.setState({_pluginLoadError:t.message})}}}getLegacyPanelId(){const e=parseInt(this.state.key.replace("panel-",""),10);return isNaN(e)?0:e}async _pluginLoaded(e){const{options:t,fieldConfig:r,title:n,pluginVersion:a,_UNSAFE_customMigrationHandler:i}=this.state,o={title:n,options:t,fieldConfig:r,id:this.getLegacyPanelId(),type:e.meta.id,pluginVersion:a},s=this._getPluginVersion(e);null==i||i(o,e),e.onPanelMigration&&s!==this.state.pluginVersion&&(o.options=await e.onPanelMigration(o));const u=(0,l.getPanelOptionsWithDefaults)({plugin:e,currentOptions:o.options,currentFieldConfig:o.fieldConfig,isAfterPluginChange:!1});if(this._plugin=e,this.setState({options:u.options,fieldConfig:u.fieldConfig,pluginVersion:s}),e.meta.skipDataQuery){const e=Tt.getTimeRange(this);this._subs.add(e.subscribeToState((()=>this.forceRender())))}}_getPluginVersion(e){return e&&e.meta.info.version?e.meta.info.version:u.config.buildInfo.version}getPlugin(){return this._plugin}getPanelContext(){return null!=this._panelContext||(this._panelContext=this.buildPanelContext()),this._panelContext}clearFieldConfigCache(){this._dataWithFieldConfig=void 0}applyFieldConfig(e){var t,r,n,a;const i=this._plugin;if(!i||i.meta.skipDataQuery||!e)return Ee;if(this._prevData===e&&this._dataWithFieldConfig)return this._dataWithFieldConfig;const o=i.dataSupport||{alertStates:!1,annotations:!1},s=i.fieldConfigRegistry,c=null!=(r=null==(t=this._dataWithFieldConfig)?void 0:t.series)?r:[],d=(0,l.applyFieldOverrides)({data:e.series,fieldConfig:this.state.fieldConfig,fieldConfigRegistry:s,replaceVariables:this.interpolate,theme:u.config.theme2,timeZone:null==(n=e.request)?void 0:n.timezone});return(0,l.compareArrayValues)(d,c,l.compareDataFrameStructures)||this._structureRev++,this._dataWithFieldConfig=Za(Ya({},e),{structureRev:this._structureRev,series:d}),this._dataWithFieldConfig.annotations&&(this._dataWithFieldConfig.annotations=(0,l.applyFieldOverrides)({data:this._dataWithFieldConfig.annotations,fieldConfig:{defaults:{},overrides:[]},fieldConfigRegistry:s,replaceVariables:this.interpolate,theme:u.config.theme2,timeZone:null==(a=e.request)?void 0:a.timezone})),o.alertStates||(this._dataWithFieldConfig.alertState=void 0),o.annotations||(this._dataWithFieldConfig.annotations=void 0),this._prevData=e,this._dataWithFieldConfig}buildPanelContext(){const e=(t=this,Tt.findObject(t,(e=>e instanceof oa)));var t;const r={eventsScope:e?e.getEventsScope():"__global_",eventBus:e?e.getEventsBus(this):(0,u.getAppEvents)(),app:l.CoreApp.Unknown,sync:()=>e?e.state.sync:l.DashboardCursorSync.Off,onSeriesColorChange:this._onSeriesColorChange,onToggleSeriesVisibility:this._onSeriesVisibilityChange,onToggleLegendSort:this._onToggleLegendSort,onInstanceStateChange:this._onInstanceStateChange};return this.state.extendPanelContext&&this.state.extendPanelContext(this,r),r}}ei.Component=function({model:e}){var t;const{title:r,options:n,fieldConfig:a,_pluginLoadError:s,displayMode:c,hoverHeader:d,hoverHeaderOffset:p,menu:h,headerActions:f,titleItems:m,description:g}=e.useState(),[y,{width:v,height:b}]=pa(),w=(0,i.useMemo)((()=>(0,u.getAppEvents)()),[]),S=(0,i.useCallback)((()=>w.publish(new l.SetPanelAttentionEvent({panelId:e.state.key}))),[e.state.key,w]),x=(0,i.useMemo)((()=>(0,he.debounce)(S,100)),[S]),O=e.getPlugin(),{dragClass:_,dragClassCancel:E}=function(e){var t,r;const n=Tt.getLayout(e),a=null==n?void 0:n.isDraggable();if(!n||!a||function(e,t){let r=e.parent;for(;r&&r!==t;){if("isDraggable"in r.state&&!1===r.state.isDraggable)return!0;r=r.parent}return!1}(e,n))return{dragClass:"",dragClassCancel:""};return{dragClass:null==(t=n.getDragClass)?void 0:t.call(n),dragClassCancel:null==(r=null==n?void 0:n.getDragClassCancel)?void 0:r.call(n)}}(e),k=Tt.getData(e),C=k.useState(),T=e.applyFieldConfig(C.data),D=Tt.getTimeRange(e).getTimeZone(),P=e.getTimeRange(T),R=e.interpolate(r,void 0,"text"),A=(0,sr.useStyles2)(ga);if(!O)return o().createElement("div",null,"Loading plugin panel...");if(!O.panel)return o().createElement("div",null,"Panel plugin has no panel component");const j=O.panel;k&&k.setContainerWidth&&k.setContainerWidth(Math.round(v));let I,L,N=[];m&&(Array.isArray(m)?N=N.concat(m.map((e=>o().createElement(e.Component,{model:e,key:`${e.state.key}`})))):st(m)?N.push(o().createElement(m.Component,{model:m})):N.push(m)),e.state.$timeRange&&N.push(o().createElement(e.state.$timeRange.Component,{model:e.state.$timeRange,key:e.state.key})),T.alertState&&N.push(o().createElement(sr.Tooltip,{content:null!=(t=T.alertState.state)?t:"unknown",key:`alert-states-icon-${e.state.key}`},o().createElement(sr.PanelChrome.TitleItem,{className:(0,cr.cx)({[A.ok]:T.alertState.state===l.AlertState.OK,[A.pending]:T.alertState.state===l.AlertState.Pending,[A.alerting]:T.alertState.state===l.AlertState.Alerting})},o().createElement(sr.Icon,{name:"alerting"===T.alertState.state?"heart-break":"heart",className:"panel-alert-icon",size:"md"})))),h&&(I=o().createElement(h.Component,{model:h})),f&&(L=Array.isArray(f)?o().createElement(o().Fragment,null,f.map((e=>o().createElement(e.Component,{model:e,key:`${e.state.key}`})))):st(f)?o().createElement(f.Component,{model:f}):f);const M=T,V=!k.isDataReadyToDisplay||k.isDataReadyToDisplay(),$=e.getPanelContext(),z=e.getLegacyPanelId();return o().createElement("div",{className:fa},o().createElement("div",{ref:y,className:ma,"data-viz-panel-key":e.state.key},v>0&&b>0&&o().createElement(sr.PanelChrome,{title:R,description:(null==g?void 0:g.trim())?e.getDescription:void 0,loadingState:M.state,statusMessage:ha(M,s),statusMessageOnClick:e.onStatusMessageClick,width:v,height:b,displayMode:c,hoverHeader:d,hoverHeaderOffset:p,titleItems:N,dragClass:_,actions:L,dragClassCancel:E,padding:O.noPadding?"none":"md",menu:I,onCancelQuery:e.onCancelQuery,onFocus:S,onMouseMove:x},((t,i)=>o().createElement(o().Fragment,null,o().createElement(sr.ErrorBoundaryAlert,{dependencies:[O,M]},o().createElement(l.PluginContextProvider,{meta:O.meta},o().createElement(sr.PanelContextProvider,{value:$},V&&o().createElement(j,{id:z,data:M,title:r,timeRange:P,timeZone:D,options:n,fieldConfig:a,transparent:!1,width:t,height:i,renderCounter:0,replaceVariables:e.interpolate,onOptionsChange:e.onOptionsChange,onFieldConfigChange:e.onFieldConfigChange,onChangeTimeRange:e.onTimeRangeChange,eventBus:w})))))))))};const ti=class extends ee{constructor({enabled:e=!1}){super({enabled:e}),this.timerId=void 0,this._activationHandler=()=>(this.state.enabled&&this.enable(),()=>{window.clearInterval(this.timerId),this.timerId=void 0}),this.addActivationHandler(this._activationHandler)}enable(){window.clearInterval(this.timerId),this.timerId=void 0,this.timerId=window.setInterval((()=>{const e=Tt.findAllObjects(this.getRoot(),(e=>e instanceof ei));for(const t of e)t.forceRender()}),ti.REFRESH_RATE),this.setState({enabled:!0})}disable(){window.clearInterval(this.timerId),this.timerId=void 0,this.setState({enabled:!1})}get isEnabled(){return this.state.enabled}};let ri=ti;function ni(e){if("string"==typeof e)return e;if(e){if(e instanceof Error)return e.message;if((0,u.isFetchError)(e)){if(e.data&&e.data.message)return e.data.message;if(e.statusText)return e.statusText}else if(e.hasOwnProperty("message"))return e.message}return JSON.stringify(e)}ri.REFRESH_RATE=100;var ai=Object.defineProperty,ii=Object.getOwnPropertySymbols,oi=Object.prototype.hasOwnProperty,si=Object.prototype.propertyIsEnumerable,li=(e,t,r)=>t in e?ai(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class ui extends ee{constructor(e,t=[]){super(((e,t)=>{for(var r in t||(t={}))oi.call(t,r)&&li(e,r,t[r]);if(ii)for(var r of ii(t))si.call(t,r)&&li(e,r,t[r]);return e})({isEnabled:!0},e)),this._results=new k.ReplaySubject(1),this.isDataLayer=!0,this._variableValueRecorder=new At,this._variableDependency=new Rt(this,{onVariableUpdateCompleted:this.onVariableUpdateCompleted.bind(this)}),this._variableDependency.setPaths(t),this.addActivationHandler((()=>this.onActivate()))}onActivate(){return this.state.isEnabled&&this.onEnable(),this.shouldRunLayerOnActivate()&&this.runLayer(),this.subscribeToState(((e,t)=>{!e.isEnabled&&this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0,this.onDisable(),this._results.next({origin:this,data:Ee}),this.setStateHelper({data:Ee})),e.isEnabled&&!t.isEnabled&&(this.onEnable(),this.runLayer())})),()=>{this.onDeactivate()}}onDeactivate(){this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0),this.onDisable(),this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this)}onVariableUpdateCompleted(){this.runLayer()}cancelQuery(){this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0,this.publishResults(Ee))}publishResults(e){this.state.isEnabled&&(this._results.next({origin:this,data:e}),this.setStateHelper({data:e}))}getResultsStream(){return this._results}shouldRunLayerOnActivate(){return this._variableValueRecorder.hasDependenciesChanged(this)?(Pt(),!0):!this.state.data}setStateHelper(e){nr(this,e)}}function ci({layer:e}){var t,r;const n=`data-layer-${e.state.key}`,{data:a,isEnabled:i}=e.useState(),s=Boolean(a&&a.state===be.Loading);return o().createElement("div",{className:di},o().createElement(Zr,{htmlFor:n,isLoading:s,onCancel:()=>{var t;return null==(t=e.cancelQuery)?void 0:t.call(e)},label:e.state.name,description:e.state.description,error:null==(r=null==(t=e.state.data)?void 0:t.errors)?void 0:r[0].message}),o().createElement(sr.InlineSwitch,{id:n,value:i,onChange:()=>e.setState({isEnabled:!i})}))}(class extends ee{constructor(){super({})}}).Component=function({model:e}){const t=Tt.getDataLayers(e,!0);if(0===t.length)return null;return o().createElement(o().Fragment,null,t.map((e=>o().createElement(e.Component,{model:e,key:e.state.key}))))};const di=(0,cr.css)({display:"flex"});var pi=r(7708),hi=r(4120),fi=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e},mi=r(1693);var gi=r(8353),yi=r(3449),vi="function"==typeof Symbol&&Symbol.observable||"@@observable",bi=r(3887);function wi(e){return 0===e.length?bi.D:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Si=r(2236),xi=r(3004),Oi=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,a=this,i=(n=e)&&n instanceof gi.vU||function(e){return e&&(0,mi.T)(e.next)&&(0,mi.T)(e.error)&&(0,mi.T)(e.complete)}(n)&&(0,yi.Uv)(n)?e:new gi.Ms(e,t,r);return(0,xi.Y)((function(){var e=a,t=e.operator,r=e.source;i.add(t?t.call(i,r):r?a._subscribe(i):a._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=_i(t))((function(t,n){var a=new gi.Ms({next:function(t){try{e(t)}catch(e){n(e),a.unsubscribe()}},error:n,complete:t});r.subscribe(a)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[vi]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return wi(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=_i(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function _i(e){var t;return null!==(t=null!=e?e:Si.$.Promise)&&void 0!==t?t:Promise}var Ei="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";var ki=r(6712);function Ci(e){if(e instanceof Oi)return e;if(null!=e){if(function(e){return(0,mi.T)(e[vi])}(e))return i=e,new Oi((function(e){var t=i[vi]();if((0,mi.T)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(fi(e))return a=e,new Oi((function(e){for(var t=0;t<a.length&&!e.closed;t++)e.next(a[t]);e.complete()}));if(n=e,(0,mi.T)(null==n?void 0:n.then))return r=e,new Oi((function(e){r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,ki.m)}));if(function(e){return Symbol.asyncIterator&&(0,mi.T)(null==e?void 0:e[Symbol.asyncIterator])}(e))return Ti(e);if(function(e){return(0,mi.T)(null==e?void 0:e[Ei])}(e))return t=e,new Oi((function(e){var r,n;try{for(var a=(0,hi.Ju)(t),i=a.next();!i.done;i=a.next()){var o=i.value;if(e.next(o),e.closed)return}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}e.complete()}));if(function(e){return(0,mi.T)(null==e?void 0:e.getReader)}(e))return Ti(function(e){return(0,hi.AQ)(this,arguments,(function(){var t,r,n;return(0,hi.YH)(this,(function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,(0,hi.N3)(t.read())];case 3:return r=a.sent(),n=r.value,r.done?[4,(0,hi.N3)(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,(0,hi.N3)(n)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,r,n,a,i;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function Ti(e){return new Oi((function(t){(function(e,t){var r,n,a,i;return(0,hi.sH)(this,void 0,void 0,(function(){var o,s;return(0,hi.YH)(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),r=(0,hi.xN)(e),l.label=1;case 1:return[4,r.next()];case 2:if((n=l.sent()).done)return[3,4];if(o=n.value,t.next(o),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),a={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}var Di=r(5096);var Pi=r(4370);function Ri(e,t,r){return void 0===r&&(r=1/0),(0,mi.T)(t)?Ri((function(r,n){return(0,pi.T)((function(e,a){return t(r,e,n,a)}))(Ci(e(r,n)))}),r):("number"==typeof t&&(r=t),(0,Di.N)((function(t,n){return function(e,t,r,n,a,i,o,s){var l=[],u=0,c=0,d=!1,p=function(){!d||l.length||u||t.complete()},h=function(e){return u<n?f(e):l.push(e)},f=function(e){i&&t.next(e),u++;var s=!1;Ci(r(e,c++)).subscribe((0,Pi._)(t,(function(e){null==a||a(e),i?h(e):t.next(e)}),(function(){s=!0}),void 0,(function(){if(s)try{u--;for(var e=function(){var e=l.shift();o?function(e,t,r,n,a){void 0===n&&(n=0),void 0===a&&(a=!1);var i=t.schedule((function(){r(),a?e.add(this.schedule(null,n)):this.unsubscribe()}),n);e.add(i)}(t,o,(function(){return f(e)})):f(e)};l.length&&u<n;)e();p()}catch(e){t.error(e)}})))};return e.subscribe((0,Pi._)(t,h,(function(){d=!0,p()}))),function(){null==s||s()}}(t,n,e,r)})))}var Ai=Object.defineProperty,ji=Object.defineProperties,Ii=Object.getOwnPropertyDescriptors,Li=Object.getOwnPropertySymbols,Ni=Object.prototype.hasOwnProperty,Mi=Object.prototype.propertyIsEnumerable,Vi=(e,t,r)=>t in e?Ai(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const $i={prepareAnnotation:e=>{if((0,he.isString)(null==e?void 0:e.query)){const r=e,{query:n}=r,a=((e,t)=>{var r={};for(var n in e)Ni.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Li)for(var n of Li(e))t.indexOf(n)<0&&Mi.call(e,n)&&(r[n]=e[n]);return r})(r,["query"]);return t=((e,t)=>{for(var r in t||(t={}))Ni.call(t,r)&&Vi(e,r,t[r]);if(Li)for(var r of Li(t))Mi.call(t,r)&&Vi(e,r,t[r]);return e})({},a),ji(t,Ii({target:{refId:"annotation_query",query:n},mappings:{}}))}var t;return e},prepareQuery:e=>e.target,processEvents:(e,t)=>function(e,t){return(0,k.of)(e).pipe((e=>e.pipe(Ri((e=>{if(!(null==e?void 0:e.length))return(0,k.of)(void 0);if(1===e.length)return(0,k.of)(e[0]);const t={interpolate:e=>e};return(0,k.of)(e).pipe(l.standardTransformers.mergeTransformer.operator({},t),(0,pi.T)((e=>e[0])))})))),(0,pi.T)((e=>{if(!(null==e?void 0:e.length))return[];let r=!1,n=!1;const a={};for(const t of e.fields){a[(0,l.getFieldDisplayName)(t,e).toLowerCase()]=t}t||(t={});const i=[];for(const o of Fi){const s=t[o.key]||{};if(s.source===l.AnnotationEventFieldSource.Skip)continue;const u={key:o.key,split:o.split};if(s.source===l.AnnotationEventFieldSource.Text)u.text=s.value;else{const t=(s.value||o.key).toLowerCase();u.field=a[t],!u.field&&o.field&&(u.field=o.field(e))}(u.field||u.text)&&(i.push(u),"time"===u.key?r=!0:"text"===u.key&&(n=!0))}if(!r||!n)return console.error("Cannot process annotation fields. No time or text present."),[];const o=[];for(let t=0;t<e.length;t++){const e={type:"default",color:"red"};for(const r of i){let n;if(r.text)n=r.text;else if(r.field&&(n=r.field.values.get(t),void 0!==n&&r.regex)){const e=r.regex.exec(n);e&&(n=e[1]?e[1]:e[0])}null!=n&&(r.split&&"string"==typeof n&&(n=n.split(",")),e[r.key]=n)}o.push(e)}return o})))}(t,e.mappings)};const zi=[{key:"time",field:e=>e.fields.find((e=>e.type===l.FieldType.time)),placeholder:"time, or the first time field"},{key:"timeEnd",help:"When this field is defined, the annotation will be treated as a range"},{key:"title"},{key:"text",field:e=>e.fields.find((e=>e.type===l.FieldType.string)),placeholder:"text, or the first text field"},{key:"tags",split:",",help:"The results will be split on comma (,)"},{key:"id"}],Fi=[...u.config.publicDashboardAccessToken?[{key:"color"},{key:"isRegion"},{key:"source"}]:[],...zi,{key:"userId"},{key:"login"},{key:"email"},{key:"prevState"},{key:"newState"},{key:"data"},{key:"panelId"},{key:"alertId"},{key:"dashboardId"},{key:"dashboardUID"}];const Bi=["prometheus","loki","elasticsearch","grafana-opensearch-datasource"];var Ui=Object.defineProperty,Hi=Object.defineProperties,qi=Object.getOwnPropertyDescriptors,Wi=Object.getOwnPropertySymbols,Gi=Object.prototype.hasOwnProperty,Qi=Object.prototype.propertyIsEnumerable,Xi=(e,t,r)=>t in e?Ui(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ji=(e,t)=>{for(var r in t||(t={}))Gi.call(t,r)&&Xi(e,r,t[r]);if(Wi)for(var r of Wi(t))Qi.call(t,r)&&Xi(e,r,t[r]);return e},Ki=(e,t)=>Hi(e,qi(t));let Yi=100;function Zi(e,t,r,n){var a;if(e.annotationQuery&&function(e){const{type:t}=e;return!e.annotations||Bi.includes(t)}(e))return console.warn("Using deprecated annotationQuery method, please upgrade your datasource"),(0,k.from)(e.annotationQuery({range:t.state.value,rangeRaw:t.state.value.raw,annotation:r,dashboard:{}})).pipe((0,pi.T)((e=>({state:be.Done,events:e}))));const i=Ji(Ji({},$i),e.annotations),o=Ji(Ji({},null==(a=i.getDefaultQuery)?void 0:a.call(i)),r),s=i.prepareAnnotation(o);if(!s)return(0,k.of)({state:be.Done,events:[]});const c=i.prepareQuery(s);if(!c)return(0,k.of)({state:be.Done,events:[]});const d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,p=l.rangeUtil.calculateInterval(t.state.value,d,e.interval),h={__interval:{text:p.interval,value:p.interval},__interval_ms:{text:p.intervalMs.toString(),value:p.intervalMs},__annotation:{text:s.name,value:s},__sceneObject:{text:"__sceneObject",value:n}},f=Ji(Ki(Ji({startTime:Date.now(),requestId:"AQ"+Yi++,range:t.state.value,maxDataPoints:d,scopedVars:h},p),{app:l.CoreApp.Dashboard,timezone:t.getTimeZone(),targets:[Ki(Ji({},c),{refId:"Anno"})]}),Yt(n));return(0,u.getRunRequest)()(e,f).pipe(Ri((e=>{const t=(null==e?void 0:e.series.length)?e.series:e.annotations;return(null==t?void 0:t.length)?(t.forEach((e=>{var t;(null==(t=e.meta)?void 0:t.dataTopic)||(e.meta=Ki(Ji({},e.meta||{}),{dataTopic:l.DataTopic.Annotations}))})),i.processEvents(s,t).pipe((0,pi.T)((t=>({state:e.state,events:t||[]}))))):(0,k.of)({state:e.state,events:[]})})))}var eo=Object.defineProperty,to=Object.getOwnPropertySymbols,ro=Object.prototype.hasOwnProperty,no=Object.prototype.propertyIsEnumerable,ao=(e,t,r)=>t in e?eo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function io(e,t){e.snapshotData&&delete(e=(0,he.cloneDeep)(e)).snapshotData;return t.map((t=>{var r;const n=((e,t)=>{for(var r in t||(t={}))ro.call(t,r)&&ao(e,r,t[r]);if(to)for(var r of to(t))no.call(t,r)&&ao(e,r,t[r]);return e})({},t);switch(n.source=e,n.color=u.config.theme2.visualization.getColorByName(e.iconColor),n.type=e.name,n.isRegion=Boolean(n.timeEnd&&n.time!==n.timeEnd),null==(r=n.newState)?void 0:r.toLowerCase()){case"pending":n.color="yellow";break;case"alerting":n.color="red";break;case"ok":case"normal":n.color="green";break;case"no_data":case"nodata":n.color="gray"}return n}))}function oo(e){return"panel-alert"===e.eventType}var so=Object.defineProperty,lo=Object.defineProperties,uo=Object.getOwnPropertyDescriptors,co=Object.getOwnPropertySymbols,po=Object.prototype.hasOwnProperty,ho=Object.prototype.propertyIsEnumerable,fo=(e,t,r)=>t in e?so(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mo=(e,t)=>{for(var r in t||(t={}))po.call(t,r)&&fo(e,r,t[r]);if(co)for(var r of co(t))ho.call(t,r)&&fo(e,r,t[r]);return e},go=(e,t)=>lo(e,uo(t));(class extends ui{constructor(e){super(mo({isEnabled:!0},e),["query"]),this._scopedVars={__sceneObject:{value:this,text:"__sceneObject"}}}onEnable(){const e=Tt.getTimeRange(this);this._timeRangeSub=e.subscribeToState((()=>{this.runWithTimeRange(e)}))}onDisable(){var e;null==(e=this._timeRangeSub)||e.unsubscribe()}runLayer(){Pt();const e=Tt.getTimeRange(this);this.runWithTimeRange(e)}async runWithTimeRange(e){const{query:t}=this.state;if(this.querySub&&this.querySub.unsubscribe(),this._variableDependency.hasDependencyInLoadingState())Pt();else try{let r=Zi(await this.resolveDataSource(t),e,t,this).pipe(tr({type:"annotations",origin:this,cancel:()=>this.cancelQuery()}),(0,k.map)((e=>this.processEvents(t,e))));this.querySub=r.subscribe((e=>{this.publishResults(e)}))}catch(e){this.publishResults(go(mo({},Ee),{state:be.Error,errors:[{message:ni(e)}]})),console.error("AnnotationsDataLayer error",e)}}async resolveDataSource(e){return await Dt(e.datasource||void 0,this._scopedVars)}processEvents(e,t){let r=io(e,t.events||[]);r=function(e){let t=[];const r=(0,he.partition)(e,"id"),n=(0,he.groupBy)(r[0],"id");return t=(0,he.map)(n,(e=>e.length>1&&!(0,he.every)(e,oo)?(0,he.find)(e,(e=>"panel-alert"!==e.eventType)):(0,he.head)(e))),t=(0,he.concat)(t,r[1]),t}(r);const n=go(mo({},Ee),{state:t.state}),a=(0,l.arrayToDataFrame)(r);return a.meta=go(mo({},a.meta),{dataTopic:l.DataTopic.Annotations}),n.series=[a],n}}).Component=function({model:e}){const{isHidden:t}=e.useState();if(t)return null;return o().createElement(ci,{layer:e})};Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var yo=Object.defineProperty,vo=Object.defineProperties,bo=Object.getOwnPropertyDescriptors,wo=Object.getOwnPropertySymbols,So=Object.prototype.hasOwnProperty,xo=Object.prototype.propertyIsEnumerable,Oo=(e,t,r)=>t in e?yo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class _o extends ee{constructor(){super(...arguments),this.isDataLayer=!0,this._results=new k.ReplaySubject(1),this._dataLayersMerger=new kn}subscribeToAllLayers(e){e.length>0?this.querySub=this._dataLayersMerger.getMergedStream(e).subscribe(this._onLayerUpdateReceived.bind(this)):(this._results.next({origin:this,data:Ee}),this.setStateHelper({data:Ee}))}_onLayerUpdateReceived(e){var t;let r=[];for(const n of e)(null==(t=n.data)?void 0:t.series)&&(r=r.concat(n.data.series));const n=(a=((e,t)=>{for(var r in t||(t={}))So.call(t,r)&&Oo(e,r,t[r]);if(wo)for(var r of wo(t))xo.call(t,r)&&Oo(e,r,t[r]);return e})({},Ee),vo(a,bo({series:r})));var a;this._results.next({origin:this,data:n}),this.setStateHelper({data:n})}getResultsStream(){return this._results}cancelQuery(){var e;null==(e=this.querySub)||e.unsubscribe()}setStateHelper(e){nr(this,e)}}class Eo extends _o{constructor(e){var t,r;super({name:null!=(t=e.name)?t:"Data layers",layers:null!=(r=e.layers)?r:[]}),this.addActivationHandler((()=>this._onActivate()))}_onActivate(){return this._subs.add(this.subscribeToState(((e,t)=>{var r;e.layers!==t.layers&&(null==(r=this.querySub)||r.unsubscribe(),this.subscribeToAllLayers(e.layers))}))),this.subscribeToAllLayers(this.state.layers),()=>{var e;null==(e=this.querySub)||e.unsubscribe()}}}Eo.Component=({model:e})=>{const{layers:t}=e.useState();return o().createElement(o().Fragment,null,t.map((e=>o().createElement(e.Component,{model:e,key:e.state.key}))))};var ko=Object.defineProperty,Co=Object.defineProperties,To=Object.getOwnPropertyDescriptors,Do=Object.getOwnPropertySymbols,Po=Object.prototype.hasOwnProperty,Ro=Object.prototype.propertyIsEnumerable,Ao=(e,t,r)=>t in e?ko(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jo=(e,t)=>{for(var r in t||(t={}))Po.call(t,r)&&Ao(e,r,t[r]);if(Do)for(var r of Do(t))Ro.call(t,r)&&Ao(e,r,t[r]);return e},Io=(e,t)=>Co(e,To(t));class Lo extends ee{constructor(e){super(e),this._results=new k.ReplaySubject(1),this._variableDependency=new Rt(this,{statePaths:["transformations"],onReferencedVariableValueChanged:()=>this.reprocessTransformations()}),this.addActivationHandler((()=>this.activationHandler()))}activationHandler(){const e=this.getSourceData();return this._subs.add(e.subscribeToState((e=>this.transform(e.data)))),e.state.data&&this.transform(e.state.data),()=>{this._transformSub&&this._transformSub.unsubscribe()}}getSourceData(){if(this.state.$data){if(this.state.$data instanceof Eo)throw new Error("SceneDataLayerSet can not be used as data provider for SceneDataTransformer.");return this.state.$data}if(!this.parent||!this.parent.parent)throw new Error("SceneDataTransformer must either have $data set on it or have a parent.parent with $data");return Tt.getData(this.parent.parent)}setContainerWidth(e){this.state.$data&&this.state.$data.setContainerWidth&&this.state.$data.setContainerWidth(e)}isDataReadyToDisplay(){const e=this.getSourceData();return!e.isDataReadyToDisplay||e.isDataReadyToDisplay()}reprocessTransformations(){this.transform(this.getSourceData().state.data,!0)}cancelQuery(){var e,t;null==(t=(e=this.getSourceData()).cancelQuery)||t.call(e)}getResultsStream(){return this._results}clone(e){const t=super.clone(e);return this._prevDataFromSource&&(t._prevDataFromSource=this._prevDataFromSource),t}haveAlreadyTransformedData(e){if(!this._prevDataFromSource)return!1;if(e===this._prevDataFromSource)return!0;const{series:t,annotations:r}=this._prevDataFromSource;return e.series===t&&e.annotations===r&&(this.state.data&&e.state!==this.state.data.state&&this.setState({data:Io(jo({},this.state.data),{state:e.state})}),!0)}transform(e,t=!1){var r;if(0===this.state.transformations.length||!e)return this._prevDataFromSource=e,this.setState({data:e}),void(e&&this._results.next({origin:this,data:e}));if(!t&&this.haveAlreadyTransformedData(e))return;const n=this.state.transformations.filter((e=>!("options"in e)&&!("topic"in e)||(null==e.topic||e.topic===l.DataTopic.Series))).map((e=>"operator"in e?e.operator:e)),a=this.state.transformations.filter((e=>("options"in e||"topic"in e)&&e.topic===l.DataTopic.Annotations)).map((e=>"operator"in e?e.operator:e));this._transformSub&&this._transformSub.unsubscribe();const i={interpolate:t=>{var r;return Tt.interpolate(this,t,null==(r=e.request)?void 0:r.scopedVars)}};let o=[(0,l.transformDataFrame)(n,e.series,i)];e.annotations&&e.annotations.length>0&&a.length>0&&o.push((0,l.transformDataFrame)(a,null!=(r=e.annotations)?r:[])),this._transformSub=(0,k.forkJoin)(o).pipe((0,k.map)((t=>{const r=t[0],n=t[1];return Io(jo({},e),{series:r,annotations:null!=n?n:e.annotations})})),(0,k.catchError)((t=>{var r;console.error("Error transforming data: ",t);const n=(null==(r=this.getSourceData().state.data)?void 0:r.errors)||[],a=(0,u.toDataQueryError)(t);a.message=`Error transforming data: ${a.message}`;const i=Io(jo({},e),{state:l.LoadingState.Error,errors:[...n,a]});return(0,k.of)(i)}))).subscribe((t=>{this.setState({data:t}),this._results.next({origin:this,data:t}),this._prevDataFromSource=e}))}}function No({variable:e,layout:t,showAlways:r,hideLabel:n}){return te(e,{shouldActivateOrKeepAlive:!0}).hide!==l.VariableHide.hideVariable||r?"vertical"===t?o().createElement("div",{className:$o,"data-testid":ur.pages.Dashboard.SubMenu.submenuItem},o().createElement(Mo,{variable:e,layout:t,hideLabel:n}),o().createElement(e.Component,{model:e})):o().createElement("div",{className:Vo,"data-testid":ur.pages.Dashboard.SubMenu.submenuItem},o().createElement(Mo,{variable:e,hideLabel:n}),o().createElement(e.Component,{model:e})):null}function Mo({variable:e,layout:t,hideLabel:r}){var n,a;const{state:i}=e;if(e.state.hide===l.VariableHide.hideLabel||r)return null;const s=`var-${i.key}`,u=null!=(n=i.label)?n:i.name;return o().createElement(Zr,{htmlFor:s,isLoading:i.loading,onCancel:()=>{var t;return null==(t=e.onCancel)?void 0:t.call(e)},label:u,error:i.error,layout:t,description:null!=(a=i.description)?a:void 0})}(class extends ee{}).Component=function({model:e}){const t=Tt.getVariables(e).useState();return o().createElement(o().Fragment,null,t.variables.map((t=>o().createElement(No,{key:t.state.key,variable:t,layout:e.state.layout}))))};const Vo=(0,cr.css)({display:"flex"}),$o=(0,cr.css)({display:"flex",flexDirection:"column"});(class extends ee{}).Component=function({model:e}){const t=Tt.lookupVariable(e.state.variableName,e);if(!t)return null;return o().createElement(No,{key:t.state.key,variable:t,layout:e.state.layout,showAlways:!0})};class zo extends ee{constructor(e){super(e),this._variablesThatHaveChanged=new Set,this._variablesToUpdate=new Set,this._updating=new Map,this._variableValueRecorder=new At,this._variableDependency=new Bo(this._handleParentVariableUpdatesCompleted.bind(this)),this._onActivate=()=>{const e=Tt.getTimeRange(this);this._subs.add(this.subscribeToEvent(ze,(e=>this._handleVariableValueChanged(e.payload)))),this._subs.add(e.subscribeToState((()=>{this._refreshTimeRangeBasedVariables()}))),this._subs.add(this.subscribeToState(this._onStateChanged)),this._checkForVariablesThatChangedWhileInactive();for(const e of this.state.variables)this._variableNeedsUpdate(e)&&this._variablesToUpdate.add(e);return this._updateNextBatch(),this._onDeactivate},this._onDeactivate=()=>{var e;for(const t of this._updating.values())null==(e=t.subscription)||e.unsubscribe();for(const e of this.state.variables)this._variablesToUpdate.has(e)||this._updating.has(e)||this._variableValueRecorder.recordCurrentValue(e);this._variablesToUpdate.clear(),this._updating.clear()},this._onStateChanged=(e,t)=>{const r=this._variablesToUpdate.size;for(const r of t.variables)if(!e.variables.includes(r)){const e=this._updating.get(r);(null==e?void 0:e.subscription)&&e.subscription.unsubscribe(),this._updating.delete(r),this._variablesToUpdate.delete(r)}for(const r of e.variables)t.variables.includes(r)||this._variableNeedsUpdate(r)&&this._variablesToUpdate.add(r);0===r&&this._variablesToUpdate.size>0&&this._updateNextBatch()},this.addActivationHandler(this._onActivate)}getByName(e){return this.state.variables.find((t=>t.state.name===e))}_refreshTimeRangeBasedVariables(){for(const e of this.state.variables)"refresh"in e.state&&e.state.refresh===l.VariableRefresh.onTimeRangeChanged&&this._variablesToUpdate.add(e);this._updateNextBatch()}_checkForVariablesThatChangedWhileInactive(){if(this._variableValueRecorder.hasValues())for(const e of this.state.variables)this._variableValueRecorder.hasValueChanged(e)&&(Fo(e,"Changed while in-active"),this._addDependentVariablesToUpdateQueue(e))}_variableNeedsUpdate(e){return!e.isLazy&&(!!e.validateAndUpdate&&(!this._variableValueRecorder.hasRecordedValue(e)||(Fo(e,"Skipping updateAndValidate current value valid"),!1)))}_updateNextBatch(){for(const e of this._variablesToUpdate){if(!e.validateAndUpdate)throw new Error("Variable added to variablesToUpdate but does not have validateAndUpdate");if(this._updating.has(e))continue;if(Tt.hasVariableDependencyInLoadingState(e))continue;const t={variable:e};this._updating.set(e,t),Fo(e,"updateAndValidate started"),t.subscription=e.validateAndUpdate().subscribe({next:()=>this._validateAndUpdateCompleted(e),complete:()=>this._validateAndUpdateCompleted(e),error:t=>this._handleVariableError(e,t)})}}_validateAndUpdateCompleted(e){var t;if(!this._updating.has(e))return;const r=this._updating.get(e);null==(t=null==r?void 0:r.subscription)||t.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e),Fo(e,"updateAndValidate completed"),this._notifyDependentSceneObjects(e),this._updateNextBatch()}cancel(e){var t;const r=this._updating.get(e);null==(t=null==r?void 0:r.subscription)||t.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e)}_handleVariableError(e,t){var r;const n=this._updating.get(e);null==(r=null==n?void 0:n.subscription)||r.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e),e.setState({loading:!1,error:t.message}),console.error("SceneVariableSet updateAndValidate error",t),Fo(e,"updateAndValidate error",t)}_handleVariableValueChanged(e){this._variablesThatHaveChanged.add(e),this._addDependentVariablesToUpdateQueue(e),this._updating.has(e)||(this._updateNextBatch(),this._notifyDependentSceneObjects(e))}_handleParentVariableUpdatesCompleted(e,t){t&&this._addDependentVariablesToUpdateQueue(e),this._variablesToUpdate.size>0&&0===this._updating.size&&this._updateNextBatch()}_addDependentVariablesToUpdateQueue(e){for(const t of this.state.variables)t.variableDependency&&t.variableDependency.hasDependencyOn(e.state.name)&&(Fo(t,"Added to update queue, dependant variable value changed"),this._updating.has(t)&&t.onCancel&&t.onCancel(),this._variablesToUpdate.add(t))}_notifyDependentSceneObjects(e){this.parent&&(this._traverseSceneAndNotify(this.parent,e,this._variablesThatHaveChanged.has(e)),this._variablesThatHaveChanged.delete(e))}_traverseSceneAndNotify(e,t,r){if(this!==e&&e.isActive){if(e.state.$variables&&e.state.$variables!==this){if(e.state.$variables.getByName(t.state.name))return}e.variableDependency&&e.variableDependency.variableUpdateCompleted(t,r),e.forEachChild((e=>this._traverseSceneAndNotify(e,t,r)))}}isVariableLoadingOrWaitingToUpdate(e){return!(!e.isAncestorLoading||!e.isAncestorLoading())||(!(!this._variablesToUpdate.has(e)&&!this._updating.has(e))||Tt.hasVariableDependencyInLoadingState(e))}}function Fo(e,t,r){Pt(0,e.state.name)}class Bo{constructor(e){this._variableUpdatesCompleted=e,this._emptySet=new Set}getNames(){return this._emptySet}hasDependencyOn(e){return!1}variableUpdateCompleted(e,t){this._variableUpdatesCompleted(e,t)}}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Uo=Object.defineProperty,Ho=Object.getOwnPropertySymbols,qo=Object.prototype.hasOwnProperty,Wo=Object.prototype.propertyIsEnumerable,Go=(e,t,r)=>t in e?Uo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;(class extends ar{constructor(e){super(((e,t)=>{for(var r in t||(t={}))qo.call(t,r)&&Go(e,r,t[r]);if(Ho)for(var r of Ho(t))Wo.call(t,r)&&Go(e,r,t[r]);return e})({type:"custom",query:"",value:"",text:"",options:[],name:""},e)),this._variableDependency=new Rt(this,{statePaths:["query"]})}getValueOptions(e){var t;const r=(null!=(t=Tt.interpolate(this,this.state.query).match(/(?:\\,|[^,])+/g))?t:[]).map((e=>{var t;e=e.replace(/\\,/g,",");const r=null!=(t=/^(.+)\s:\s(.+)$/g.exec(e))?t:[];if(3===r.length){const[,e,t]=r;return{label:e.trim(),value:t.trim()}}return{label:e.trim(),value:e.trim()}}));return(0,k.of)(r)}}).Component=({model:e})=>Vr(e);var Qo=Object.defineProperty,Xo=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Ko=Object.prototype.propertyIsEnumerable,Yo=(e,t,r)=>t in e?Qo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Zo extends ar{constructor(e){super(((e,t)=>{for(var r in t||(t={}))Jo.call(t,r)&&Yo(e,r,t[r]);if(Xo)for(var r of Xo(t))Ko.call(t,r)&&Yo(e,r,t[r]);return e})({type:"datasource",value:"",text:"",options:[],name:"",regex:"",pluginId:""},e)),this._variableDependency=new Rt(this,{statePaths:["regex"]})}getValueOptions(e){if(!this.state.pluginId)return(0,k.of)([]);const t=(0,u.getDataSourceSrv)().getList({metrics:!0,variables:!1,pluginId:this.state.pluginId});let r;if(this.state.regex){const e=Tt.interpolate(this,this.state.regex,void 0,"regex");r=(0,l.stringToJsRegex)(e)}const n=[];for(let e=0;e<t.length;e++){const a=t[e];es(a,r)&&n.push({label:a.name,value:a.uid}),this.state.defaultOptionEnabled&&ts(a,r)&&n.push({label:"default",value:"default"})}return 0===n.length?this.setState({error:"No data sources found"}):this.state.error&&this.setState({error:null}),(0,k.of)(n)}}function es(e,t){return!t||t.exec(e.name)}function ts(e,t){return!!e.isDefault&&(!t||t.exec("default"))}Zo.Component=({model:e})=>Vr(e);const rs=e=>Boolean(e.metricFindQuery)&&!Boolean(e.variables),ns=e=>{if(!e.variables)return!1;if(e.variables.getType()!==l.VariableSupportType.Standard)return!1;const t=e.variables;return"toDataQuery"in t&&Boolean(t.toDataQuery)},as=e=>{if(!e.variables)return!1;if(e.variables.getType()!==l.VariableSupportType.Custom)return!1;const t=e.variables;return"query"in t&&"editor"in t&&Boolean(t.query)&&Boolean(t.editor)};var is=Object.defineProperty,os=Object.defineProperties,ss=Object.getOwnPropertyDescriptors,ls=Object.getOwnPropertySymbols,us=Object.prototype.hasOwnProperty,cs=Object.prototype.propertyIsEnumerable,ds=(e,t,r)=>t in e?is(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ps=(e,t)=>{for(var r in t||(t={}))us.call(t,r)&&ds(e,r,t[r]);if(ls)for(var r of ls(t))cs.call(t,r)&&ds(e,r,t[r]);return e},hs=(e,t)=>os(e,ss(t));class fs{constructor(e,t=(0,u.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){if(ns(this.datasource))return this.datasource.variables.toDataQuery(function(e){var t;const r=null!=(t=e.state.query)?t:"";if("string"==typeof r)return{query:r,refId:`variable-${e.state.name}`};if(null==r.refId)return hs(ps({},r),{refId:`variable-${e.state.name}`});return e.state.query}(e));throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return ns(this.datasource)?this.datasource.variables.query?this._runRequest(this.datasource,t,this.datasource.variables.query.bind(this.datasource.variables)):this._runRequest(this.datasource,t):ys()}}class ms{constructor(e){this.datasource=e}getTarget(e){if(rs(this.datasource))return e.state.query;throw new Error("Couldn't create a target with supplied arguments.")}runRequest({variable:e,searchFilter:t},r){return rs(this.datasource)?(0,k.from)(this.datasource.metricFindQuery(e.state.query,hs(ps({},r),{variable:{name:e.state.name,type:e.state.type},searchFilter:t}))).pipe((0,k.mergeMap)((e=>{if(!e||!e.length)return ys();const t=e;return(0,k.of)({series:t,state:l.LoadingState.Done,timeRange:r.range})}))):ys()}}class gs{constructor(e,t=(0,u.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){if(as(this.datasource))return e.state.query;throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return as(this.datasource)?this.datasource.variables.query?this._runRequest(this.datasource,t,this.datasource.variables.query.bind(this.datasource.variables)):this._runRequest(this.datasource,t):ys()}}function ys(){return(0,k.of)({state:l.LoadingState.Done,series:[],timeRange:(0,l.getDefaultTimeRange)()})}let vs=function(e){if(ns(e))return new fs(e,(0,u.getRunRequest)());if(rs(e))return new ms(e);if(as(e))return new gs(e);throw new Error(`Couldn't create a query runner for datasource ${e.type}`)};const bs=(e,t)=>{const r=[];let n=null;t.lastIndex=0;do{n=t.exec(e),n&&r.push(n)}while(t.global&&n&&""!==n[0]&&void 0!==n[0]);return r},ws=(e,t)=>{if(t===l.VariableSort.disabled)return e;const r=e=>{if(!e.text)return-1;const t=e.text.match(/.*?(\d+).*/);return!t||t.length<2?-1:parseInt(t[1],10)},n=e=>e.sort(((e,t)=>e.text?t.text?e.text.localeCompare(t.text,void 0,{numeric:!0}):1:-1));switch(t){case l.VariableSort.alphabeticalAsc:e=(0,he.sortBy)(e,"label");break;case l.VariableSort.alphabeticalDesc:e=(0,he.sortBy)(e,"label").reverse();break;case l.VariableSort.numericalAsc:e=(0,he.sortBy)(e,r);break;case l.VariableSort.numericalDesc:e=(e=(0,he.sortBy)(e,r)).reverse();break;case l.VariableSort.alphabeticalCaseInsensitiveAsc:e=(0,he.sortBy)(e,(e=>(0,he.toLower)(e.label)));break;case l.VariableSort.alphabeticalCaseInsensitiveDesc:e=(e=(0,he.sortBy)(e,(e=>(0,he.toLower)(e.label)))).reverse();break;case l.VariableSort.naturalAsc||7:e=n(e);break;case l.VariableSort.naturalDesc||8:e=(e=n(e)).reverse()}return e};function Ss(){return e=>e.pipe((0,k.map)((e=>{const t=e.series;if(!t||!t.length)return[];if(function(e){if(!e)return!1;if(!e.length)return!0;const t=e[0];if((0,l.isDataFrame)(t))return!1;for(const e in t){if(!t.hasOwnProperty(e))continue;if(null!==t[e]&&"string"!=typeof t[e]&&"number"!=typeof t[e])continue;const r=e.toLowerCase();if("text"===r||"value"===r)return!0}return!1}(t))return t;if(0===t[0].fields.length)return[];const r=(0,l.getProcessedDataFrames)(t),n=[];let a=-1,i=-1,o=-1,s=-1;for(const e of r)for(let r=0;r<e.fields.length;r++){const n=e.fields[r],u=(0,l.getFieldDisplayName)(n,e,t).toLowerCase();n.type===l.FieldType.string&&-1===o&&(o=r),"text"===u&&n.type===l.FieldType.string&&-1===i&&(i=r),"value"===u&&n.type===l.FieldType.string&&-1===a&&(a=r),"expandable"!==u||n.type!==l.FieldType.boolean&&n.type!==l.FieldType.number||-1!==s||(s=r)}if(-1===o)throw new Error("Couldn't find any field of type string in the results.");for(const e of t)for(let t=0;t<e.length;t++){const r=-1!==s?e.fields[s].values.get(t):void 0,l=e.fields[o].values.get(t),u=-1!==i?e.fields[i].values.get(t):null,c=-1!==a?e.fields[a].values.get(t):null;-1!==a||-1!==i?-1!==a||-1===i?-1===a||-1!==i?n.push({text:u,value:c,expandable:r}):n.push({text:c,value:c,expandable:r}):n.push({text:u,value:u,expandable:r}):n.push({text:l,value:l,expandable:r})}return n})))}var xs=Object.defineProperty,Os=Object.getOwnPropertySymbols,_s=Object.prototype.hasOwnProperty,Es=Object.prototype.propertyIsEnumerable,ks=(e,t,r)=>t in e?xs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Cs extends ar{constructor(e){super(((e,t)=>{for(var r in t||(t={}))_s.call(t,r)&&ks(e,r,t[r]);if(Os)for(var r of Os(t))Es.call(t,r)&&ks(e,r,t[r]);return e})({type:"query",name:"",value:"",text:"",options:[],datasource:null,regex:"",query:{refId:"A"},refresh:l.VariableRefresh.onDashboardLoad,sort:l.VariableSort.disabled},e)),this._variableDependency=new Rt(this,{statePaths:["regex","query","datasource"]}),this.onSearchChange=e=>{Bn(this.state.query).indexOf(at)>-1&&this._updateOptionsBasedOnSearchFilter(e)},this._updateOptionsBasedOnSearchFilter=(0,he.debounce)((async e=>{const t=await(0,k.lastValueFrom)(this.getValueOptions({searchFilter:e}));this.setState({options:t,loading:!1})}),400)}getValueOptions(e){return this.state.query?(this.setState({loading:!0,error:null}),(0,k.from)(Dt(this.state.datasource,{__sceneObject:{text:"__sceneObject",value:this}})).pipe((0,k.mergeMap)((t=>{const r=vs(t),n=r.getTarget(this),a=this.getRequest(n,e.searchFilter);return r.runRequest({variable:this,searchFilter:e.searchFilter},a).pipe(tr({type:"variable",request:a,origin:this}),(0,k.filter)((e=>e.state===l.LoadingState.Done||e.state===l.LoadingState.Error)),(0,k.take)(1),(0,k.mergeMap)((e=>e.state===l.LoadingState.Error?(0,k.throwError)((()=>e.error)):(0,k.of)(e))),Ss(),(0,k.mergeMap)((e=>{let t="";return this.state.regex&&(t=Tt.interpolate(this,this.state.regex,void 0,"regex")),(0,k.of)(((e,t,r)=>{var n,a,i,o,s,u;let c,d=[];e&&(c=(0,l.stringToJsRegex)(e));for(let e=0;e<r.length;e++){const t=r[e];let l=void 0===t.text||null===t.text?t.value:t.text,p=void 0===t.value||null===t.value?t.text:t.value;if((0,he.isNumber)(p)&&(p=p.toString()),(0,he.isNumber)(l)&&(l=l.toString()),c){const e=bs(p,c);if(!e.length)continue;const t=e.find((e=>e.groups&&e.groups.value)),r=e.find((e=>e.groups&&e.groups.text)),h=e.find((e=>e.length>1)),f=e.length>1&&h;if(t||r)p=null!=(i=null==(n=null==t?void 0:t.groups)?void 0:n.value)?i:null==(a=null==r?void 0:r.groups)?void 0:a.text,l=null!=(u=null==(o=null==r?void 0:r.groups)?void 0:o.text)?u:null==(s=null==t?void 0:t.groups)?void 0:s.value;else{if(f){for(let t=0;t<e.length;t++){const r=e[t];d.push({label:r[1],value:r[1]})}continue}h&&(l=h[1],p=h[1])}}d.push({label:l,value:p})}return d=(0,he.uniqBy)(d,"value"),ws(d,t)})(t,this.state.sort,e))})),(0,k.catchError)((e=>e.cancelled?(0,k.of)([]):(0,k.throwError)((()=>e)))))})))):(0,k.of)([])}getRequest(e,t){const r={__sceneObject:{text:"__sceneObject",value:this}};t&&(r.__searchFilter={value:t,text:t});const n=Tt.getTimeRange(this).state.value;return{app:l.CoreApp.Dashboard,requestId:j(),timezone:"",range:n,interval:"",intervalMs:0,targets:[e],scopedVars:r,startTime:Date.now()}}}function Ts(e,t){const r=["A","B","C","D","E","F","G","H"],n=[];if(t>5)return[];for(const a of r){const r=`${e}${a}`;n.push({name:r,children:Ts(r,t+1)})}return n}function Ds(e,t,r){if(r>=t.length)return e;if("*"===t[r])return e;const n=t[r];let a=[],i=[n];n.startsWith("{")&&(i=n.replace(/\{|\}/g,"").split(","));for(const n of e)for(const e of i)if(-1!==e.indexOf("*")){const i=e.replace("*","");new RegExp(`^${i}.*`,"gi").test(n.name)&&(a=a.concat(Ds([n],t,r+1)))}else n.name===e&&(a=a.concat(Ds(n.children,t,r+1)));return a}function Ps(e){if(0===e.indexOf("value"))return[{name:e,children:[]}];return Ds(Ts("",0),e.split("."),0)}Cs.Component=({model:e})=>Vr(e);var Rs=Object.defineProperty,As=Object.getOwnPropertySymbols,js=Object.prototype.hasOwnProperty,Is=Object.prototype.propertyIsEnumerable,Ls=(e,t,r)=>t in e?Rs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function Ns({model:e}){const{value:t,key:r,loading:n}=e.useState(),a=(0,i.useCallback)((t=>{e.setValue(t.currentTarget.value)}),[e]),s=(0,i.useCallback)((t=>{"Enter"===t.key&&e.setValue(t.currentTarget.value)}),[e]);return o().createElement(sr.AutoSizeInput,{id:r,placeholder:"Enter value",minWidth:15,defaultValue:t,loading:n,onBlur:a,onKeyDown:s})}(class extends ar{constructor(e,t=!1){super(((e,t)=>{for(var r in t||(t={}))js.call(t,r)&&Ls(e,r,t[r]);if(As)for(var r of As(t))Is.call(t,r)&&Ls(e,r,t[r]);return e})({type:"custom",name:"Test",value:"Value",text:"Text",query:"Query",options:[],refresh:l.VariableRefresh.onDashboardLoad},e)),this.completeUpdate=new k.Subject,this.isGettingValues=!0,this.getValueOptionsCount=0,this.isLazy=!1,this._variableDependency=new Rt(this,{statePaths:["query"]}),this.isLazy=t}getValueOptions(e){const{delayMs:t}=this.state;this.getValueOptionsCount+=1;const r=Tt.getQueryController(this);return new k.Observable((e=>{const n={type:"variable",origin:this,cancel:()=>e.complete()};if(r&&r.queryStarted(n),this.setState({loading:!0}),this.state.throwError)throw new Error(this.state.throwError);const a=Tt.interpolate(this,this.state.query),i=this.getOptions(a),o=this.completeUpdate.subscribe({next:()=>{this.setState({issuedQuery:a,options:i,loading:!1}),e.next(i),e.complete()}});let s;return t?s=window.setTimeout((()=>this.signalUpdateCompleted()),t):0===t&&this.signalUpdateCompleted(),this.isGettingValues=!0,()=>{o.unsubscribe(),window.clearTimeout(s),this.isGettingValues=!1,this.state.loading&&this.setState({loading:!1}),r&&r.queryCompleted(n)}}))}cancel(){const e=ce(this,(e=>e instanceof zo?e:void 0));null==e||e.cancel(this)}getOptions(e){return this.state.optionsToReturn?this.state.optionsToReturn:Ps(e).map((e=>({label:e.name,value:e.name})))}signalUpdateCompleted(){this.completeUpdate.next(1)}}).Component=({model:e})=>Vr(e);var Ms=Object.defineProperty,Vs=Object.getOwnPropertySymbols,$s=Object.prototype.hasOwnProperty,zs=Object.prototype.propertyIsEnumerable,Fs=(e,t,r)=>t in e?Ms(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;(class extends ee{constructor(e){super(((e,t)=>{for(var r in t||(t={}))$s.call(t,r)&&Fs(e,r,t[r]);if(Vs)for(var r of Vs(t))zs.call(t,r)&&Fs(e,r,t[r]);return e})({type:"textbox",value:"",name:""},e)),this._urlSync=new ke(this,{keys:()=>[this.getKey()]})}getValue(){return this.state.value}setValue(e){e!==this.state.value&&(this.setState({value:e}),this.publishEvent(new ze(this),!0))}getKey(){return`var-${this.state.name}`}getUrlState(){return{[this.getKey()]:this.state.value}}updateFromUrl(e){const t={},r=e[this.getKey()];"string"==typeof r&&(t.value=r),this.setState(t)}}).Component=({model:e})=>o().createElement(Ns,{model:e});Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Bs=Object.defineProperty,Us=Object.getOwnPropertySymbols,Hs=Object.prototype.hasOwnProperty,qs=Object.prototype.propertyIsEnumerable,Ws=(e,t,r)=>t in e?Bs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;(class extends ee{constructor(e){super(((e,t)=>{for(var r in t||(t={}))Hs.call(t,r)&&Ws(e,r,t[r]);if(Us)for(var r of Us(t))qs.call(t,r)&&Ws(e,r,t[r]);return e})({type:"interval",value:"",intervals:["1m","10m","30m","1h","6h","12h","1d","7d","14d","30d"],name:"",autoStepCount:30,autoMinInterval:"10s",autoEnabled:!1,refresh:Kn.onTimeRangeChanged},e)),this._onChange=e=>{this.setState({value:e.value}),this.publishEvent(new ze(this),!0)},this._urlSync=new ke(this,{keys:()=>[this.getKey()]})}getKey(){return`var-${this.state.name}`}getUrlState(){return{[this.getKey()]:this.state.value}}updateFromUrl(e){const t={},r=e[this.getKey()];"string"==typeof r&&(r.startsWith("$__auto_interval_")?t.value=rt:t.value=r),this.setState(t)}getOptionsForSelect(){const{value:e,intervals:t,autoEnabled:r}=this.state;let n=t.map((e=>({value:e,label:e})));return r&&(n=[{value:rt,label:"Auto"},...n]),e&&!n.some((t=>t.value===e))&&n.push({value:e,label:e}),n}getValue(){const{value:e,autoStepCount:t,autoMinInterval:r}=this.state;return e===rt?this.getAutoRefreshInteval(t,r):e}getAutoRefreshInteval(e,t){const r=Tt.getTimeRange(this).state.value;return l.rangeUtil.calculateInterval(r,e,t).interval}validateAndUpdate(){const{value:e,intervals:t}=this.state;let r=!1;if(e===rt)r=!0;else if(!e&&t.length>0){const e=t[0];this.setState({value:e}),r=!0}return r&&this.publishEvent(new ze(this),!0),(0,k.of)({})}}).Component=({model:e})=>{const{key:t,value:r}=e.useState();return o().createElement(sr.Select,{id:t,placeholder:"Select value",width:"auto",value:r,tabSelectsValue:!1,options:e.getOptionsForSelect(),onChange:e._onChange})};class Gs{constructor(){this._urlKeyMapper=new fe,this._stateSub=null,this._locationSub=null,this._ignoreNextLocationUpdate=!1,this._onLocationUpdate=e=>{if(this._ignoreNextLocationUpdate)return void(this._ignoreNextLocationUpdate=!1);if(this._lastPath!==e.pathname)return;const t=new URLSearchParams(e.search);this._urlKeyMapper.rebuildIndex(this._sceneRoot),ge(this._sceneRoot,t,this._urlKeyMapper),this._lastPath=e.pathname},this._onStateChanged=({payload:e})=>{const t=e.changedObject;if(t.urlSync){const e=t.urlSync.getUrlState(),r=u.locationService.getSearch(),n={};this._urlKeyMapper.rebuildIndex(this._sceneRoot);for(const[a,i]of Object.entries(e)){const e=this._urlKeyMapper.getUniqueKey(a,t);ye(r.getAll(e),i)||(n[e]=i)}Object.keys(n).length>0&&(this._ignoreNextLocationUpdate=!0,u.locationService.partial(n,!0))}}}initSync(e){this._locationSub||(Pt(),this._locationSub=u.locationService.getHistory().listen(this._onLocationUpdate)),this._stateSub&&(Pt(0,0,this._sceneRoot.state.key),this._stateSub.unsubscribe()),this._sceneRoot=e,this._lastPath=u.locationService.getLocation().pathname,this._stateSub=e.subscribeToEvent(U,this._onStateChanged),this.syncFrom(this._sceneRoot)}cleanUp(e){this._sceneRoot===e&&(Pt(),this._locationSub&&(this._locationSub(),Pt(),this._locationSub=null),this._stateSub&&(this._stateSub.unsubscribe(),this._stateSub=null,Pt(0,0,(this._sceneRoot.state.key,e.state.key))))}syncFrom(e){const t=u.locationService.getSearch();this._urlKeyMapper.rebuildIndex(this._sceneRoot),ge(e,t,this._urlKeyMapper)}getUrlState(e){return me(e)}}let Qs;function Xs(){return Qs||(Qs=new Gs),Qs}class Js extends ee{constructor(e){super(e),this.addActivationHandler((()=>{const e=function(e){const t=window.__grafanaSceneContext;return Pt(),window.__grafanaSceneContext=e,()=>{window.__grafanaSceneContext===e&&(Pt(),window.__grafanaSceneContext=t)}}(this);return()=>{e(),Xs().cleanUp(this)}}))}initUrlSync(){Xs().initSync(this)}}Js.Component=function({model:e}){const{body:t,controls:r}=e.useState(),n=(0,sr.useStyles2)(Ks);return o().createElement("div",{className:n.container},r&&o().createElement("div",{className:n.controls},r.map((e=>o().createElement(e.Component,{key:e.state.key,model:e})))),o().createElement("div",{className:n.body},o().createElement(t.Component,{model:t})))};const Ks=e=>({container:(0,cr.css)({flexGrow:1,display:"flex",gap:e.spacing(2),minHeight:"100%",flexDirection:"column"}),body:(0,cr.css)({flexGrow:1,display:"flex",gap:e.spacing(1)}),controls:(0,cr.css)({display:"flex",gap:e.spacing(2),alignItems:"flex-end",flexWrap:"wrap"})});class Ys extends ee{addItem(e){this.setState({items:this.state.items?[...this.state.items,e]:[e]})}setItems(e){this.setState({items:e})}}Ys.Component=function({model:e}){const{items:t=[]}=e.useState(),r=o().useRef(null);(0,i.useEffect)((()=>{r.current&&r.current.focus()}),[]);const n=e=>e.map((e=>{switch(e.type){case"divider":return o().createElement(sr.Menu.Divider,{key:e.text});case"group":return o().createElement(sr.Menu.Group,{key:e.text,label:e.text},e.subMenu?n(e.subMenu):void 0);default:return o().createElement(sr.Menu.Item,{key:e.text,label:e.text,icon:e.iconClassName,childItems:e.subMenu?n(e.subMenu):void 0,url:e.href,onClick:e.onClick,shortcut:e.shortcut,testId:ur.components.Panels.Panel.menuItems(e.text)})}}));return o().createElement(sr.Menu,{ref:r},n(t))};function Zs(e){return e instanceof pu}(class extends ee{}).Component=function({model:e}){const{body:t}=e.useState(),r=e.parent;if(r&&(n=r,!(n instanceof ru))&&!Zs(r))throw new Error("SceneGridItem must be a child of SceneGridLayout or SceneGridRow");var n;if(!t)return null;return o().createElement(t.Component,{model:t})};var el=r(2548),tl=r.n(el),rl=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},al=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},il=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},ol=void 0;ol="undefined"!=typeof window?window:"undefined"!=typeof self?self:r.g;var sl=null,ll=null,ul=ol.clearTimeout,cl=ol.setTimeout,dl=ol.cancelAnimationFrame||ol.mozCancelAnimationFrame||ol.webkitCancelAnimationFrame,pl=ol.requestAnimationFrame||ol.mozRequestAnimationFrame||ol.webkitRequestAnimationFrame;function hl(e){var t=void 0,r=void 0,n=void 0,a=void 0,i=void 0,o=void 0,s=void 0,l="undefined"!=typeof document&&document.attachEvent;if(!l){o=function(e){var t=e.__resizeTriggers__,r=t.firstElementChild,n=t.lastElementChild,a=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,a.style.width=r.offsetWidth+1+"px",a.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},i=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},s=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;o(this),this.__resizeRAF__&&sl(this.__resizeRAF__),this.__resizeRAF__=ll((function(){i(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(r){r.call(t,e)})))}))}};var u=!1,c="";n="animationstart";var d="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h=document.createElement("fakeelement");if(void 0!==h.style.animationName&&(u=!0),!1===u)for(var f=0;f<d.length;f++)if(void 0!==h.style[d[f]+"AnimationName"]){c="-"+d[f].toLowerCase()+"-",n=p[f],u=!0;break}t="@"+c+"keyframes "+(r="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",a=c+"animation: 1ms "+r+"; "}return{addResizeListener:function(i,u){if(l)i.attachEvent("onresize",u);else{if(!i.__resizeTriggers__){var c=i.ownerDocument,d=ol.getComputedStyle(i);d&&"static"===d.position&&(i.style.position="relative"),function(r){if(!r.getElementById("detectElementResize")){var n=(t||"")+".resize-triggers { "+(a||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',i=r.head||r.getElementsByTagName("head")[0],o=r.createElement("style");o.id="detectElementResize",o.type="text/css",null!=e&&o.setAttribute("nonce",e),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(r.createTextNode(n)),i.appendChild(o)}}(c),i.__resizeLast__={},i.__resizeListeners__=[],(i.__resizeTriggers__=c.createElement("div")).className="resize-triggers";var p=c.createElement("div");p.className="expand-trigger",p.appendChild(c.createElement("div"));var h=c.createElement("div");h.className="contract-trigger",i.__resizeTriggers__.appendChild(p),i.__resizeTriggers__.appendChild(h),i.appendChild(i.__resizeTriggers__),o(i),i.addEventListener("scroll",s,!0),n&&(i.__resizeTriggers__.__animationListener__=function(e){e.animationName===r&&o(i)},i.__resizeTriggers__.addEventListener(n,i.__resizeTriggers__.__animationListener__))}i.__resizeListeners__.push(u)}},removeResizeListener:function(e,t){if(l)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(n,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}null==dl||null==pl?(sl=ul,ll=function(e){return cl(e,20)}):(sl=function(e){var t=il(e,2),r=t[0],n=t[1];dl(r),ul(n)},ll=function(e){var t=pl((function(){ul(r),e()})),r=cl((function(){dl(t),e()}),20);return[t,r]});var fl=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=n=al(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={height:n.props.defaultHeight||0,width:n.props.defaultWidth||0},n._onResize=function(){var e=n.props,t=e.disableHeight,r=e.disableWidth,a=e.onResize;if(n._parentNode){var i=n._parentNode.offsetHeight||0,o=n._parentNode.offsetWidth||0,s=window.getComputedStyle(n._parentNode)||{},l=parseInt(s.paddingLeft,10)||0,u=parseInt(s.paddingRight,10)||0,c=parseInt(s.paddingTop,10)||0,d=parseInt(s.paddingBottom,10)||0,p=i-c-d,h=o-l-u;(!t&&n.state.height!==p||!r&&n.state.width!==h)&&(n.setState({height:i-c-d,width:o-l-u}),a({height:i,width:o}))}},n._setRef=function(e){n._autoSizer=e},al(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),rl(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=hl(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,n=e.disableHeight,a=e.disableWidth,o=e.style,s=this.state,l=s.height,u=s.width,c={overflow:"visible"},d={},p=!1;return n||(0===l&&(p=!0),c.height=0,d.height=l),a||(0===u&&(p=!0),c.width=0,d.width=u),(0,i.createElement)("div",{className:r,ref:this._setRef,style:nl({},c,o)},!p&&t(d))}}]),t}(i.PureComponent);fl.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};const ml=fl;const gl=function(e){(0,i.useEffect)(e,[])};var yl=Object.defineProperty,vl=Object.getOwnPropertySymbols,bl=Object.prototype.hasOwnProperty,wl=Object.prototype.propertyIsEnumerable,Sl=(e,t,r)=>t in e?yl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function xl(){const e=(0,i.useRef)(void 0);return null!=e.current||(e.current=(0,he.uniqueId)()),e.current}const Ol=o().forwardRef(((e,t)=>{var r=e,{children:n,onLoad:a,onChange:s}=r,l=((e,t)=>{var r={};for(var n in e)bl.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&vl)for(var n of vl(e))t.indexOf(n)<0&&wl.call(e,n)&&(r[n]=e[n]);return r})(r,["children","onLoad","onChange"]);const u=xl(),[c,d]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!1),f=(0,i.useRef)(null);return(0,i.useImperativeHandle)(t,(()=>f.current)),gl((()=>{Ol.addCallback(u,(e=>{!c&&e.isIntersecting&&(d(!0),null==a||a()),h(e.isIntersecting),null==s||s(e.isIntersecting)}));const e=f.current;return e&&Ol.observer.observe(e),()=>{delete Ol.callbacks[u],e&&Ol.observer.unobserve(e),0===Object.keys(Ol.callbacks).length&&Ol.observer.disconnect()}})),o().createElement("div",((e,t)=>{for(var r in t||(t={}))bl.call(t,r)&&Sl(e,r,t[r]);if(vl)for(var r of vl(t))wl.call(t,r)&&Sl(e,r,t[r]);return e})({id:u,ref:f},l),c&&("function"==typeof n?n({isInView:p}):n))}));Ol.displayName="LazyLoader",Ol.callbacks={},Ol.addCallback=(e,t)=>Ol.callbacks[e]=t,Ol.observer=new IntersectionObserver((e=>{for(const t of e)Ol.callbacks[t.target.id](t)}),{rootMargin:"100px"});var _l=Object.defineProperty,El=Object.defineProperties,kl=Object.getOwnPropertyDescriptors,Cl=Object.getOwnPropertySymbols,Tl=Object.prototype.hasOwnProperty,Dl=Object.prototype.propertyIsEnumerable,Pl=(e,t,r)=>t in e?_l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Rl=(e,t)=>{for(var r in t||(t={}))Tl.call(t,r)&&Pl(e,r,t[r]);if(Cl)for(var r of Cl(t))Dl.call(t,r)&&Pl(e,r,t[r]);return e},Al=(e,t)=>El(e,kl(t)),jl=(e,t)=>{var r={};for(var n in e)Tl.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Cl)for(var n of Cl(e))t.indexOf(n)<0&&Dl.call(e,n)&&(r[n]=e[n]);return r};const Il=o().forwardRef(((e,t)=>{var r;const n=e,{grid:a,layoutItem:i,index:s,totalCount:l,isLazy:u,style:c,onLoad:d,onChange:p,children:h}=n,f=jl(n,["grid","layoutItem","index","totalCount","isLazy","style","onLoad","onChange","children"]),m=a.getSceneLayoutChild(i.i),g=null==(r=m.getClassName)?void 0:r.call(m),y=o().createElement(m.Component,{model:m,key:m.state.key});return u?o().createElement(Ol,Al(Rl({},f),{key:m.state.key,"data-griditem-key":m.state.key,className:(0,cr.cx)(g,e.className),style:c,ref:t}),y,h):o().createElement("div",Al(Rl({},f),{ref:t,key:m.state.key,"data-griditem-key":m.state.key,className:(0,cr.cx)(g,e.className),style:c}),y,h)}));function Ll(e,t,r){e.current?t?e.current.classList.add("react-grid-layout--enable-move-animations"):e.current.classList.remove("react-grid-layout--enable-move-animations"):r||setTimeout((()=>Ll(e,t,!0)),50)}Il.displayName="GridItemWrapper";const Nl=o().forwardRef(((e,t)=>{var r=jl(e,["handleAxis"]);const n=(0,sr.useStyles2)(Ml);return o().createElement("div",Al(Rl({ref:t},r),{className:`${n} scene-resize-handle`}),o().createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o().createElement("path",{d:"M21 15L15 21M21 8L8 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}));function Ml(e){return(0,cr.css)({position:"absolute",bottom:0,right:0,zIndex:999,padding:e.spacing(1.5,0,0,1.5),color:e.colors.border.strong,cursor:"se-resize","&:hover":{color:e.colors.text.link},svg:{display:"block"},".react-resizable-hide &":{display:"none"}})}Nl.displayName="ResizeHandle";var Vl=Object.defineProperty,$l=Object.defineProperties,zl=Object.getOwnPropertyDescriptors,Fl=Object.getOwnPropertySymbols,Bl=Object.prototype.hasOwnProperty,Ul=Object.prototype.propertyIsEnumerable,Hl=(e,t,r)=>t in e?Vl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function ql(e,t){const r=t-32,n=Math.max(...e.map((e=>e.h+e.y)))/Math.floor(r/38);return e.map((e=>{return t=((e,t)=>{for(var r in t||(t={}))Bl.call(t,r)&&Hl(e,r,t[r]);if(Fl)for(var r of Fl(t))Ul.call(t,r)&&Hl(e,r,t[r]);return e})({},e),r={y:Math.round(e.y/n)||0,h:Math.round(e.h/n)||1},$l(t,zl(r));var t,r}))}var Wl=Object.defineProperty,Gl=Object.defineProperties,Ql=Object.getOwnPropertyDescriptors,Xl=Object.getOwnPropertySymbols,Jl=Object.prototype.hasOwnProperty,Kl=Object.prototype.propertyIsEnumerable,Yl=(e,t,r)=>t in e?Wl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Zl=(e,t)=>{for(var r in t||(t={}))Jl.call(t,r)&&Yl(e,r,t[r]);if(Xl)for(var r of Xl(t))Kl.call(t,r)&&Yl(e,r,t[r]);return e},eu=(e,t)=>Gl(e,Ql(t));const tu=class extends ee{constructor(e){super(eu(Zl({},e),{children:nu(e.children)})),this._skipOnLayoutChange=!1,this._oldLayout=[],this._loadOldLayout=!1,this.onLayoutChange=e=>{if(this._skipOnLayoutChange)this._skipOnLayoutChange=!1;else{this._loadOldLayout&&(e=[...this._oldLayout],this._loadOldLayout=!1);for(const n of e){const e=this.getSceneLayoutChild(n.i),a={x:n.x,y:n.y,width:n.w,height:n.h};t=e.state,r=a,(t.x!==r.x||t.y!==r.y||t.width!==r.width||t.height!==r.height)&&e.setState(Zl({},a))}var t,r;this.setState({children:nu(this.state.children)})}},this.onResizeStop=(e,t,r)=>{this.getSceneLayoutChild(r.i).setState({width:r.w,height:r.h})},this.onDragStart=e=>{this._oldLayout=[...e]},this.onDragStop=(e,t,r)=>{const n=this.getSceneLayoutChild(r.i);e=au(e);for(let t=0;t<e.length;t++){const r=e[t],n=this.getSceneLayoutChild(r.i),a=n.state;(null==a?void 0:a.x)===r.x&&(null==a?void 0:a.y)===r.y||n.setState({x:r.x,y:r.y})}const a=e.findIndex((e=>e.i===r.i));let i=this.findGridItemSceneParent(e,a-1),o=this.state.children;n instanceof pu&&i instanceof pu&&(this.isRowDropValid(e,r,a)||(this._loadOldLayout=!0),i=this),i!==n.parent&&(o=this.moveChildTo(n,i)),this.setState({children:nu(o)}),this._skipOnLayoutChange=!0}}isDraggable(){var e;return null!=(e=this.state.isDraggable)&&e}getDragClass(){return`grid-drag-handle-${this.state.key}`}getDragClassCancel(){return"grid-drag-cancel"}toggleRow(e){var t,r;if(!e.state.isCollapsed)return e.setState({isCollapsed:!0}),void this.setState({});const n=e.state.children;if(0===n.length)return e.setState({isCollapsed:!1}),void this.setState({});const a=e.state.y,i=(null!=(t=n[0].state.y)?t:a)-(a+1);let o=a;for(const e of n){const t=Zl({},e.state);t.y=null!=(r=t.y)?r:a,t.y-=i,t.y!==e.state.y&&e.setState(t),o=Math.max(o,Number(t.y)+Number(t.height))}const s=o-a-1;for(const t of this.state.children)if(t.state.y>a&&this.pushChildDown(t,s),Zs(t)&&t!==e)for(const e of t.state.children)e.state.y>a&&this.pushChildDown(e,s);e.setState({isCollapsed:!1}),this.setState({})}getSceneLayoutChild(e){for(const t of this.state.children){if(t.state.key===e)return t;if(t instanceof pu)for(const r of t.state.children)if(r.state.key===e)return r}throw new Error("Scene layout child not found for GridItem")}pushChildDown(e,t){e.setState({y:e.state.y+t})}findGridItemSceneParent(e,t){for(let r=t;r>=0;r--){const t=e[r],n=this.getSceneLayoutChild(t.i);if(n instanceof pu)return n.state.isCollapsed?this:n}return this}isRowDropValid(e,t,r){if(e[e.length-1].i===t.i)return!0;const n=this.getSceneLayoutChild(e[r+1].i);return n instanceof pu||n.parent instanceof tu}moveChildTo(e,t){const r=e.parent;let n=this.state.children;const a=e.clone({key:e.state.key});if(r instanceof pu){const i=r.clone();if(i.setState({children:i.state.children.filter((t=>t.state.key!==e.state.key))}),n=n.map((e=>e===r?i:e)),t instanceof pu){const e=t.clone();e.setState({children:[...e.state.children,a]}),n=n.map((r=>r===t?e:r))}else n=[...n,a]}else if(!(t instanceof tu)){n=n.filter((t=>t.state.key!==e.state.key));const r=t.clone();r.setState({children:[...r.state.children,a]}),n=n.map((e=>e===t?r:e))}return n}toGridCell(e){var t,r;const n=e.state;let a=null!=(t=n.x)?t:0,i=null!=(r=n.y)?r:0;const o=Number.isInteger(Number(n.width))?Number(n.width):4,s=Number.isInteger(Number(n.height))?Number(n.height):4;let l=e.state.isDraggable,u=e.state.isResizable;return e instanceof pu&&(l=!!e.state.isCollapsed,u=!1),{i:e.state.key,x:a,y:i,h:s,w:o,isResizable:u,isDraggable:l}}buildGridLayout(e,t){let r=[];for(const e of this.state.children)if(r.push(this.toGridCell(e)),e instanceof pu&&!e.state.isCollapsed)for(const t of e.state.children)r.push(this.toGridCell(t));return r=au(r),this.state.UNSAFE_fitPanels&&(r=ql(r,t)),e<768?(this._skipOnLayoutChange=!0,r.map((e=>eu(Zl({},e),{w:24})))):(this._skipOnLayoutChange=!1,r)}};let ru=tu;function nu(e){return e.forEach((e=>{e instanceof pu&&e.setState({children:nu(e.state.children)})})),[...e].sort(((e,t)=>e.state.y-t.state.y||e.state.x-t.state.x))}function au(e){return[...e].sort(((e,t)=>e.y-t.y||e.x-t.x))}ru.Component=function({model:e}){const{children:t,isLazy:r,isDraggable:n,isResizable:a}=e.useState(),s=(0,i.useRef)(null);return(0,i.useEffect)((()=>{Ll(s,!!n)}),[n]),function(e){if(e.some((e=>void 0===e.state.height||void 0===e.state.width||void 0===e.state.x||void 0===e.state.y)))throw new Error("All children must have a size specified")}(t),o().createElement(ml,null,(({width:t,height:i})=>{if(0===t)return null;const l=e.buildGridLayout(t,i);return o().createElement("div",{ref:s,style:{width:`${t}px`,height:"100%",position:"relative",zIndex:1},className:"react-grid-layout"},o().createElement(tl(),{width:t,isDraggable:n&&t>768,isResizable:null!=a&&a,containerPadding:[0,0],useCSSTransforms:!0,margin:[8,8],cols:24,rowHeight:30,draggableHandle:`.grid-drag-handle-${e.state.key}`,draggableCancel:".grid-drag-cancel",layout:l,onDragStart:e.onDragStart,onDragStop:e.onDragStop,onResizeStop:e.onResizeStop,onLayoutChange:e.onLayoutChange,isBounded:!1,resizeHandle:o().createElement(Nl,null)},l.map(((t,n)=>o().createElement(Il,{key:t.i,grid:e,layoutItem:t,index:n,isLazy:r,totalCount:l.length})))))}))};var iu=Object.defineProperty,ou=Object.defineProperties,su=Object.getOwnPropertyDescriptors,lu=Object.getOwnPropertySymbols,uu=Object.prototype.hasOwnProperty,cu=Object.prototype.propertyIsEnumerable,du=(e,t,r)=>t in e?iu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class pu extends ee{constructor(e){var t;super((t=((e,t)=>{for(var r in t||(t={}))uu.call(t,r)&&du(e,r,t[r]);if(lu)for(var r of lu(t))cu.call(t,r)&&du(e,r,t[r]);return e})({children:e.children||[],isCollapsible:e.isCollapsible||!0,title:e.title||""},e),ou(t,su({x:0,height:1,width:24})))),this.onCollapseToggle=()=>{this.state.isCollapsible&&this.getGridLayout().toggleRow(this)}}getGridLayout(){const e=this.parent;if(!(e&&e instanceof ru))throw new Error("SceneGridRow must be a child of SceneGridLayout");return e}getUrlState(){return{rowc:this.state.isCollapsed?"1":"0"}}updateFromUrl(e){null!=e.rowc&&e.rowc!==this.getUrlState().rowc&&this.onCollapseToggle()}}pu.Component=function({model:e}){const t=(0,sr.useStyles2)(hu),{isCollapsible:r,isCollapsed:n,title:a,actions:i,children:s}=e.useState(),l=e.getGridLayout(),u=l.getDragClass(),c=l.isDraggable(),d=s?s.length:0,p=1===d?"panel":"panels";return o().createElement("div",{className:(0,cr.cx)(t.row,n&&t.rowCollapsed)},o().createElement("div",{className:t.rowTitleAndActionsGroup},o().createElement("button",{onClick:e.onCollapseToggle,className:t.rowTitleButton,"aria-label":n?"Expand row":"Collapse row","data-testid":ur.components.DashboardRow.title(Tt.interpolate(e,a,void 0,"text"))},r&&o().createElement(sr.Icon,{name:n?"angle-right":"angle-down"}),o().createElement("span",{className:t.rowTitle,role:"heading"},Tt.interpolate(e,a,void 0,"text"))),o().createElement("span",{className:(0,cr.cx)(t.panelCount,n&&t.panelCountCollapsed)},"(",d," ",p,")"),i&&o().createElement("div",{className:t.rowActions},o().createElement(i.Component,{model:i}))),c&&n&&o().createElement("div",{className:(0,cr.cx)(t.dragHandle,u)},o().createElement(sr.Icon,{name:"draggabledots"})))};const hu=e=>({row:(0,cr.css)({width:"100%",height:"30px",display:"flex",justifyContent:"space-between",gap:e.spacing(1)}),rowTitleButton:(0,cr.css)({display:"flex",alignItems:"center",cursor:"pointer",background:"transparent",border:"none",gap:e.spacing(1)}),rowCollapsed:(0,cr.css)({borderBottom:`1px solid ${e.colors.border.weak}`}),rowTitle:(0,cr.css)({fontSize:e.typography.h5.fontSize,fontWeight:e.typography.fontWeightMedium}),collapsedInfo:(0,cr.css)({fontSize:e.typography.bodySmall.fontSize,color:e.colors.text.secondary,display:"flex",alignItems:"center",flexGrow:1}),rowTitleAndActionsGroup:(0,cr.css)({display:"flex","&:hover, &:focus-within":{"& > div":{opacity:1}}}),rowActions:(0,cr.css)({display:"flex",opacity:0,transition:"200ms opacity ease-in 200ms","&:hover, &:focus-within":{opacity:1}}),dragHandle:(0,cr.css)({display:"flex",padding:e.spacing(0,1),alignItems:"center",justifyContent:"flex-end",cursor:"move",color:e.colors.text.secondary,"&:hover":{color:e.colors.text.primary}}),panelCount:(0,cr.css)({paddingLeft:e.spacing(2),color:e.colors.text.secondary,fontStyle:"italic",fontSize:e.typography.size.sm,fontWeight:"normal",display:"none",lineHeight:"30px"}),panelCountCollapsed:(0,cr.css)({display:"inline-block"})});(class extends ee{constructor(){super(...arguments),this.onToggle=()=>{this.setState({isCollapsed:!this.state.isCollapsed})},this.onRemove=()=>{const e=this.parent;"body"in e.state&&e.setState({body:void 0})}}}).Component=function({model:e}){const{title:t,isCollapsed:r,canCollapse:n,canRemove:a,body:i,controls:s}=e.useState(),l=(0,sr.useStyles2)(hu),u=(0,sr.useStyles2)(fu),c=(null!=s?s:[]).map((e=>o().createElement(e.Component,{key:e.state.key,model:e})));a&&c.push(o().createElement(sr.ToolbarButton,{icon:"times",variant:"default",onClick:e.onRemove,key:"remove-button","aria-label":"Remove scene"}));return o().createElement("div",{className:u.wrapper},o().createElement("div",{className:(0,cr.cx)(u.row,r&&u.rowCollapsed)},o().createElement("button",{onClick:e.onToggle,className:l.rowTitleButton,"aria-label":r?"Expand scene":"Collapse scene"},n&&o().createElement(sr.Icon,{name:r?"angle-right":"angle-down"}),o().createElement("span",{className:l.rowTitle,role:"heading"},Tt.interpolate(e,t,void 0,"text"))),o().createElement("div",{className:u.actions},c)),!r&&o().createElement(i.Component,{model:i}))};const fu=e=>({wrapper:(0,cr.css)({display:"flex",flexDirection:"column",flexGrow:1,gap:e.spacing(1)}),row:(0,cr.css)({width:"100%",display:"flex",justifyContent:"space-between",gap:e.spacing(1)}),rowCollapsed:(0,cr.css)({borderBottom:`1px solid ${e.colors.border.weak}`,paddingBottom:e.spacing(1)}),actions:(0,cr.css)({display:"flex",alignItems:"center",gap:e.spacing(1),justifyContent:"flex-end",flexGrow:1})});(class extends ee{constructor(){super(...arguments),this._variableDependency=new Rt(this,{statePaths:["text"]})}}).Component=({model:e})=>{const{text:t,fontSize:r=20,align:n="left",key:a,spacing:i}=e.useState(),s=(0,sr.useTheme2)(),l=(0,cr.css)({fontSize:r,display:"flex",flexGrow:1,alignItems:"center",padding:i?s.spacing(i,0):void 0,justifyContent:n});return o().createElement("div",{className:l,"data-testid":a},Tt.interpolate(e,t))};(class extends ee{}).Component=({model:e})=>{const t=e.useState();return o().createElement(sr.ToolbarButton,{onClick:t.onClick,icon:t.icon})};(class extends ee{}).Component=({model:e})=>{const t=e.useState();return o().createElement("div",{style:{display:"flex"}},t.label&&o().createElement(Zr,{label:t.label}),o().createElement(sr.Input,{defaultValue:t.value,width:8,onBlur:t=>{e.state.onChange(parseInt(t.currentTarget.value,10))}}))};class mu extends ee{constructor(){super(...arguments),this.onZoom=()=>{const e=Tt.getTimeRange(this),t=function(e,t){const r=e.to.valueOf()-e.from.valueOf(),n=e.to.valueOf()-r/2,a=0===r?3e4:r*t,i=n+a/2,o=n-a/2;return{from:(0,l.toUtc)(o),to:(0,l.toUtc)(i),raw:{from:(0,l.toUtc)(o),to:(0,l.toUtc)(i)}}}(e.state.value,2);e.onTimeRangeChange(t)},this.onChangeFiscalYearStartMonth=e=>{Tt.getTimeRange(this).setState({fiscalYearStartMonth:e})},this.onMoveBackward=()=>{const e=Tt.getTimeRange(this),{state:{value:t}}=e;e.onTimeRangeChange(yu(gu.Backward,t,Date.now()))},this.onMoveForward=()=>{const e=Tt.getTimeRange(this),{state:{value:t}}=e;e.onTimeRangeChange(yu(gu.Forward,t,Date.now()))}}}mu.Component=function({model:e}){const{hidePicker:t,isOnCanvas:r}=e.useState(),n=Tt.getTimeRange(e),a=n.getTimeZone(),i=n.useState();if(t)return null;return o().createElement(sr.TimeRangePicker,{isOnCanvas:null==r||r,value:i.value,onChange:n.onTimeRangeChange,timeZone:a,fiscalYearStartMonth:i.fiscalYearStartMonth,onMoveBackward:e.onMoveBackward,onMoveForward:e.onMoveForward,onZoom:e.onZoom,onChangeTimeZone:n.onTimeZoneChange,onChangeFiscalYearStartMonth:e.onChangeFiscalYearStartMonth})};var gu=(e=>(e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e))(gu||{});function yu(e,t,r){const n=t.to.valueOf(),a=t.from.valueOf(),i=(n-a)/2;let o,s;0===e?(o=a-i,s=n-i):(o=a+i,s=n+i,s>r&&n<r&&(s=r,o=a));const u=(0,l.toUtc)(o),c=(0,l.toUtc)(s);return{from:u,to:c,raw:{from:u,to:c}}}var vu=Object.defineProperty,bu=Object.defineProperties,wu=Object.getOwnPropertyDescriptors,Su=Object.getOwnPropertySymbols,xu=Object.prototype.hasOwnProperty,Ou=Object.prototype.propertyIsEnumerable,_u=(e,t,r)=>t in e?vu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Eu=["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"];class ku extends ee{constructor(e){var t,r,n,a,i;super((a=((e,t)=>{for(var r in t||(t={}))xu.call(t,r)&&_u(e,r,t[r]);if(Su)for(var r of Su(t))Ou.call(t,r)&&_u(e,r,t[r]);return e})({refresh:""},e),i={autoValue:void 0,autoEnabled:null==(t=e.autoEnabled)||t,autoMinInterval:null!=(r=e.autoMinInterval)?r:u.config.minRefreshInterval,intervals:null!=(n=e.intervals)?n:Eu},bu(a,wu(i)))),this._urlSync=new ke(this,{keys:["refresh"]}),this.onRefresh=()=>{const e=Tt.getQueryController(this);if(null==e?void 0:e.state.isRunning)return void e.cancelAll();const t=Tt.getTimeRange(this);this._intervalTimer&&clearInterval(this._intervalTimer),t.onRefresh(),this.setupIntervalTimer()},this.onIntervalChanged=e=>{this.setState({refresh:e}),this.setupIntervalTimer()},this.setupAutoTimeRangeListener=()=>Tt.getTimeRange(this).subscribeToState(((e,t)=>{e.from===t.from&&e.to===t.to||this.setupIntervalTimer()})),this.calculateAutoRefreshInterval=()=>{var e;const t=Tt.getTimeRange(this),r=null!=(e=null==window?void 0:window.innerWidth)?e:2e3;return l.rangeUtil.calculateInterval(t.state.value,r,this.state.autoMinInterval)},this.setupIntervalTimer=()=>{var e;const t=Tt.getTimeRange(this),{refresh:r,intervals:n}=this.state;if((this._intervalTimer||""===r)&&clearInterval(this._intervalTimer),""===r)return;if(r!==sr.RefreshPicker.autoOption.value&&n&&!n.includes(r))return;let a;if(null==(e=this._autoTimeRangeListener)||e.unsubscribe(),r===sr.RefreshPicker.autoOption.value){const e=this.calculateAutoRefreshInterval();a=e.intervalMs,this._autoTimeRangeListener=this.setupAutoTimeRangeListener(),e.interval!==this.state.autoValue&&this.setState({autoValue:e.interval})}else a=l.rangeUtil.intervalToMs(r);this._intervalTimer=setInterval((()=>{t.onRefresh()}),a)},this.addActivationHandler((()=>(this.setupIntervalTimer(),()=>{var e;this._intervalTimer&&clearInterval(this._intervalTimer),null==(e=this._autoTimeRangeListener)||e.unsubscribe()})))}getUrlState(){return{refresh:""!==this.state.refresh?this.state.refresh:void 0}}updateFromUrl(e){const t=e.refresh;"string"==typeof t?this.setState({refresh:t}):null==t&&this.setState({refresh:""})}}ku.Component=function({model:e}){var t;const{refresh:r,intervals:n,autoEnabled:a,autoValue:i,isOnCanvas:s,primary:l,withText:u}=e.useState(),c=function(e){const t=Tt.getQueryController(e);if(!t)return!1;return t.useState().isRunning}(e);let d,p,h=r===(null==(t=sr.RefreshPicker.autoOption)?void 0:t.value)?i:u?"Refresh":void 0;c&&(d="Cancel all queries",u&&(h="Cancel"));u&&(p="96px");return o().createElement(sr.RefreshPicker,{showAutoInterval:a,value:r,intervals:n,tooltip:d,width:p,text:h,onRefresh:e.onRefresh,primary:l,onIntervalChanged:e.onIntervalChanged,isLoading:c,isOnCanvas:null==s||s})};const Cu=e=>`${e}-compare`;var Tu=Object.defineProperty,Du=Object.defineProperties,Pu=Object.getOwnPropertyDescriptors,Ru=Object.getOwnPropertySymbols,Au=Object.prototype.hasOwnProperty,ju=Object.prototype.propertyIsEnumerable,Iu=(e,t,r)=>t in e?Tu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Lu=(e,t)=>{for(var r in t||(t={}))Au.call(t,r)&&Iu(e,r,t[r]);if(Ru)for(var r of Ru(t))ju.call(t,r)&&Iu(e,r,t[r]);return e},Nu=(e,t)=>Du(e,Pu(t));const Mu="__previousPeriod",Vu="__noPeriod",$u={label:"Previous period",value:Mu},zu={label:"No comparison",value:Vu},Fu=[{label:"Day before",value:"24h"},{label:"Week before",value:"1w"},{label:"Month before",value:"1M"}];(class extends ee{constructor(e){super(Lu({compareOptions:Fu},e)),this._urlSync=new ke(this,{keys:["compareWith"]}),this._onActivate=()=>{const e=Tt.getTimeRange(this);this.setState({compareOptions:this.getCompareOptions(e.state.value)}),this._subs.add(e.subscribeToState((e=>{const t=this.getCompareOptions(e.value),r={compareOptions:t};Boolean(this.state.compareWith)&&!t.find((({value:e})=>e===this.state.compareWith))&&(r.compareWith=Mu),this.setState(r)})))},this.getCompareOptions=e=>{const t=Math.ceil(e.to.diff(e.from)),r=Fu.findIndex((({value:e})=>l.rangeUtil.intervalToMs(e)>=t));return[zu,$u,...Fu.slice(r).map((({label:e,value:t})=>({label:e,value:t})))]},this.onCompareWithChanged=e=>{e===Vu?this.onClearCompare():this.setState({compareWith:e})},this.onClearCompare=()=>{this.setState({compareWith:void 0})},this.addActivationHandler(this._onActivate)}getExtraQueries(e){const t=[],r=this.getCompareTimeRange(e.range);if(!r)return t;const n=e.targets.filter((e=>!1!==e.timeRangeCompare));return n.length&&t.push({req:Nu(Lu({},e),{targets:n,range:r}),processor:Bu}),t}shouldRerun(e,t){return e.compareWith!==t.compareWith}getCompareTimeRange(e){let t,r;if(this.state.compareWith){if(this.state.compareWith===Mu){const n=e.to.diff(e.from);t=(0,l.dateTime)(e.from).subtract(n),r=(0,l.dateTime)(e.to).subtract(n)}else t=(0,l.dateTime)(e.from).subtract(l.rangeUtil.intervalToMs(this.state.compareWith)),r=(0,l.dateTime)(e.to).subtract(l.rangeUtil.intervalToMs(this.state.compareWith));return{from:t,to:r,raw:{from:t,to:r}}}}getUrlState(){return{compareWith:this.state.compareWith}}updateFromUrl(e){if(!e.compareWith)return;const t=Te(e.compareWith);if(t){this.getCompareOptions(Tt.getTimeRange(this).state.value).find((({value:e})=>e===t))?this.setState({compareWith:t}):this.setState({compareWith:"__previousPeriod"})}}}).Component=function({model:e}){var t;const r=(0,sr.useStyles2)(Uu),{compareWith:n,compareOptions:a}=e.useState(),[i,s]=o().useState(n),l=null!=(t=a.find((({value:e})=>e===i)))?t:$u,u=a.find((({value:e})=>e===n)),c=Boolean(u),d=()=>{c?(s(n),e.onClearCompare()):c||e.onCompareWithChanged(l.value)};return o().createElement(sr.ButtonGroup,null,o().createElement(sr.ToolbarButton,{variant:"canvas",tooltip:"Enable time frame comparison",onClick:e=>{e.stopPropagation(),e.preventDefault(),d()}},o().createElement(sr.Checkbox,{label:" ",value:c,onClick:d}),"Comparison"),c?o().createElement(sr.ButtonSelect,{variant:"canvas",value:u,options:a,onChange:t=>{e.onCompareWithChanged(t.value)}}):o().createElement(sr.ToolbarButton,{className:r.previewButton,disabled:!0,variant:"canvas",isOpen:!1},l.label))};const Bu=(e,t)=>{const r=t.timeRange.from.diff(e.timeRange.from);return t.series.forEach((e=>{e.refId=Cu(e.refId||""),e.meta=Nu(Lu({},e.meta),{timeCompare:{diffMs:r,isTimeShiftQuery:!0}}),e.fields.forEach((e=>(e.type===l.FieldType.time&&(e.values=e.values.map((e=>r<0?e-r:e+r))),e.config=Nu(Lu({},e.config),{color:{mode:"fixed",fixedColor:u.config.theme.palette.gray60}}),e)))})),(0,k.of)(t)};function Uu(e){return{previewButton:(0,cr.css)({"&:disabled":{border:`1px solid ${e.colors.secondary.border}`,color:e.colors.text.disabled,opacity:1}})}}(class extends ee{constructor(e){super(e),this.addActivationHandler((()=>{const e=Tt.getData(this);this._subs.add(e.subscribeToState((e=>{var t;(null==(t=e.data)?void 0:t.state)===l.LoadingState.Done&&this.performRepeat(e.data)}))),e.state.data&&this.performRepeat(e.state.data)}))}performRepeat(e){const t=[];for(let r=0;r<e.series.length;r++){const n=this.state.getLayoutChild(e,e.series[r],r);t.push(n)}this.state.body.setState({children:t})}}).Component=({model:e})=>{const{body:t}=e.useState();return o().createElement(t.Component,{model:t})};(class extends ee{constructor(e){super(e),this._variableDependency=new Rt(this,{variableNames:[this.state.variableName],onVariableUpdateCompleted:()=>this.performRepeat()}),this.addActivationHandler((()=>this.performRepeat()))}performRepeat(){if(this._variableDependency.hasDependencyInLoadingState())return;const e=Tt.lookupVariable(this.state.variableName,this);if(!(e instanceof ar))return void console.error("SceneByVariableRepeater: variable is not a MultiValueVariable");const t=function(e){const{value:t,text:r,options:n}=e.state;if(e.hasAllValue())return n;if(Array.isArray(t)&&Array.isArray(r))return t.map(((e,t)=>({value:e,label:r[t]})));return[{value:t,label:r}]}(e),r=[];for(const e of t){const t=this.state.getLayoutChild(e);r.push(t)}this.state.body.setState({children:r})}}).Component=({model:e})=>{const{body:t}=e.useState();return o().createElement(t.Component,{model:t})};const Hu=class extends ee{constructor(){super({})}get Component(){return Hu.Component}};Hu.Component=e=>o().createElement("div",{style:{flexGrow:1}});class qu extends ee{toggleDirection(){this.setState({direction:"row"===this.state.direction?"column":"row"})}isDraggable(){return!1}}qu.Component=function({model:e,parentState:t}){const{children:r,isHidden:n}=e.useState(),a=function(e,t){return(0,i.useMemo)((()=>{var r,n,a,i,o,s,l,c,d,p;const{direction:h="row",wrap:f}=e,m=u.config.theme2,g={};return t?Gu(g,e,t):(g.display="flex",g.flexGrow=1,g.minWidth=e.minWidth,g.minHeight=e.minHeight),g.flexDirection=h,g.gap="8px",g.flexWrap=f||"nowrap",g.alignContent="baseline",g.minWidth=g.minWidth||0,g.minHeight=g.minHeight||0,g[m.breakpoints.down("md")]={flexDirection:null!=(n=null==(r=e.md)?void 0:r.direction)?n:"column",maxWidth:null!=(i=null==(a=e.md)?void 0:a.maxWidth)?i:"unset",maxHeight:null!=(s=null==(o=e.md)?void 0:o.maxHeight)?s:"unset",height:null!=(c=null==(l=e.md)?void 0:l.height)?c:"unset",width:null!=(p=null==(d=e.md)?void 0:d.width)?p:"unset"},(0,cr.css)(g)}),[t,e])}(e.state,t);if(n)return null;return o().createElement("div",{className:a},r.map((t=>{const r=t.Component;return o().createElement(r,{key:t.state.key,model:t,parentState:e.state})})))};class Wu extends ee{}function Gu(e,t,r){var n,a,i;const o=null!=(n=r.direction)?n:"row",{xSizing:s="fill",ySizing:l="fill"}=t;return e.display="flex",e.position="relative",e.flexDirection=o,"column"===o?(t.height?e.height=t.height:e.flexGrow="fill"===l?1:0,t.width?e.width=t.width:e.alignSelf="fill"===s?"stretch":"flex-start"):(t.height?e.height=t.height:e.alignSelf="fill"===l?"stretch":"flex-start",t.width?e.width=t.width:e.flexGrow="fill"===s?1:0),e.minWidth=t.minWidth,e.maxWidth=t.maxWidth,e.maxHeight=t.maxHeight,e.minHeight=null!=(a=t.minHeight)?a:r.minHeight,e.height=null!=(i=t.height)?i:r.height,e}Wu.Component=function({model:e,parentState:t}){if(!t)throw new Error("SceneFlexItem must be a child of SceneFlexLayout");const{body:r,isHidden:n}=e.useState(),a=function(e,t){return(0,i.useMemo)((()=>{var r,n,a,i,o,s,l,c,d,p;const h=u.config.theme2,f=Gu({},e,t);return f[h.breakpoints.down("md")]={maxWidth:null!=(n=null==(r=e.md)?void 0:r.maxWidth)?n:"unset",maxHeight:null!=(i=null==(a=e.md)?void 0:a.maxHeight)?i:"unset",height:null!=(l=null==(o=e.md)?void 0:o.height)?l:null==(s=t.md)?void 0:s.height,width:null!=(p=null==(c=e.md)?void 0:c.width)?p:null==(d=t.md)?void 0:d.width},(0,cr.css)(f)}),[e,t])}(e.state,t);if(!r||n)return null;return o().createElement("div",{className:a},o().createElement(r.Component,{model:r}))};var Qu=Object.defineProperty,Xu=Object.getOwnPropertySymbols,Ju=Object.prototype.hasOwnProperty,Ku=Object.prototype.propertyIsEnumerable,Yu=(e,t,r)=>t in e?Qu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Zu extends ee{constructor(e){var t,r;super(((e,t)=>{for(var r in t||(t={}))Ju.call(t,r)&&Yu(e,r,t[r]);if(Xu)for(var r of Xu(t))Ku.call(t,r)&&Yu(e,r,t[r]);return e})({rowGap:1,columnGap:1,templateColumns:"repeat(auto-fit, minmax(400px, 1fr))",autoRows:null!=(t=e.autoRows)?t:"320px",children:null!=(r=e.children)?r:[]},e))}isDraggable(){return!1}}Zu.Component=function({model:e}){const{children:t,isHidden:r,isLazy:n}=e.useState(),a=(s=e.state,(0,i.useMemo)((()=>{var e,t,r,n,a,i,o,l,c,d,p;const h={},f=u.config.theme2;return h.display="grid",h.gridTemplateColumns=s.templateColumns,h.gridTemplateRows=s.templateRows||"unset",h.gridAutoRows=s.autoRows||"unset",h.rowGap=f.spacing(null!=(e=s.rowGap)?e:1),h.columnGap=f.spacing(null!=(t=s.columnGap)?t:1),h.justifyItems=s.justifyItems||"unset",h.alignItems=s.alignItems||"unset",h.justifyContent=s.justifyContent||"unset",h.flexGrow=1,s.md&&(h[f.breakpoints.down("md")]={gridTemplateRows:null==(r=s.md)?void 0:r.templateRows,gridTemplateColumns:null==(n=s.md)?void 0:n.templateColumns,rowGap:s.md.rowGap?f.spacing(null!=(i=null==(a=s.md)?void 0:a.rowGap)?i:1):void 0,columnGap:s.md.columnGap?f.spacing(null!=(l=null==(o=s.md)?void 0:o.rowGap)?l:1):void 0,justifyItems:null==(c=s.md)?void 0:c.justifyItems,alignItems:null==(d=s.md)?void 0:d.alignItems,justifyContent:null==(p=s.md)?void 0:p.justifyContent}),(0,cr.css)(h)}),[s]));var s;if(r)return null;return o().createElement("div",{className:a},t.map((t=>{const r=t.Component;return n?o().createElement(Ol,{key:t.state.key,className:a},o().createElement(r,{key:t.state.key,model:t,parentState:e.state})):o().createElement(r,{key:t.state.key,model:t,parentState:e.state})})))};class ec extends ee{}ec.Component=function({model:e,parentState:t}){if(!t)throw new Error("SceneCSSGridItem must be a child of SceneCSSGridLayout");const{body:r,isHidden:n}=e.useState(),a=(s=e.state,(0,i.useMemo)((()=>{const e={};return e.gridColumn=s.gridColumn||"unset",e.gridRow=s.gridRow||"unset",e.position="relative",(0,cr.css)(e)}),[s]));var s;if(!r||n)return null;return o().createElement("div",{className:a},o().createElement(r.Component,{model:r}))};var tc=Object.defineProperty,rc=Object.getOwnPropertySymbols,nc=Object.prototype.hasOwnProperty,ac=Object.prototype.propertyIsEnumerable,ic=(e,t,r)=>t in e?tc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oc=(e,t)=>{for(var r in t||(t={}))nc.call(t,r)&&ic(e,r,t[r]);if(rc)for(var r of rc(t))ac.call(t,r)&&ic(e,r,t[r]);return e};const sc=.3,lc=new Set(["ArrowUp","ArrowDown"]),uc=new Set(["ArrowLeft","ArrowRight"]),cc={row:{dim:"width",axis:"clientX",min:"minWidth",max:"maxWidth"},column:{dim:"height",axis:"clientY",min:"minHeight",max:"maxHeight"}};function dc({direction:e="row",handleSize:t=32,initialSize:r="auto",primaryPaneStyles:n,secondaryPaneStyles:a,onDragFinished:s,children:l}){const u=o().Children.toArray(l),c=(0,i.useRef)(null),d=(0,i.useRef)(null),p=(0,i.useRef)(null),h=(0,i.useRef)(null),f=(0,i.useRef)(null),m=(0,i.useRef)("1fr"),g=(0,i.useRef)(void 0),y=(0,i.useRef)(void 0),v=cc[e].dim,b=cc[e].axis,w=cc[e].min,S=cc[e].max;!function(e,t,r=0,n){const a=(0,he.throttle)(t,r);(0,i.useLayoutEffect)((()=>{if(!e)return;const t=new ResizeObserver(a);return t.observe(e,{box:"device-pixel-content-box"}),()=>t.disconnect()}),n)}(h.current,(e=>{for(const t of e){if(!t.target.isSameNode(h.current))return;const e=d.current.getBoundingClientRect()[v],r=hc(d.current);c.current.ariaValueNow=`${(0,he.clamp)((e-r[w])/(r[S]-r[w])*100,0,100)}`}}),500,[S,w,e,v]);const x=(0,i.useRef)(null),O=(0,i.useCallback)((e=>{m.current=d.current.getBoundingClientRect()[v],f.current=h.current.getBoundingClientRect()[v],x.current=e[b],c.current.setPointerCapture(e.pointerId),g.current=hc(d.current),y.current=void 0}),[v,b]),_=(0,i.useCallback)((e=>{if(null!==x.current&&"1fr"!==m.current){const r=e[b]-x.current,n=g.current,a=(0,he.clamp)(m.current+r,n[w],n[S]),i=a/(f.current-t);d.current.style.flexGrow=`${i}`,p.current.style.flexGrow=""+(1-i);const o=(0,he.clamp)((a-n[w])/(n[S]-n[w])*100,0,100);c.current.ariaValueNow=`${o}`}}),[t,b,w,S]),E=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),c.current.releasePointerCapture(e.pointerId),x.current=null,null==s||s(parseFloat(d.current.style.flexGrow))}),[s]),k=(0,i.useRef)(new Set),C=(0,i.useRef)(null),T=(0,i.useCallback)((r=>{var n;if(0===k.current.size)return void(C.current=null);if("1fr"===m.current)return;const a=(r-(null!=(n=C.current)?n:r))*sc;let i=0;"row"===e?(k.current.has("ArrowLeft")&&(i-=a),k.current.has("ArrowRight")&&(i+=a)):(k.current.has("ArrowUp")&&(i-=a),k.current.has("ArrowDown")&&(i+=a));const o=g.current,s=d.current.getBoundingClientRect()[v],l=(0,he.clamp)(s+i,o[w],o[S]),u=l/(f.current-t);d.current.style.flexGrow=`${u}`,p.current.style.flexGrow=""+(1-u);const h=(l-o[w])/(o[S]-o[w])*100;c.current.ariaValueNow=`${(0,he.clamp)(h,0,100)}`,C.current=r,window.requestAnimationFrame(T)}),[e,t,w,S,v]),D=(0,i.useCallback)((r=>{if("Enter"===r.key)return void(void 0===y.current?(y.current=d.current.style.flexGrow,d.current.style.flexGrow="0",p.current.style.flexGrow="1"):(d.current.style.flexGrow=y.current,p.current.style.flexGrow=""+(1-parseFloat(y.current)),y.current=void 0));if("Home"===r.key){g.current=hc(d.current),f.current=h.current.getBoundingClientRect()[v];const e=g.current[w]/(f.current-t);return d.current.style.flexGrow=`${e}`,p.current.style.flexGrow=""+(1-e),void(c.current.ariaValueNow="0")}if("End"===r.key){g.current=hc(d.current),f.current=h.current.getBoundingClientRect()[v];const e=g.current[S]/(f.current-t);return d.current.style.flexGrow=`${e}`,p.current.style.flexGrow=""+(1-e),void(c.current.ariaValueNow="100")}if(!("column"===e&&lc.has(r.key)||"row"===e&&uc.has(r.key))||k.current.has(r.key))return;y.current=void 0,r.preventDefault(),r.stopPropagation(),m.current=d.current.getBoundingClientRect()[v],f.current=h.current.getBoundingClientRect()[v],g.current=hc(d.current);if(!k.current.has(r.key)){const e=0===k.current.size;k.current.add(r.key),e&&window.requestAnimationFrame(T)}}),[e,T,t,S,v,w]),P=(0,i.useCallback)((t=>{"row"===e&&!uc.has(t.key)||"column"===e&&!lc.has(t.key)||(k.current.delete(t.key),null==s||s(parseFloat(d.current.style.flexGrow)))}),[e,s]),R=(0,i.useCallback)((()=>{d.current.style.flexGrow="0.5",p.current.style.flexGrow="0.5";const e=hc(d.current);g.current=e,m.current=d.current.getBoundingClientRect()[v],c.current.ariaValueNow=""+(m.current-e[w])/(e[S]-e[w])*100}),[S,v,w]),A=(0,i.useCallback)((()=>{k.current.size>0&&(k.current.clear(),x.current=null,null==s||s(parseFloat(d.current.style.flexGrow)))}),[s]),j=(0,sr.useStyles2)(pc),I=xl(),L=2===u.length?"visible":"hidden";return o().createElement("div",{ref:h,className:j.container,style:{flexDirection:e}},o().createElement("div",{ref:d,className:j.panel,style:oc({flexGrow:"auto"===r?.5:(0,he.clamp)(r,0,1),[w]:"min-content"},n),id:`start-panel-${I}`},u[0]),u[1]&&o().createElement(o().Fragment,null,o().createElement("div",{ref:c,style:{[v]:`${t}px`},className:(0,cr.cx)(j.handle,{[j.handleHorizontal]:"column"===e}),onPointerUp:E,onPointerDown:O,onPointerMove:_,onKeyDown:D,onKeyUp:P,onDoubleClick:R,onBlur:A,role:"separator","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":50,"aria-controls":`start-panel-${I}`,"aria-label":"Pane resize widget",tabIndex:0}),o().createElement("div",{ref:p,className:j.panel,style:oc({flexGrow:"auto"===r?.5:(0,he.clamp)(1-r,0,1),[w]:"min-content",visibility:`${L}`},a),id:`end-panel-${I}`},u[1])))}function pc(e){return{handle:(0,cr.css)({cursor:"col-resize",position:"relative",flexShrink:0,userSelect:"none","&::before":{content:'""',position:"absolute",backgroundColor:e.colors.primary.main,left:"50%",transform:"translate(-50%)",top:0,height:"100%",width:"1px",opacity:0,transition:"opacity ease-in-out 0.2s"},"&::after":{content:'""',width:"4px",borderRadius:"4px",backgroundColor:e.colors.border.weak,transition:"background-color ease-in-out 0.2s",height:"50%",top:"calc(50% - (50%) / 2)",transform:"translateX(-50%)",position:"absolute",left:"50%"},"&:hover, &:focus-visible":{outline:"none","&::before":{opacity:1},"&::after":{backgroundColor:e.colors.primary.main}}}),handleHorizontal:(0,cr.css)({cursor:"row-resize","&::before":{left:"inherit",transform:"translateY(-50%)",top:"50%",height:"1px",width:"100%"},"&::after":{width:"50%",height:"4px",top:"50%",transform:"translateY(-50%)",left:"calc(50% - (50%) / 2)"}}),container:(0,cr.css)({display:"flex",width:"100%",flexGrow:1,overflow:"hidden"}),panel:(0,cr.css)({display:"flex",position:"relative",flexBasis:0})}}function hc(e){if(null===e)return;const t=document.body.style.overflow,r=e.style.width,n=e.style.height,a=e.style.flexGrow;document.body.style.overflow="hidden",e.style.flexGrow="0";const{width:i,height:o}=e.getBoundingClientRect();e.style.flexGrow="100";const{width:s,height:l}=e.getBoundingClientRect();return document.body.style.overflow=t,e.style.width=r,e.style.height=n,e.style.flexGrow=a,{minWidth:i,maxWidth:s,minHeight:o,maxHeight:l}}class fc extends ee{toggleDirection(){this.setState({direction:"row"===this.state.direction?"column":"row"})}isDraggable(){return!1}}fc.Component=function({model:e}){const{primary:t,secondary:r,direction:n,isHidden:a,initialSize:i,primaryPaneStyles:s,secondaryPaneStyles:l}=e.useState();if(a)return null;const u=t.Component,c=null==r?void 0:r.Component;let d=r?i:1;return o().createElement(dc,{direction:n,initialSize:null!=d?d:.5,primaryPaneStyles:s,secondaryPaneStyles:l},o().createElement(u,{key:t.state.key,model:t,parentState:e.state}),c&&r&&o().createElement(c,{key:r.state.key,model:r,parentState:e.state}))};var mc=r(8398);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(e){}new Map;i.startTransition,mc.flushSync,i.useId;"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;var gc,yc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gc||(gc={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(yc||(yc={}));(class extends ee{enrichDataRequest(){return{app:this.state.name||"app"}}}).Component=({model:e})=>{const{pages:t}=e.useState();return o().createElement(a.Switch,null,t.map((e=>o().createElement(s.Route,{key:e.state.url,exact:!1,path:e.state.url,render:t=>y(e,t)}))))};var vc=Object.defineProperty,bc=Object.getOwnPropertySymbols,wc=Object.prototype.hasOwnProperty,Sc=Object.prototype.propertyIsEnumerable,xc=(e,t,r)=>t in e?vc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Oc extends ee{}function _c({node:e}){const t=e.useState(),r=(0,sr.useStyles2)(Ec);return o().createElement("div",{className:r.container},Object.keys(t).map((n=>o().createElement("div",{className:r.row,key:n},o().createElement("div",{className:r.keyName},n),o().createElement("div",{className:r.value},function(e,t,r){if(null===t)return"null";switch(typeof t){case"number":return o().createElement(sr.Input,{type:"number",defaultValue:t,onBlur:t=>r.setState({[e]:t.currentTarget.valueAsNumber})});case"string":return o().createElement(sr.Input,{type:"text",defaultValue:t,onBlur:t=>r.setState({[e]:t.currentTarget.value})});case"object":return st(t)?t.constructor.name:(0,he.isPlainObject)(t)||(0,he.isArray)(t)?o().createElement(sr.JSONFormatter,{json:t,open:0}):String(t);default:return typeof t}}(n,t[n],e))))))}function Ec(e){return{container:(0,cr.css)({flexGrow:1,display:"flex",gap:e.spacing(.5),flexDirection:"column"}),row:(0,cr.css)({display:"flex",gap:e.spacing(2)}),keyName:(0,cr.css)({display:"flex",flexGrow:"0",width:120,alignItems:"center",height:e.spacing(e.components.height.md)}),value:(0,cr.css)({flexGrow:1,minHeight:e.spacing(e.components.height.md),display:"flex",alignItems:"center"})}}function kc({node:e,selectedObject:t,onSelect:r}){const n=(0,sr.useStyles2)(Cc),a=[],i=e===t;return e.forEachChild((e=>{a.push(o().createElement(kc,{node:e,key:e.state.key,selectedObject:t,onSelect:r}))})),o().createElement("div",{className:n.container},o().createElement("div",{className:(0,cr.cx)(n.name,i&&n.selected),onClick:()=>r(e)},e.constructor.name),o().createElement("div",{className:n.children},a))}function Cc(e){return{container:(0,cr.css)({flexGrow:1,display:"flex",gap:e.spacing(.5),flexDirection:"column"}),name:(0,cr.css)({flexGrow:1,display:"flex",gap:e.spacing(1),fontSize:e.typography.bodySmall.fontSize,cursor:"pointer",padding:e.spacing(0,1),borderRadius:e.shape.borderRadius(2),position:"relative","&:hover":{background:e.colors.background.secondary}}),selected:(0,cr.css)({"&::before":{display:"block",content:"' '",position:"absolute",left:0,width:4,bottom:2,top:2,borderRadius:e.shape.radius.default,backgroundImage:e.colors.gradients.brandVertical}}),children:(0,cr.css)({flexGrow:1,display:"flex",flexDirection:"column",paddingLeft:e.spacing(1)})}}function Tc({scene:e}){const t=(0,sr.useStyles2)(Dc),[r,n]=(0,i.useState)(!1),[a,s]=(0,i.useState)();return o().createElement(o().Fragment,null,o().createElement(sr.ToolbarButton,{variant:"canvas",icon:"bug",onClick:()=>n(!0)}),r&&o().createElement(sr.Drawer,{title:"Scene debugger",onClose:()=>n(!1),size:"lg"},o().createElement("div",{className:t.panes},o().createElement("div",{className:t.pane1},o().createElement("div",{className:t.paneHeading},"Scene graph"),o().createElement(sr.CustomScrollbar,{autoHeightMin:"100%"},o().createElement("div",{className:t.treeWrapper},o().createElement(kc,{node:e,selectedObject:a,onSelect:s})))),o().createElement("div",{className:t.pane2},o().createElement("div",{className:t.paneHeading},"Object details"),a&&o().createElement(_c,{node:a})))))}function Dc(e){return{panes:(0,cr.css)({flexGrow:1,display:"flex",height:"100%",flexDirection:"row",marginTop:e.spacing(-2)}),pane1:(0,cr.css)({flexGrow:0,display:"flex",height:"100%",flexDirection:"column",borderRight:`1px solid ${e.colors.border.weak}`}),pane2:(0,cr.css)({flexGrow:1,display:"flex",minHeight:"100%",flexDirection:"column",paddingLeft:e.spacing(2)}),treeWrapper:(0,cr.css)({paddingRight:e.spacing(2),height:"100%",marginLeft:e.spacing(-1)}),paneHeading:(0,cr.css)({padding:e.spacing(1,0),fontWeight:e.typography.fontWeightMedium})}}function Pc({page:e,routeProps:t}){const r=function(e){if(e.parent instanceof jc)return e.parent;return e}(e),n=r.useState(),a=function(){const e=(0,s.useLocation)();return(0,u.locationSearchToObject)(e.search||"")}(),l=e.getScene(t.match),c=n.initializedScene===l;if((0,i.useLayoutEffect)((()=>{c||r.initializeScene(l)}),[l,r,c]),(0,i.useEffect)((()=>()=>r.setState({initializedScene:void 0})),[r]),!c)return null;const d={text:n.title,img:n.titleImg,icon:n.titleIcon,url:g(n.url,n.preserveUrlKeys),hideFromBreadcrumbs:n.hideFromBreadcrumbs,parentItem:Rc(n.getParentPage?n.getParentPage():r.parent)};n.tabs&&(d.children=n.tabs.map((t=>({text:t.state.title,icon:t.state.titleIcon,tabSuffix:t.state.tabSuffix,active:e===t,url:g(t.state.url,t.state.preserveUrlKeys),parentItem:d}))));let p=[];return n.controls&&(p=n.controls.map((e=>o().createElement(e.Component,{model:e,key:e.state.key})))),a["scene-debugger"]&&p.push(o().createElement(Tc,{scene:r,key:"scene-debugger"})),o().createElement(u.PluginPage,{pageNav:d,actions:p,renderTitle:n.renderTitle,subTitle:n.subTitle},o().createElement(l.Component,{model:l}))}function Rc(e,t){if(e instanceof jc)return{text:e.state.title,url:g(e.state.url,e.state.preserveUrlKeys),hideFromBreadcrumbs:e.state.hideFromBreadcrumbs,parentItem:Rc(e.state.getParentPage?e.state.getParentPage():e.parent)}}function Ac({drilldown:e,parent:t,routeProps:r}){return y(t.getDrilldownPage(e,r.match),r)}Oc.Component=({model:e})=>{const{component:t,props:r,reactNode:n}=e.useState();return t?o().createElement(t,((e,t)=>{for(var r in t||(t={}))wc.call(t,r)&&xc(e,r,t[r]);if(bc)for(var r of bc(t))Sc.call(t,r)&&xc(e,r,t[r]);return e})({},r)):n||null};class jc extends ee{constructor(e){super(e),this._sceneCache=new Map,this._drilldownCache=new Map,this.addActivationHandler((()=>()=>Xs().cleanUp(this)))}initializeScene(e){this.setState({initializedScene:e}),Xs().initSync(this)}getScene(e){let t=this._sceneCache.get(e.url);if(t)return t;if(!this.state.getScene)throw new Error("Missing getScene on SceneAppPage "+this.state.title);return t=this.state.getScene(e),this._sceneCache.set(e.url,t),t}getDrilldownPage(e,t){let r=this._drilldownCache.get(t.url);return r||(r=e.getPage(t,this),this._drilldownCache.set(t.url,r),r)}enrichDataRequest(e){if(this.state.getParentPage)return this.state.getParentPage().enrichDataRequest(e);if(!this.parent)return null;const t=this.getRoot();return lt(t)?t.enrichDataRequest(e):null}}jc.Component=function({model:e,routeProps:t}){var r,n;const{tabs:i,drilldowns:l}=e.useState(),u=[];if(i&&i.length>0)for(let t=0;t<i.length;t++){const a=i[t];if(0===t&&u.push(o().createElement(s.Route,{exact:!0,key:e.state.url,path:null!=(r=e.state.routePath)?r:e.state.url,render:e=>y(a,e)})),u.push(o().createElement(s.Route,{exact:!0,key:a.state.url,path:null!=(n=a.state.routePath)?n:a.state.url,render:e=>y(a,e)})),a.state.drilldowns)for(const e of a.state.drilldowns)u.push(o().createElement(s.Route,{exact:!1,key:e.routePath,path:e.routePath,render:t=>o().createElement(Ac,{drilldown:e,parent:a,routeProps:t})}))}if(l)for(const t of l)u.push(o().createElement(s.Route,{key:t.routePath,exact:!1,path:t.routePath,render:r=>o().createElement(Ac,{drilldown:t,parent:e,routeProps:r})}));if(!i&&function(e,t){if(!t.isExact)return!1;if(t.url===e.state.url)return!0;if(e.parent instanceof jc&&e.parent.state.tabs[0]===e&&e.parent.state.url===t.url)return!0;return!1}(e,t.match))return o().createElement(Pc,{page:e,routeProps:t});return u.push(function(e,t){return o().createElement(s.Route,{key:"fallback route",render:r=>{var n,a,i;const s=null!=(i=null==(a=(n=e.state).getFallbackPage)?void 0:a.call(n))?i:new jc({url:"",title:"Not found",subTitle:"The url did not match any page",getScene:()=>new Js({body:new qu({direction:"column",children:[new Wu({body:new Oc({component:()=>o().createElement("div",{"data-testid":"default-fallback-content"},"If you found your way here using a link then there might be a bug in this application.")})})]})})});return o().createElement(Pc,{page:s,routeProps:t})}})}(e,t)),o().createElement(a.Switch,null,u)};var Ic=(e=>(e.Always="always",e.Auto="auto",e.Never="never",e))(Ic||{}),Lc=(e=>(e.Hue="hue",e.None="none",e.Opacity="opacity",e.Scheme="scheme",e))(Lc||{}),Nc=(e=>(e.None="none",e.Normal="normal",e.Percent="percent",e))(Nc||{}),Mc=(e=>(e.Auto="auto",e.Horizontal="horizontal",e.Vertical="vertical",e))(Mc||{}),Vc=(e=>(e.Background="background",e.BackgroundSolid="background_solid",e.None="none",e.Value="value",e))(Vc||{}),$c=(e=>(e.Area="area",e.Line="line",e.None="none",e))($c||{}),zc=(e=>(e.Auto="auto",e.Center="center",e))(zc||{}),Fc=(e=>(e.Auto="auto",e.Name="name",e.None="none",e.Value="value",e.ValueAndName="value_and_name",e))(Fc||{}),Bc=(e=>(e.Inverted="inverted",e.SameAsValue="same_as_value",e.Standard="standard",e))(Bc||{}),Uc=(e=>(e.Multi="multi",e.None="none",e.Single="single",e))(Uc||{}),Hc=(e=>(e.Basic="basic",e.Gradient="gradient",e.Lcd="lcd",e))(Hc||{}),qc=(e=>(e.Color="color",e.Hidden="hidden",e.Text="text",e))(qc||{}),Wc=(e=>(e.Auto="auto",e.Hidden="hidden",e.Left="left",e.Top="top",e))(Wc||{}),Gc=(e=>(e.Auto="auto",e.Manual="manual",e))(Gc||{}),Qc=(e=>(e.Auto="auto",e.Lg="lg",e.Md="md",e.Sm="sm",e))(Qc||{});const Xc={barRadius:0,barWidth:.97,fullHighlight:!1,groupWidth:.7,orientation:Mc.Auto,showValue:Ic.Auto,stacking:Nc.None,xTickLabelRotation:0,xTickLabelSpacing:0},Jc={fillOpacity:80,gradientMode:Lc.None,lineWidth:1},Kc={displayMode:Hc.Gradient,maxVizHeight:300,minVizHeight:16,minVizWidth:8,namePlacement:Wc.Auto,showUnfilled:!0,sizing:Gc.Auto,valueMode:qc.Color},Yc={selectedSeries:0},Zc={minVizHeight:75,minVizWidth:75,showThresholdLabels:!1,showThresholdMarkers:!0,sizing:Gc.Auto},ed={layers:[]};const td={calculate:!1,cellGap:1,cellValues:{},color:{scheme:"Oranges",fill:"dark-orange",reverse:!1,exponent:.5,steps:64},exemplars:{color:"rgba(255,0,255,0.7)"},filterValues:{le:1e-9},legend:{show:!0},selectionMode:"x",showValue:Ic.Auto,tooltip:{mode:Uc.Single,yHistogram:!1,showColorScale:!1}},rd={bucketCount:30,bucketOffset:0},nd={fillOpacity:80,gradientMode:Lc.None,lineWidth:1},ad={showImage:!0};const id={displayLabels:[]},od={colorMode:Vc.Value,graphMode:$c.Area,justifyMode:zc.Auto,percentChangeColorMode:Bc.Standard,showPercentChange:!1,textMode:Fc.Auto,wideLayout:!0},sd={alignValue:"left",mergeValues:!0,perPage:20,rowHeight:.9,showValue:Ic.Auto},ld={fillOpacity:70,lineWidth:0},ud={colWidth:.9,rowHeight:.9,showValue:Ic.Auto},cd={fillOpacity:70,lineWidth:1},dd={cellHeight:Qc.Sm,footer:{show:!1,countRows:!1,reducer:[]},frameIndex:0,showHeader:!0,showTypeIcons:!1,sortBy:[]};const pd={content:"# Title\n\nFor markdown syntax help: [commonmark.org/help](https://commonmark.org/help/)",mode:"markdown"};const hd={label:Ic.Auto,show:"points"},fd={series:[]};class md{constructor(){this._overrides=[]}overrideColor(e){return this._overrides[this._overrides.length-1].properties.push({id:"color",value:e}),this}overrideDecimals(e){return this._overrides[this._overrides.length-1].properties.push({id:"decimals",value:e}),this}overrideDisplayName(e){return this._overrides[this._overrides.length-1].properties.push({id:"displayName",value:e}),this}overrideFilterable(e){return this._overrides[this._overrides.length-1].properties.push({id:"filterable",value:e}),this}overrideLinks(e){return this._overrides[this._overrides.length-1].properties.push({id:"links",value:e}),this}overrideMappings(e){return this._overrides[this._overrides.length-1].properties.push({id:"mappings",value:e}),this}overrideMax(e){return this._overrides[this._overrides.length-1].properties.push({id:"max",value:e}),this}overrideMin(e){return this._overrides[this._overrides.length-1].properties.push({id:"min",value:e}),this}overrideNoValue(e){return this._overrides[this._overrides.length-1].properties.push({id:"noValue",value:e}),this}overrideThresholds(e){return this._overrides[this._overrides.length-1].properties.push({id:"thresholds",value:e}),this}overrideUnit(e){return this._overrides[this._overrides.length-1].properties.push({id:"unit",value:e}),this}}class gd extends md{match(e){return this._overrides.push({matcher:e,properties:[]}),this}matchFieldsWithName(e){return this._overrides.push({matcher:{id:l.FieldMatcherID.byName,options:e},properties:[]}),this}matchFieldsWithNameByRegex(e){return this._overrides.push({matcher:{id:l.FieldMatcherID.byRegexp,options:e},properties:[]}),this}matchFieldsByType(e){return this._overrides.push({matcher:{id:l.FieldMatcherID.byType,options:e},properties:[]}),this}matchFieldsByQuery(e){return this._overrides.push({matcher:{id:l.FieldMatcherID.byFrameRefID,options:e},properties:[]}),this}matchFieldsByValue(e){return this._overrides.push({matcher:{id:l.FieldMatcherID.byValue,options:e},properties:[]}),this}matchComparisonQuery(e){return this.matchFieldsByQuery(Cu(e))}overrideCustomFieldConfig(e,t){const r=`custom.${String(e)}`;return this._overrides[this._overrides.length-1].properties.push({id:r,value:t}),this}build(){return this._overrides}}var yd=Object.defineProperty,vd=Object.defineProperties,bd=Object.getOwnPropertyDescriptors,wd=Object.getOwnPropertySymbols,Sd=Object.prototype.hasOwnProperty,xd=Object.prototype.propertyIsEnumerable,Od=(e,t,r)=>t in e?yd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_d=(e,t)=>{for(var r in t||(t={}))Sd.call(t,r)&&Od(e,r,t[r]);if(wd)for(var r of wd(t))xd.call(t,r)&&Od(e,r,t[r]);return e},Ed=(e,t)=>vd(e,bd(t));class kd{constructor(e){this.defaultFieldConfig=e,this._fieldConfig={defaults:{},overrides:[]},this._overridesBuilder=new gd,this.setDefaults()}setDefaults(){const e={defaults:{custom:this.defaultFieldConfig?(0,he.cloneDeep)(this.defaultFieldConfig()):{}},overrides:[]};this._fieldConfig=e}setColor(e){return this.setFieldConfigDefaults("color",e)}setDecimals(e){return this.setFieldConfigDefaults("decimals",e)}setDisplayName(e){return this.setFieldConfigDefaults("displayName",e)}setFilterable(e){return this.setFieldConfigDefaults("filterable",e)}setLinks(e){return this.setFieldConfigDefaults("links",e)}setMappings(e){return this.setFieldConfigDefaults("mappings",e)}setMax(e){return this.setFieldConfigDefaults("max",e)}setMin(e){return this.setFieldConfigDefaults("min",e)}setNoValue(e){return this.setFieldConfigDefaults("noValue",e)}setThresholds(e){return this.setFieldConfigDefaults("thresholds",e)}setUnit(e){return this.setFieldConfigDefaults("unit",e)}setCustomFieldConfig(e,t){return this._fieldConfig.defaults=Ed(_d({},this._fieldConfig.defaults),{custom:(0,he.merge)(this._fieldConfig.defaults.custom,{[e]:t})}),this}setOverrides(e){return e(this._overridesBuilder),this}setFieldConfigDefaults(e,t){return this._fieldConfig.defaults=Ed(_d({},this._fieldConfig.defaults),{[e]:t}),this}build(){return{defaults:this._fieldConfig.defaults,overrides:this._overridesBuilder.build()}}}class Cd{constructor(e){this.defaultOptions=e,this._options={},this.setDefaults()}setDefaults(){this._options=this.defaultOptions?(0,he.cloneDeep)(this.defaultOptions()):{}}setOption(e,t){return this._options=(0,he.merge)(this._options,{[e]:t}),this}build(){return this._options}}var Td=Object.defineProperty,Dd=Object.defineProperties,Pd=Object.getOwnPropertyDescriptors,Rd=Object.getOwnPropertySymbols,Ad=Object.prototype.hasOwnProperty,jd=Object.prototype.propertyIsEnumerable,Id=(e,t,r)=>t in e?Td(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Ld{constructor(e,t,r,n){this._state={},this._state.title="",this._state.description="",this._state.displayMode="default",this._state.hoverHeader=!1,this._state.pluginId=e,this._state.pluginVersion=t,this._fieldConfigBuilder=new kd(n),this._panelOptionsBuilder=new Cd(r)}setTitle(e){return this._state.title=e,this}setDescription(e){return this._state.description=e,this}setDisplayMode(e){return this._state.displayMode=e,this}setHoverHeader(e){return this._state.hoverHeader=e,this}setMenu(e){return this._state.menu=e,this}setHeaderActions(e){return this._state.headerActions=e,this}setColor(e){return this._fieldConfigBuilder.setColor(e),this}setDecimals(e){return this._fieldConfigBuilder.setDecimals(e),this}setDisplayName(e){return this._fieldConfigBuilder.setDisplayName(e),this}setFilterable(e){return this._fieldConfigBuilder.setFilterable(e),this}setLinks(e){return this._fieldConfigBuilder.setLinks(e),this}setMappings(e){return this._fieldConfigBuilder.setMappings(e),this}setMax(e){return this._fieldConfigBuilder.setMax(e),this}setMin(e){return this._fieldConfigBuilder.setMin(e),this}setNoValue(e){return this._fieldConfigBuilder.setNoValue(e),this}setThresholds(e){return this._fieldConfigBuilder.setThresholds(e),this}setUnit(e){return this._fieldConfigBuilder.setUnit(e),this}setCustomFieldConfig(e,t){return this._fieldConfigBuilder.setCustomFieldConfig(e,t),this}setOverrides(e){return this._fieldConfigBuilder.setOverrides(e),this}setOption(e,t){return this._panelOptionsBuilder.setOption(e,t),this}setData(e){return this._state.$data=e,this}setTimeRange(e){return this._state.$timeRange=e,this}setVariables(e){return this._state.$variables=e,this}setBehaviors(e){return this._state.$behaviors=e,this}build(){const e=new ei((t=((e,t)=>{for(var r in t||(t={}))Ad.call(t,r)&&Id(e,r,t[r]);if(Rd)for(var r of Rd(t))jd.call(t,r)&&Id(e,r,t[r]);return e})({},this._state),r={options:this._panelOptionsBuilder.build(),fieldConfig:this._fieldConfigBuilder.build()},Dd(t,Pd(r))));var t,r;return e}}const Nd={barchart:()=>new Ld("barchart","10.0.0",(()=>Xc),(()=>Jc)),bargauge:()=>new Ld("bargauge","10.0.0",(()=>Kc)),datagrid:()=>new Ld("datagrid","10.0.0",(()=>Yc)),flamegraph:()=>new Ld("flamegraph","10.0.0"),gauge:()=>new Ld("gauge","10.0.0",(()=>Zc)),geomap:()=>new Ld("geomap","10.0.0",(()=>ed)),heatmap:()=>new Ld("heatmap","10.0.0",(()=>td)),histogram:()=>new Ld("histogram","10.0.0",(()=>rd),(()=>nd)),logs:()=>new Ld("logs","10.0.0"),news:()=>new Ld("news","10.0.0",(()=>ad)),nodegraph:()=>new Ld("nodeGraph","10.0.0"),piechart:()=>new Ld("piechart","10.0.0",(()=>id)),stat:()=>new Ld("stat","10.0.0",(()=>od)),statetimeline:()=>new Ld("state-timeline","10.0.0",(()=>sd),(()=>ld)),statushistory:()=>new Ld("status-history","10.0.0",(()=>ud),(()=>cd)),table:()=>new Ld("table","10.0.0",(()=>dd)),text:()=>new Ld("text","10.0.0",(()=>pd)),timeseries:()=>new Ld("timeseries","10.0.0"),trend:()=>new Ld("trend","10.0.0"),traces:()=>new Ld("traces","10.0.0"),xychart:()=>new Ld("xychart","10.0.0",(()=>fd),(()=>hd))};const Md={getUrlWithAppState:g,registerRuntimePanelPlugin:function({pluginId:e,plugin:t}){if(E.has(e))throw new Error(`A runtime panel plugin with id ${e} has already been registered`);var r;t.meta=(r=((e,t)=>{for(var r in t||(t={}))x.call(t,r)&&_(e,r,t[r]);if(S)for(var r of S(t))O.call(t,r)&&_(e,r,t[r]);return e})({},t.meta),b(r,w({id:e,name:e,module:"runtime plugin",baseUrl:"runtime plugin",info:{author:{name:"Runtime plugin "+e},description:"",links:[],logos:{large:"",small:""},screenshots:[],updated:"",version:""}}))),E.set(e,t)},registerRuntimeDataSource:function({dataSource:e}){if(pe.has(e.uid))throw new Error(`A runtime data source with uid ${e.uid} has already been registered`);pe.set(e.uid,e)},registerVariableMacro:function(e,t){if(Ct.get(e))throw new Error(`Macro already registered ${e}`);return Ct.set(e,t),()=>{Ct.delete(e)}},cloneSceneObjectState:ue,syncStateFromSearchParams:function(e,t){const r=new fe;r.rebuildIndex(e),ge(e,t,r)},getUrlState:me,renderPrometheusLabelFilters:Un,isAdHocVariable:function(e){return"adhoc"===e.state.type},isConstantVariable:function(e){return"constant"===e.state.type},isCustomVariable:function(e){return"custom"===e.state.type},isDataSourceVariable:function(e){return"datasource"===e.state.type},isIntervalVariable:function(e){return"interval"===e.state.type},isQueryVariable:function(e){return"query"===e.state.type},isTextBoxVariable:function(e){return"textbox"===e.state.type},isGroupByVariable:function(e){return"groupby"===e.state.type}}},3321:(e,t,r)=>{"use strict";r.d(t,{$l:()=>s,$m:()=>d,L4:()=>n,T6:()=>u,TZ:()=>l,eX:()=>o,ob:()=>c,on:()=>a,xB:()=>i});var n=(e=>(e.Linear="linear",e.Log="log",e.Ordinal="ordinal",e.Symlog="symlog",e))(n||{}),a=(e=>(e.Hue="hue",e.None="none",e.Opacity="opacity",e.Scheme="scheme",e))(a||{});var i=(e=>(e.Ascending="asc",e.Descending="desc",e.None="none",e))(i||{});var o=(e=>(e.Basic="basic",e.Gradient="gradient",e.Lcd="lcd",e))(o||{}),s=(e=>(e.Color="color",e.Hidden="hidden",e.Text="text",e))(s||{}),l=(e=>(e.Auto="auto",e.Hidden="hidden",e.Left="left",e.Top="top",e))(l||{}),u=(e=>(e.Auto="auto",e.Manual="manual",e))(u||{}),c=(e=>(e.Auto="auto",e.BasicGauge="basic",e.ColorBackground="color-background",e.ColorBackgroundSolid="color-background-solid",e.ColorText="color-text",e.Custom="custom",e.DataLinks="data-links",e.Gauge="gauge",e.GradientGauge="gradient-gauge",e.Image="image",e.JSONView="json-view",e.LcdGauge="lcd-gauge",e.Sparkline="sparkline",e))(c||{});var d=(e=>(e.CSV="csv",e.Date="date",e.Distributed="distributed",e.DoubleQuote="doublequote",e.Glob="glob",e.HTML="html",e.JSON="json",e.Lucene="lucene",e.PercentEncode="percentencode",e.Pipe="pipe",e.QueryParam="queryparam",e.Raw="raw",e.Regex="regex",e.SQLString="sqlstring",e.SingleQuote="singlequote",e.Text="text",e.UriEncode="uriencode",e))(d||{})},6233:e=>{"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,a=2,i=!0;for(;a<arguments.length;)r[n++]=arguments[a++];return new Promise((function(a,o){r[n]=function(e){if(i)if(i=!1,e)o(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];a.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,o(e))}}))}},1979:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),a=new Array(123),i=0;i<64;)a[n[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;r.encode=function(e,t,r){for(var a,i=null,o=[],s=0,l=0;t<r;){var u=e[t++];switch(l){case 0:o[s++]=n[u>>2],a=(3&u)<<4,l=1;break;case 1:o[s++]=n[a|u>>4],a=(15&u)<<2,l=2;break;case 2:o[s++]=n[a|u>>6],o[s++]=n[63&u],l=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0)}return l&&(o[s++]=n[a],o[s++]=61,1===l&&(o[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var o="invalid encoding";r.decode=function(e,t,r){for(var n,i=r,s=0,l=0;l<e.length;){var u=e.charCodeAt(l++);if(61===u&&s>1)break;if(void 0===(u=a[u]))throw Error(o);switch(s){case 0:n=u,s=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,s=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,s=3;break;case 3:t[r++]=(3&n)<<6|u,s=0}}if(1===s)throw Error(o);return r-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},7669:e=>{"use strict";function t(e,r){"string"==typeof e&&(r=e,e=void 0);var n=[];function a(e){if("string"!=typeof e){var r=i();if(t.verbose,r="return "+r,e){for(var o=Object.keys(e),s=new Array(o.length+1),l=new Array(o.length),u=0;u<o.length;)s[u]=o[u],l[u]=e[o[u++]];return s[u]=r,Function.apply(null,s).apply(null,l)}return Function(r)()}for(var c=new Array(arguments.length-1),d=0;d<c.length;)c[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var r=c[d++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"})),d!==c.length)throw Error("parameter count mismatch");return n.push(e),a}function i(t){return"function "+(t||r||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return a.toString=i,a}e.exports=t,t.verbose=!1},3474:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},9240:(e,t,r)=>{"use strict";e.exports=i;var n=r(6233),a=r(1925)("fs");function i(e,t,r){return"function"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&a&&a.readFile?a.readFile(e,(function(n,a){return n&&"undefined"!=typeof XMLHttpRequest?i.xhr(e,t,r):n?r(n):r(null,t.binary?a:a.toString("utf8"))})):i.xhr(e,t,r):n(i,this,e,t)}i.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var a=0;a<n.responseText.length;++a)e.push(255&n.responseText.charCodeAt(a))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},5750:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function a(e,n,a){t[0]=e,n[a]=r[0],n[a+1]=r[1],n[a+2]=r[2],n[a+3]=r[3]}function i(e,n,a){t[0]=e,n[a]=r[3],n[a+1]=r[2],n[a+2]=r[1],n[a+3]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?a:i,e.writeFloatBE=n?i:a,e.readFloatLE=n?o:s,e.readFloatBE=n?s:o}():function(){function t(e,t,r,n){var a=t<0?1:0;if(a&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((a<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((a<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((a<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}}function o(e,t,r){var n=e(t,r),a=2*(n>>31)+1,i=n>>>23&255,o=8388607&n;return 255===i?o?NaN:a*(1/0):0===i?1401298464324817e-60*a*o:a*Math.pow(2,i-150)*(o+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=o.bind(null,a),e.readFloatBE=o.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function a(e,n,a){t[0]=e,n[a]=r[0],n[a+1]=r[1],n[a+2]=r[2],n[a+3]=r[3],n[a+4]=r[4],n[a+5]=r[5],n[a+6]=r[6],n[a+7]=r[7]}function i(e,n,a){t[0]=e,n[a]=r[7],n[a+1]=r[6],n[a+2]=r[5],n[a+3]=r[4],n[a+4]=r[3],n[a+5]=r[2],n[a+6]=r[1],n[a+7]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?a:i,e.writeDoubleBE=n?i:a,e.readDoubleLE=n?o:s,e.readDoubleBE=n?s:o}():function(){function t(e,t,r,n,a,i){var o=n<0?1:0;if(o&&(n=-n),0===n)e(0,a,i+t),e(1/n>0?0:2147483648,a,i+r);else if(isNaN(n))e(0,a,i+t),e(2146959360,a,i+r);else if(n>17976931348623157e292)e(0,a,i+t),e((o<<31|2146435072)>>>0,a,i+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,a,i+t),e((o<<31|s/4294967296)>>>0,a,i+r);else{var l=Math.floor(Math.log(n)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(s=n*Math.pow(2,-l))>>>0,a,i+t),e((o<<31|l+1023<<20|1048576*s&1048575)>>>0,a,i+r)}}}function o(e,t,r,n,a){var i=e(n,a+t),o=e(n,a+r),s=2*(o>>31)+1,l=o>>>20&2047,u=4294967296*(1048575&o)+i;return 2047===l?u?NaN:s*(1/0):0===l?5e-324*s*u:s*Math.pow(2,l-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=o.bind(null,a,0,4),e.readDoubleBE=o.bind(null,i,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function i(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},1925:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},2459:(e,t)=>{"use strict";var r=t,n=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},a=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=n(e),a="";r&&(a=t.shift()+"/");for(var i=0;i<t.length;)".."===t[i]?i>0&&".."!==t[i-1]?t.splice(--i,2):r?t.splice(i,1):++i:"."===t[i]?t.splice(i,1):++i;return a+t.join("/")};r.resolve=function(e,t,r){return r||(t=a(t)),n(t)?t:(r||(e=a(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?a(e+"/"+t):t)}},4226:e=>{"use strict";e.exports=function(e,t,r){var n=r||8192,a=n>>>1,i=null,o=n;return function(r){if(r<1||r>a)return e(r);o+r>n&&(i=e(n),o=0);var s=t.call(i,o,o+=r);return 7&o&&(o=1+(7|o)),s}}},2971:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,a=null,i=[],o=0;t<r;)(n=e[t++])<128?i[o++]=n:n>191&&n<224?i[o++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[o++]=55296+(n>>10),i[o++]=56320+(1023&n)):i[o++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,i)),o=0);return a?(o&&a.push(String.fromCharCode.apply(String,i.slice(0,o))),a.join("")):String.fromCharCode.apply(String,i.slice(0,o))},r.write=function(e,t,r){for(var n,a,i=r,o=0;o<e.length;++o)(n=e.charCodeAt(o))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(a=e.charCodeAt(o+1)))?(n=65536+((1023&n)<<10)+(1023&a),++o,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}},7951:(e,t,r)=>{const n=r(2880),a={};for(const e of Object.keys(n))a[n[e]]=e;const i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=i;for(const e of Object.keys(i)){if(!("channels"in i[e]))throw new Error("missing channels property: "+e);if(!("labels"in i[e]))throw new Error("missing channel labels property: "+e);if(i[e].labels.length!==i[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=i[e];delete i[e].channels,delete i[e].labels,Object.defineProperty(i[e],"channels",{value:t}),Object.defineProperty(i[e],"labels",{value:r})}i.rgb.hsl=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=i-a;let s,l;i===a?s=0:t===i?s=(r-n)/o:r===i?s=2+(n-t)/o:n===i&&(s=4+(t-r)/o),s=Math.min(60*s,360),s<0&&(s+=360);const u=(a+i)/2;return l=i===a?0:u<=.5?o/(i+a):o/(2-i-a),[s,100*l,100*u]},i.rgb.hsv=function(e){let t,r,n,a,i;const o=e[0]/255,s=e[1]/255,l=e[2]/255,u=Math.max(o,s,l),c=u-Math.min(o,s,l),d=function(e){return(u-e)/6/c+.5};return 0===c?(a=0,i=0):(i=c/u,t=d(o),r=d(s),n=d(l),o===u?a=n-r:s===u?a=1/3+t-n:l===u&&(a=2/3+r-t),a<0?a+=1:a>1&&(a-=1)),[360*a,100*i,100*u]},i.rgb.hwb=function(e){const t=e[0],r=e[1];let n=e[2];const a=i.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[a,100*o,100*n]},i.rgb.cmyk=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.min(1-t,1-r,1-n);return[100*((1-t-a)/(1-a)||0),100*((1-r-a)/(1-a)||0),100*((1-n-a)/(1-a)||0),100*a]},i.rgb.keyword=function(e){const t=a[e];if(t)return t;let r,i=1/0;for(const t of Object.keys(n)){const a=n[t],l=(s=a,((o=e)[0]-s[0])**2+(o[1]-s[1])**2+(o[2]-s[2])**2);l<i&&(i=l,r=t)}var o,s;return r},i.keyword.rgb=function(e){return n[e]},i.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;return[100*(.4124*t+.3576*r+.1805*n),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},i.rgb.lab=function(e){const t=i.rgb.xyz(e);let r=t[0],n=t[1],a=t[2];r/=95.047,n/=100,a/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,a=a>.008856?a**(1/3):7.787*a+16/116;return[116*n-16,500*(r-n),200*(n-a)]},i.hsl.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;let a,i,o;if(0===r)return o=255*n,[o,o,o];a=n<.5?n*(1+r):n+r-n*r;const s=2*n-a,l=[0,0,0];for(let e=0;e<3;e++)i=t+1/3*-(e-1),i<0&&i++,i>1&&i--,o=6*i<1?s+6*(a-s)*i:2*i<1?a:3*i<2?s+(a-s)*(2/3-i)*6:s,l[e]=255*o;return l},i.hsl.hsv=function(e){const t=e[0];let r=e[1]/100,n=e[2]/100,a=r;const i=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,a*=i<=1?i:2-i;return[t,100*(0===n?2*a/(i+a):2*r/(n+r)),100*((n+r)/2)]},i.hsv.rgb=function(e){const t=e[0]/60,r=e[1]/100;let n=e[2]/100;const a=Math.floor(t)%6,i=t-Math.floor(t),o=255*n*(1-r),s=255*n*(1-r*i),l=255*n*(1-r*(1-i));switch(n*=255,a){case 0:return[n,l,o];case 1:return[s,n,o];case 2:return[o,n,l];case 3:return[o,s,n];case 4:return[l,o,n];case 5:return[n,o,s]}},i.hsv.hsl=function(e){const t=e[0],r=e[1]/100,n=e[2]/100,a=Math.max(n,.01);let i,o;o=(2-r)*n;const s=(2-r)*a;return i=r*a,i/=s<=1?s:2-s,i=i||0,o/=2,[t,100*i,100*o]},i.hwb.rgb=function(e){const t=e[0]/360;let r=e[1]/100,n=e[2]/100;const a=r+n;let i;a>1&&(r/=a,n/=a);const o=Math.floor(6*t),s=1-n;i=6*t-o,1&o&&(i=1-i);const l=r+i*(s-r);let u,c,d;switch(o){default:case 6:case 0:u=s,c=l,d=r;break;case 1:u=l,c=s,d=r;break;case 2:u=r,c=s,d=l;break;case 3:u=r,c=l,d=s;break;case 4:u=l,c=r,d=s;break;case 5:u=s,c=r,d=l}return[255*u,255*c,255*d]},i.cmyk.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100,a=e[3]/100;return[255*(1-Math.min(1,t*(1-a)+a)),255*(1-Math.min(1,r*(1-a)+a)),255*(1-Math.min(1,n*(1-a)+a))]},i.xyz.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100;let a,i,o;return a=3.2406*t+-1.5372*r+-.4986*n,i=-.9689*t+1.8758*r+.0415*n,o=.0557*t+-.204*r+1.057*n,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,a=Math.min(Math.max(0,a),1),i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),[255*a,255*i,255*o]},i.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;return[116*r-16,500*(t-r),200*(r-n)]},i.lab.xyz=function(e){let t,r,n;r=(e[0]+16)/116,t=e[1]/500+r,n=r-e[2]/200;const a=r**3,i=t**3,o=n**3;return r=a>.008856?a:(r-16/116)/7.787,t=i>.008856?i:(t-16/116)/7.787,n=o>.008856?o:(n-16/116)/7.787,t*=95.047,r*=100,n*=108.883,[t,r,n]},i.lab.lch=function(e){const t=e[0],r=e[1],n=e[2];let a;a=360*Math.atan2(n,r)/2/Math.PI,a<0&&(a+=360);return[t,Math.sqrt(r*r+n*n),a]},i.lch.lab=function(e){const t=e[0],r=e[1],n=e[2]/360*2*Math.PI;return[t,r*Math.cos(n),r*Math.sin(n)]},i.rgb.ansi16=function(e,t=null){const[r,n,a]=e;let o=null===t?i.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),0===o)return 30;let s=30+(Math.round(a/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return 2===o&&(s+=60),s},i.hsv.ansi16=function(e){return i.rgb.ansi16(i.hsv.rgb(e),e[2])},i.rgb.ansi256=function(e){const t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},i.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},i.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},i.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},i.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];3===t[0].length&&(r=r.split("").map((e=>e+e)).join(""));const n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},i.rgb.hcg=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(Math.max(t,r),n),i=Math.min(Math.min(t,r),n),o=a-i;let s,l;return s=o<1?i/(1-o):0,l=o<=0?0:a===t?(r-n)/o%6:a===r?2+(n-t)/o:4+(t-r)/o,l/=6,l%=1,[360*l,100*o,100*s]},i.hsl.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r);let a=0;return n<1&&(a=(r-.5*n)/(1-n)),[e[0],100*n,100*a]},i.hsv.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=t*r;let a=0;return n<1&&(a=(r-n)/(1-n)),[e[0],100*n,100*a]},i.hcg.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];const a=[0,0,0],i=t%1*6,o=i%1,s=1-o;let l=0;switch(Math.floor(i)){case 0:a[0]=1,a[1]=o,a[2]=0;break;case 1:a[0]=s,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=o;break;case 3:a[0]=0,a[1]=s,a[2]=1;break;case 4:a[0]=o,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=s}return l=(1-r)*n,[255*(r*a[0]+l),255*(r*a[1]+l),255*(r*a[2]+l)]},i.hcg.hsv=function(e){const t=e[1]/100,r=t+e[2]/100*(1-t);let n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},i.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100*(1-t)+.5*t;let n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},i.hcg.hwb=function(e){const t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},i.hwb.hcg=function(e){const t=e[1]/100,r=1-e[2]/100,n=r-t;let a=0;return n<1&&(a=(r-n)/(1-n)),[e[0],100*n,100*a]},i.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},i.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},i.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},i.gray.hsl=function(e){return[0,0,e[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(e){return[0,100,e[0]]},i.gray.cmyk=function(e){return[0,0,0,e[0]]},i.gray.lab=function(e){return[e[0],0,0]},i.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},i.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},8666:(e,t,r)=>{const n=r(7951),a=r(1247),i={};Object.keys(n).forEach((e=>{i[e]={},Object.defineProperty(i[e],"channels",{value:n[e].channels}),Object.defineProperty(i[e],"labels",{value:n[e].labels});const t=a(e);Object.keys(t).forEach((r=>{const n=t[r];i[e][r]=function(e){const t=function(...t){const r=t[0];if(null==r)return r;r.length>1&&(t=r);const n=e(t);if("object"==typeof n)for(let e=n.length,t=0;t<e;t++)n[t]=Math.round(n[t]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(n),i[e][r].raw=function(e){const t=function(...t){const r=t[0];return null==r?r:(r.length>1&&(t=r),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)}))})),e.exports=i},1247:(e,t,r)=>{const n=r(7951);function a(e){const t=function(){const e={},t=Object.keys(n);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;){const e=r.pop(),a=Object.keys(n[e]);for(let n=a.length,i=0;i<n;i++){const n=a[i],o=t[n];-1===o.distance&&(o.distance=t[e].distance+1,o.parent=e,r.unshift(n))}}return t}function i(e,t){return function(r){return t(e(r))}}function o(e,t){const r=[t[e].parent,e];let a=n[t[e].parent][e],o=t[e].parent;for(;t[o].parent;)r.unshift(t[o].parent),a=i(n[t[o].parent][o],a),o=t[o].parent;return a.conversion=r,a}e.exports=function(e){const t=a(e),r={},n=Object.keys(t);for(let e=n.length,a=0;a<e;a++){const e=n[a];null!==t[e].parent&&(r[e]=o(e,t))}return r}},2880:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},6250:(e,t,r)=>{var n=r(2880),a=r(6852),i=Object.hasOwnProperty,o=Object.create(null);for(var s in n)i.call(n,s)&&(o[n[s]]=s);var l=e.exports={to:{},get:{}};function u(e,t,r){return Math.min(Math.max(t,e),r)}function c(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}l.get=function(e){var t,r;switch(e.substring(0,3).toLowerCase()){case"hsl":t=l.get.hsl(e),r="hsl";break;case"hwb":t=l.get.hwb(e),r="hwb";break;default:t=l.get.rgb(e),r="rgb"}return t?{model:r,value:t}:null},l.get.rgb=function(e){if(!e)return null;var t,r,a,o=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(a=t[2],t=t[1],r=0;r<3;r++){var s=2*r;o[r]=parseInt(t.slice(s,s+2),16)}a&&(o[3]=parseInt(a,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(a=(t=t[1])[3],r=0;r<3;r++)o[r]=parseInt(t[r]+t[r],16);a&&(o[3]=parseInt(a+a,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(r=0;r<3;r++)o[r]=parseInt(t[r+1],0);t[4]&&(t[5]?o[3]=.01*parseFloat(t[4]):o[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:i.call(n,t[1])?((o=n[t[1]])[3]=1,o):null:null;for(r=0;r<3;r++)o[r]=Math.round(2.55*parseFloat(t[r+1]));t[4]&&(t[5]?o[3]=.01*parseFloat(t[4]):o[3]=parseFloat(t[4]))}for(r=0;r<3;r++)o[r]=u(o[r],0,255);return o[3]=u(o[3],0,1),o},l.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(r)?1:r,0,1)]}return null},l.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(r)?1:r,0,1)]}return null},l.to.hex=function(){var e=a(arguments);return"#"+c(e[0])+c(e[1])+c(e[2])+(e[3]<1?c(Math.round(255*e[3])):"")},l.to.rgb=function(){var e=a(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},l.to.rgb.percent=function(){var e=a(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"},l.to.hsl=function(){var e=a(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},l.to.hwb=function(){var e=a(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},l.to.keyword=function(e){return o[e.slice(0,3)]}},4308:(e,t,r)=>{const n=r(6250),a=r(8666),i=["keyword","gray","hex"],o={};for(const e of Object.keys(a))o[[...a[e].labels].sort().join("")]=e;const s={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in i&&(t=null),t&&!(t in a))throw new Error("Unknown model: "+t);let r,u;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof l)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"==typeof e){const t=n.get(e);if(null===t)throw new Error("Unable to parse color from string: "+e);this.model=t.model,u=a[this.model].channels,this.color=t.value.slice(0,u),this.valpha="number"==typeof t.value[u]?t.value[u]:1}else if(e.length>0){this.model=t||"rgb",u=a[this.model].channels;const r=Array.prototype.slice.call(e,0,u);this.color=p(r,u),this.valpha="number"==typeof e[u]?e[u]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;const t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);const n=t.sort().join("");if(!(n in o))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=o[n];const{labels:i}=a[this.model],s=[];for(r=0;r<i.length;r++)s.push(e[i[r]]);this.color=p(s)}if(s[this.model])for(u=a[this.model].channels,r=0;r<u;r++){const e=s[this.model][r];e&&(this.color[r]=e(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}l.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in n.to?this:this.rgb();t=t.round("number"==typeof e?e:1);const r=1===t.valpha?t.color:[...t.color,this.valpha];return n.to[t.model](r)},percentString(e){const t=this.rgb().round("number"==typeof e?e:1),r=1===t.valpha?t.color:[...t.color,this.valpha];return n.to.rgb.percent(r)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=a[this.model],{labels:r}=a[this.model];for(let n=0;n<t;n++)e[r[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new l([...this.color.map(u(e)),this.valpha],this.model)},alpha(e){return void 0!==e?new l([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:c("rgb",0,d(255)),green:c("rgb",1,d(255)),blue:c("rgb",2,d(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(e=>(e%360+360)%360)),saturationl:c("hsl",1,d(100)),lightness:c("hsl",2,d(100)),saturationv:c("hsv",1,d(100)),value:c("hsv",2,d(100)),chroma:c("hcg",1,d(100)),gray:c("hcg",2,d(100)),white:c("hwb",1,d(100)),wblack:c("hwb",2,d(100)),cyan:c("cmyk",0,d(100)),magenta:c("cmyk",1,d(100)),yellow:c("cmyk",2,d(100)),black:c("cmyk",3,d(100)),x:c("xyz",0,d(95.047)),y:c("xyz",1,d(100)),z:c("xyz",2,d(108.833)),l:c("lab",0,d(100)),a:c("lab",1),b:c("lab",2),keyword(e){return void 0!==e?new l(e):a[this.model].keyword(this.color)},hex(e){return void 0!==e?new l(e):n.to.hex(this.rgb().round().color)},hexa(e){if(void 0!==e)return new l(e);const t=this.rgb().round().color;let r=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===r.length&&(r="0"+r),n.to.hex(t)+r},rgbNumber(){const e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){const e=this.rgb().color,t=[];for(const[r,n]of e.entries()){const e=n/255;t[r]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let r=t.color[0];return r=(r+e)%360,r=r<0?360+r:r,t.color[0]=r,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const r=e.rgb(),n=this.rgb(),a=void 0===t?.5:t,i=2*a-1,o=r.alpha()-n.alpha(),s=((i*o==-1?i:(i+o)/(1+i*o))+1)/2,u=1-s;return l.rgb(s*r.red()+u*n.red(),s*r.green()+u*n.green(),s*r.blue()+u*n.blue(),r.alpha()*a+n.alpha()*(1-a))}};for(const e of Object.keys(a)){if(i.includes(e))continue;const{channels:t}=a[e];l.prototype[e]=function(...t){return this.model===e?new l(this):t.length>0?new l(t,e):new l([...(r=a[this.model][e].raw(this.color),Array.isArray(r)?r:[r]),this.valpha],e);var r},l[e]=function(...r){let n=r[0];return"number"==typeof n&&(n=p(r,t)),new l(n,e)}}function u(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}function c(e,t,r){e=Array.isArray(e)?e:[e];for(const n of e)(s[n]||(s[n]=[]))[t]=r;return e=e[0],function(n){let a;return void 0!==n?(r&&(n=r(n)),a=this[e](),a.color[t]=n,a):(a=this[e]().color[t],r&&(a=r(a)),a)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function p(e,t){for(let r=0;r<t;r++)"number"!=typeof e[r]&&(e[r]=0);return e}e.exports=l},7842:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",a=1,i=2,o=9007199254740991,s="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Function]",f="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",b="[object Promise]",w="[object Proxy]",S="[object RegExp]",x="[object Set]",O="[object String]",_="[object Symbol]",E="[object Undefined]",k="[object WeakMap]",C="[object ArrayBuffer]",T="[object DataView]",D=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R[s]=R[l]=R[C]=R[c]=R[T]=R[d]=R[p]=R[h]=R[m]=R[g]=R[v]=R[S]=R[x]=R[O]=R[k]=!1;var A="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,j="object"==typeof self&&self&&self.Object===Object&&self,I=A||j||Function("return this")(),L=t&&!t.nodeType&&t,N=L&&e&&!e.nodeType&&e,M=N&&N.exports===L,V=M&&A.process,$=function(){try{return V&&V.binding&&V.binding("util")}catch(e){}}(),z=$&&$.isTypedArray;function F(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function B(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function U(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var H,q,W,G=Array.prototype,Q=Function.prototype,X=Object.prototype,J=I["__core-js_shared__"],K=Q.toString,Y=X.hasOwnProperty,Z=(H=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",ee=X.toString,te=RegExp("^"+K.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=M?I.Buffer:void 0,ne=I.Symbol,ae=I.Uint8Array,ie=X.propertyIsEnumerable,oe=G.splice,se=ne?ne.toStringTag:void 0,le=Object.getOwnPropertySymbols,ue=re?re.isBuffer:void 0,ce=(q=Object.keys,W=Object,function(e){return q(W(e))}),de=$e(I,"DataView"),pe=$e(I,"Map"),he=$e(I,"Promise"),fe=$e(I,"Set"),me=$e(I,"WeakMap"),ge=$e(Object,"create"),ye=Ue(de),ve=Ue(pe),be=Ue(he),we=Ue(fe),Se=Ue(me),xe=ne?ne.prototype:void 0,Oe=xe?xe.valueOf:void 0;function _e(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ee(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ke(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ce(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ke;++t<r;)this.add(e[t])}function Te(e){var t=this.__data__=new Ee(e);this.size=t.size}function De(e,t){var r=We(e),n=!r&&qe(e),a=!r&&!n&&Ge(e),i=!r&&!n&&!a&&Ye(e),o=r||n||a||i,s=o?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=s.length;for(var u in e)!t&&!Y.call(e,u)||o&&("length"==u||a&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Be(u,l))||s.push(u);return s}function Pe(e,t){for(var r=e.length;r--;)if(He(e[r][0],t))return r;return-1}function Re(e){return null==e?void 0===e?E:y:se&&se in Object(e)?function(e){var t=Y.call(e,se),r=e[se];try{e[se]=void 0;var n=!0}catch(e){}var a=ee.call(e);n&&(t?e[se]=r:delete e[se]);return a}(e):function(e){return ee.call(e)}(e)}function Ae(e){return Ke(e)&&Re(e)==s}function je(e,t,r,n,o){return e===t||(null==e||null==t||!Ke(e)&&!Ke(t)?e!=e&&t!=t:function(e,t,r,n,o,u){var h=We(e),f=We(t),y=h?l:Fe(e),b=f?l:Fe(t),w=(y=y==s?v:y)==v,E=(b=b==s?v:b)==v,k=y==b;if(k&&Ge(e)){if(!Ge(t))return!1;h=!0,w=!1}if(k&&!w)return u||(u=new Te),h||Ye(e)?Ne(e,t,r,n,o,u):function(e,t,r,n,o,s,l){switch(r){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!s(new ae(e),new ae(t)));case c:case d:case g:return He(+e,+t);case p:return e.name==t.name&&e.message==t.message;case S:case O:return e==t+"";case m:var u=B;case x:var h=n&a;if(u||(u=U),e.size!=t.size&&!h)return!1;var f=l.get(e);if(f)return f==t;n|=i,l.set(e,t);var y=Ne(u(e),u(t),n,o,s,l);return l.delete(e),y;case _:if(Oe)return Oe.call(e)==Oe.call(t)}return!1}(e,t,y,r,n,o,u);if(!(r&a)){var D=w&&Y.call(e,"__wrapped__"),P=E&&Y.call(t,"__wrapped__");if(D||P){var R=D?e.value():e,A=P?t.value():t;return u||(u=new Te),o(R,A,r,n,u)}}if(!k)return!1;return u||(u=new Te),function(e,t,r,n,i,o){var s=r&a,l=Me(e),u=l.length,c=Me(t),d=c.length;if(u!=d&&!s)return!1;var p=u;for(;p--;){var h=l[p];if(!(s?h in t:Y.call(t,h)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var m=!0;o.set(e,t),o.set(t,e);var g=s;for(;++p<u;){var y=e[h=l[p]],v=t[h];if(n)var b=s?n(v,y,h,t,e,o):n(y,v,h,e,t,o);if(!(void 0===b?y===v||i(y,v,r,n,o):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var w=e.constructor,S=t.constructor;w==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,r,n,o,u)}(e,t,r,n,je,o))}function Ie(e){return!(!Je(e)||function(e){return!!Z&&Z in e}(e))&&(Qe(e)?te:D).test(Ue(e))}function Le(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||X,t!==n)return ce(e);var t,r,n,a=[];for(var i in Object(e))Y.call(e,i)&&"constructor"!=i&&a.push(i);return a}function Ne(e,t,r,n,o,s){var l=r&a,u=e.length,c=t.length;if(u!=c&&!(l&&c>u))return!1;var d=s.get(e);if(d&&s.get(t))return d==t;var p=-1,h=!0,f=r&i?new Ce:void 0;for(s.set(e,t),s.set(t,e);++p<u;){var m=e[p],g=t[p];if(n)var y=l?n(g,m,p,t,e,s):n(m,g,p,e,t,s);if(void 0!==y){if(y)continue;h=!1;break}if(f){if(!F(t,(function(e,t){if(a=t,!f.has(a)&&(m===e||o(m,e,r,n,s)))return f.push(t);var a}))){h=!1;break}}else if(m!==g&&!o(m,g,r,n,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function Me(e){return function(e,t,r){var n=t(e);return We(e)?n:function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}(n,r(e))}(e,Ze,ze)}function Ve(e,t){var r,n,a=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?a["string"==typeof t?"string":"hash"]:a.map}function $e(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Ie(r)?r:void 0}_e.prototype.clear=function(){this.__data__=ge?ge(null):{},this.size=0},_e.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},_e.prototype.get=function(e){var t=this.__data__;if(ge){var r=t[e];return r===n?void 0:r}return Y.call(t,e)?t[e]:void 0},_e.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:Y.call(t,e)},_e.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ge&&void 0===t?n:t,this},Ee.prototype.clear=function(){this.__data__=[],this.size=0},Ee.prototype.delete=function(e){var t=this.__data__,r=Pe(t,e);return!(r<0)&&(r==t.length-1?t.pop():oe.call(t,r,1),--this.size,!0)},Ee.prototype.get=function(e){var t=this.__data__,r=Pe(t,e);return r<0?void 0:t[r][1]},Ee.prototype.has=function(e){return Pe(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var r=this.__data__,n=Pe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},ke.prototype.clear=function(){this.size=0,this.__data__={hash:new _e,map:new(pe||Ee),string:new _e}},ke.prototype.delete=function(e){var t=Ve(this,e).delete(e);return this.size-=t?1:0,t},ke.prototype.get=function(e){return Ve(this,e).get(e)},ke.prototype.has=function(e){return Ve(this,e).has(e)},ke.prototype.set=function(e,t){var r=Ve(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Ce.prototype.add=Ce.prototype.push=function(e){return this.__data__.set(e,n),this},Ce.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.clear=function(){this.__data__=new Ee,this.size=0},Te.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Te.prototype.get=function(e){return this.__data__.get(e)},Te.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ee){var n=r.__data__;if(!pe||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ke(n)}return r.set(e,t),this.size=r.size,this};var ze=le?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}(le(e),(function(t){return ie.call(e,t)})))}:function(){return[]},Fe=Re;function Be(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function Ue(e){if(null!=e){try{return K.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function He(e,t){return e===t||e!=e&&t!=t}(de&&Fe(new de(new ArrayBuffer(1)))!=T||pe&&Fe(new pe)!=m||he&&Fe(he.resolve())!=b||fe&&Fe(new fe)!=x||me&&Fe(new me)!=k)&&(Fe=function(e){var t=Re(e),r=t==v?e.constructor:void 0,n=r?Ue(r):"";if(n)switch(n){case ye:return T;case ve:return m;case be:return b;case we:return x;case Se:return k}return t});var qe=Ae(function(){return arguments}())?Ae:function(e){return Ke(e)&&Y.call(e,"callee")&&!ie.call(e,"callee")},We=Array.isArray;var Ge=ue||function(){return!1};function Qe(e){if(!Je(e))return!1;var t=Re(e);return t==h||t==f||t==u||t==w}function Xe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Je(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ke(e){return null!=e&&"object"==typeof e}var Ye=z?function(e){return function(t){return e(t)}}(z):function(e){return Ke(e)&&Xe(e.length)&&!!R[Re(e)]};function Ze(e){return null!=(t=e)&&Xe(t.length)&&!Qe(t)?De(e):Le(e);var t}e.exports=function(e,t){return je(e,t)}},585:(e,t,r)=>{"use strict";e.exports=r(5481)},3804:(e,t,r)=>{"use strict";var n=t,a=r(2775),i=r(6866);function o(e,t,r,n){var i=!1;if(t.resolvedType)if(t.resolvedType instanceof a){e("switch(d%s){",n);for(var o=t.resolvedType.values,s=Object.keys(o),l=0;l<s.length;++l)o[s[l]]!==t.typeDefault||i||(e("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',n,n,n),t.repeated||e("break"),i=!0),e("case%j:",s[l])("case %i:",o[s[l]])("m%s=%j",n,o[s[l]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var u=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,u)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,u?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length >= 0)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function s(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof a?e("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",n,r,n,n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var i=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,i?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=i.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var s=t[n].resolve(),l=i.safeProp(s.name);s.map?(r("if(d%s){",l)('if(typeof d%s!=="object")',l)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",l)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",l),o(r,s,n,l+"[ks[i]]")("}")("}")):s.repeated?(r("if(d%s){",l)("if(!Array.isArray(d%s))",l)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",l)("for(var i=0;i<d%s.length;++i){",l),o(r,s,n,l+"[i]")("}")("}")):(s.resolvedType instanceof a||r("if(d%s!=null){",l),o(r,s,n,l),s.resolvedType instanceof a||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(i.compareFieldsById);if(!t.length)return i.codegen()("return {}");for(var r=i.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],o=[],l=[],u=0;u<t.length;++u)t[u].partOf||(t[u].resolve().repeated?n:t[u].map?o:l).push(t[u]);if(n.length){for(r("if(o.arrays||o.defaults){"),u=0;u<n.length;++u)r("d%s=[]",i.safeProp(n[u].name));r("}")}if(o.length){for(r("if(o.objects||o.defaults){"),u=0;u<o.length;++u)r("d%s={}",i.safeProp(o[u].name));r("}")}if(l.length){for(r("if(o.defaults){"),u=0;u<l.length;++u){var c=l[u],d=i.safeProp(c.name);if(c.resolvedType instanceof a)r("d%s=o.enums===String?%j:%j",d,c.resolvedType.valuesById[c.typeDefault],c.typeDefault);else if(c.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,c.typeDefault.toString(),c.typeDefault.toNumber());else if(c.bytes){var p="["+Array.prototype.slice.call(c.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",d,String.fromCharCode.apply(String,c.typeDefault))("else{")("d%s=%s",d,p)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",d,d)("}")}else r("d%s=%j",d,c.typeDefault)}r("}")}var h=!1;for(u=0;u<t.length;++u){c=t[u];var f=e._fieldsArray.indexOf(c);d=i.safeProp(c.name);c.map?(h||(h=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){"),s(r,c,f,d+"[ks2[j]]")("}")):c.repeated?(r("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d),s(r,c,f,d+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",d,c.name),s(r,c,f,d),c.partOf&&r("if(o.oneofs)")("d%s=%j",i.safeProp(c.partOf.name),c.name)),r("}")}return r("return d")}},9980:(e,t,r)=>{"use strict";e.exports=function(e){var t=i.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break");t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var s=e._fieldsArray[r].resolve(),l=s.resolvedType instanceof n?"int32":s.type,u="m"+i.safeProp(s.name);t("case %i: {",s.id),s.map?(t("if(%s===util.emptyObject)",u)("%s={}",u)("var c2 = r.uint32()+r.pos"),void 0!==a.defaults[s.keyType]?t("k=%j",a.defaults[s.keyType]):t("k=null"),void 0!==a.defaults[l]?t("value=%j",a.defaults[l]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",s.keyType)("case 2:"),void 0===a.basic[l]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",l),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==a.long[s.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',u):t("%s[k]=value",u)):s.repeated?(t("if(!(%s&&%s.length))",u,u)("%s=[]",u),void 0!==a.packed[l]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",u,l)("}else"),void 0===a.basic[l]?t(s.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",u,r):t("%s.push(r.%s())",u,l)):void 0===a.basic[l]?t(s.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",u,r):t("%s=r.%s()",u,l),t("break")("}")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var c=e._fieldsArray[r];c.required&&t("if(!m.hasOwnProperty(%j))",c.name)("throw util.ProtocolError(%j,{instance:m})",o(c))}return t("return m")};var n=r(2775),a=r(1517),i=r(6866);function o(e){return"missing required '"+e.name+"'"}},8852:(e,t,r)=>{"use strict";e.exports=function(e){for(var t,r=i.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(i.compareFieldsById),l=0;l<s.length;++l){var u=s[l].resolve(),c=e._fieldsArray.indexOf(u),d=u.resolvedType instanceof n?"int32":u.type,p=a.basic[d];t="m"+i.safeProp(u.name),u.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,u.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(u.id<<3|2)>>>0,8|a.mapKey[u.keyType],u.keyType),void 0===p?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",c,t):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|p,d,t),r("}")("}")):u.repeated?(r("if(%s!=null&&%s.length){",t,t),u.packed&&void 0!==a.packed[d]?r("w.uint32(%i).fork()",(u.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",d,t)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",t),void 0===p?o(r,u,c,t+"[i]"):r("w.uint32(%i).%s(%s[i])",(u.id<<3|p)>>>0,d,t)),r("}")):(u.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,u.name),void 0===p?o(r,u,c,t):r("w.uint32(%i).%s(%s)",(u.id<<3|p)>>>0,d,t))}return r("return w")};var n=r(2775),a=r(1517),i=r(6866);function o(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}},2775:(e,t,r)=>{"use strict";e.exports=o;var n=r(4349);((o.prototype=Object.create(n.prototype)).constructor=o).className="Enum";var a=r(2815),i=r(6866);function o(e,t,r,a,i,o){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=a,this.comments=i||{},this.valuesOptions=o,this.reserved=void 0,t)for(var s=Object.keys(t),l=0;l<s.length;++l)"number"==typeof t[s[l]]&&(this.valuesById[this.values[s[l]]=t[s[l]]]=s[l])}o.fromJSON=function(e,t){var r=new o(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},o.prototype.add=function(e,t,r,n){if(!i.isString(e))throw TypeError("name must be a string");if(!i.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return n&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[e]=n||null),this.comments[e]=r||null,this},o.prototype.remove=function(e){if(!i.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this},o.prototype.isReservedId=function(e){return a.isReservedId(this.reserved,e)},o.prototype.isReservedName=function(e){return a.isReservedName(this.reserved,e)}},3796:(e,t,r)=>{"use strict";e.exports=u;var n=r(4349);((u.prototype=Object.create(n.prototype)).constructor=u).className="Field";var a,i=r(2775),o=r(1517),s=r(6866),l=/^required|optional|repeated$/;function u(e,t,r,a,i,u,c){if(s.isObject(a)?(c=i,u=a,a=i=void 0):s.isObject(i)&&(c=u,u=i,i=void 0),n.call(this,e,u),!s.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!s.isString(r))throw TypeError("type must be a string");if(void 0!==a&&!l.test(a=a.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==i&&!s.isString(i))throw TypeError("extend must be a string");"proto3_optional"===a&&(a="optional"),this.rule=a&&"optional"!==a?a:void 0,this.type=r,this.id=t,this.extend=i||void 0,this.required="required"===a,this.optional=!this.required,this.repeated="repeated"===a,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&void 0!==o.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=c}u.fromJSON=function(e,t){return new u(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(u.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),u.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),n.prototype.setOption.call(this,e,t,r)},u.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},u.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=o.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof a?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof i&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof i)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof a&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},u.d=function(e,t,r,n){return"function"==typeof t?t=s.decorateType(t).name:t&&"object"==typeof t&&(t=s.decorateEnum(t).name),function(a,i){s.decorateType(a.constructor).add(new u(i,e,t,r,{default:n}))}},u._configure=function(e){a=e}},5481:(e,t,r)=>{"use strict";var n=e.exports=r(7134);n.build="light",n.load=function(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)},n.loadSync=function(e,t){return t||(t=new n.Root),t.loadSync(e)},n.encoder=r(8852),n.decoder=r(9980),n.verifier=r(3040),n.converter=r(3804),n.ReflectionObject=r(4349),n.Namespace=r(2815),n.Root=r(8038),n.Enum=r(2775),n.Type=r(6),n.Field=r(3796),n.OneOf=r(8957),n.MapField=r(9504),n.Service=r(6467),n.Method=r(3055),n.Message=r(6619),n.wrappers=r(6942),n.types=r(1517),n.util=r(6866),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},7134:(e,t,r)=>{"use strict";var n=t;function a(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(4301),n.BufferWriter=r(8422),n.Reader=r(1137),n.BufferReader=r(4010),n.util=r(5382),n.rpc=r(9691),n.roots=r(381),n.configure=a,a()},9504:(e,t,r)=>{"use strict";e.exports=o;var n=r(3796);((o.prototype=Object.create(n.prototype)).constructor=o).className="MapField";var a=r(1517),i=r(6866);function o(e,t,r,a,o,s){if(n.call(this,e,t,a,void 0,void 0,o,s),!i.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}o.fromJSON=function(e,t){return new o(e,t.id,t.keyType,t.type,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},o.prototype.resolve=function(){if(this.resolved)return this;if(void 0===a.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},o.d=function(e,t,r){return"function"==typeof r?r=i.decorateType(r).name:r&&"object"==typeof r&&(r=i.decorateEnum(r).name),function(n,a){i.decorateType(n.constructor).add(new o(a,e,t,r))}}},6619:(e,t,r)=>{"use strict";e.exports=a;var n=r(5382);function a(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}a.create=function(e){return this.$type.create(e)},a.encode=function(e,t){return this.$type.encode(e,t)},a.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},a.decode=function(e){return this.$type.decode(e)},a.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},a.verify=function(e){return this.$type.verify(e)},a.fromObject=function(e){return this.$type.fromObject(e)},a.toObject=function(e,t){return this.$type.toObject(e,t)},a.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},3055:(e,t,r)=>{"use strict";e.exports=i;var n=r(4349);((i.prototype=Object.create(n.prototype)).constructor=i).className="Method";var a=r(6866);function i(e,t,r,i,o,s,l,u,c){if(a.isObject(o)?(l=o,o=s=void 0):a.isObject(s)&&(l=s,s=void 0),void 0!==t&&!a.isString(t))throw TypeError("type must be a string");if(!a.isString(r))throw TypeError("requestType must be a string");if(!a.isString(i))throw TypeError("responseType must be a string");n.call(this,e,l),this.type=t||"rpc",this.requestType=r,this.requestStream=!!o||void 0,this.responseType=i,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=u,this.parsedOptions=c}i.fromJSON=function(e,t){return new i(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},i.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},i.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},2815:(e,t,r)=>{"use strict";e.exports=d;var n=r(4349);((d.prototype=Object.create(n.prototype)).constructor=d).className="Namespace";var a,i,o,s=r(3796),l=r(6866),u=r(8957);function c(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function d(e,t){n.call(this,e,t),this.nested=void 0,this._nestedArray=null}function p(e){return e._nestedArray=null,e}d.fromJSON=function(e,t){return new d(e,t.options).addJSON(t.nested)},d.arrayToJSON=c,d.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0;return!1},d.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=l.toArray(this.nested))}}),d.prototype.toJSON=function(e){return l.toObject(["options",this.options,"nested",c(this.nestedArray,e)])},d.prototype.addJSON=function(e){if(e)for(var t,r=Object.keys(e),n=0;n<r.length;++n)t=e[r[n]],this.add((void 0!==t.fields?a.fromJSON:void 0!==t.values?o.fromJSON:void 0!==t.methods?i.fromJSON:void 0!==t.id?s.fromJSON:d.fromJSON)(r[n],t));return this},d.prototype.get=function(e){return this.nested&&this.nested[e]||null},d.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof o)return this.nested[e].values;throw Error("no such enum: "+e)},d.prototype.add=function(e){if(!(e instanceof s&&void 0!==e.extend||e instanceof a||e instanceof u||e instanceof o||e instanceof i||e instanceof d))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof d&&e instanceof d)||t instanceof a||t instanceof i)throw Error("duplicate name '"+e.name+"' in "+this);for(var r=t.nestedArray,n=0;n<r.length;++n)e.add(r[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),p(this)},d.prototype.remove=function(e){if(!(e instanceof n))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),p(this)},d.prototype.define=function(e,t){if(l.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof d))throw Error("path conflicts with non-namespace objects")}else r.add(r=new d(n))}return t&&r.addJSON(t),r},d.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof d?e[t++].resolveAll():e[t++].resolve();return this.resolve()},d.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),l.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof d&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var a=0;a<this.nestedArray.length;++a)if(this._nestedArray[a]instanceof d&&(n=this._nestedArray[a].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},d.prototype.lookupType=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such type: "+e);return t},d.prototype.lookupEnum=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},d.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[a,o]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},d.prototype.lookupService=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},d._configure=function(e,t,r){a=e,i=t,o=r}},4349:(e,t,r)=>{"use strict";e.exports=i,i.className="ReflectionObject";var n,a=r(6866);function i(e,t){if(!a.isString(e))throw TypeError("name must be a string");if(t&&!a.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(i.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),i.prototype.toJSON=function(){throw Error()},i.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},i.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},i.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},i.prototype.getOption=function(e){if(this.options)return this.options[e]},i.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},i.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(r){var i=n.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(i){var o=i[e];a.setProperty(o,r,t)}else(i={})[e]=a.setProperty({},r,t),n.push(i)}else{var s={};s[e]=t,n.push(s)}return this},i.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},i.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},i._configure=function(e){n=e}},8957:(e,t,r)=>{"use strict";e.exports=o;var n=r(4349);((o.prototype=Object.create(n.prototype)).constructor=o).className="OneOf";var a=r(3796),i=r(6866);function o(e,t,r,a){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=a}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}o.fromJSON=function(e,t){return new o(e,t.oneof,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},o.prototype.add=function(e){if(!(e instanceof a))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},o.prototype.remove=function(e){if(!(e instanceof a))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},o.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}s(this)},o.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},o.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){i.decorateType(t.constructor).add(new o(r,e)),Object.defineProperty(t,r,{get:i.oneOfGetter(e),set:i.oneOfSetter(e)})}}},1137:(e,t,r)=>{"use strict";e.exports=l;var n,a=r(5382),i=a.LongBits,o=a.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var u,c="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},d=function(){return a.Buffer?function(e){return(l.create=function(e){return a.Buffer.isBuffer(e)?new n(e):c(e)})(e)}:c};function p(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw s(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}l.create=d(),l.prototype._slice=a.Array.prototype.subarray||a.Array.prototype.slice,l.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return u}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=a.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=a.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var n=a.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},l.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){n=e,l.create=d(),n._configure();var t=a.Long?"toLong":"toNumber";a.merge(l.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},4010:(e,t,r)=>{"use strict";e.exports=i;var n=r(1137);(i.prototype=Object.create(n.prototype)).constructor=i;var a=r(5382);function i(e){n.call(this,e)}i._configure=function(){a.Buffer&&(i.prototype._slice=a.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},8038:(e,t,r)=>{"use strict";e.exports=d;var n=r(2815);((d.prototype=Object.create(n.prototype)).constructor=d).className="Root";var a,i,o,s=r(3796),l=r(2775),u=r(8957),c=r(6866);function d(e){n.call(this,"",e),this.deferred=[],this.files=[]}function p(){}d.fromJSON=function(e,t){return t||(t=new d),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},d.prototype.resolvePath=c.path.resolve,d.prototype.fetch=c.fetch,d.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var a=this;if(!n)return c.asPromise(e,a,t,r);var s=n===p;function l(e,t){if(n){if(s)throw e;var r=n;n=null,r(e,t)}}function u(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in o)return r}return null}function d(e,t){try{if(c.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),c.isString(t)){i.filename=e;var n,o=i(t,a,r),d=0;if(o.imports)for(;d<o.imports.length;++d)(n=u(o.imports[d])||a.resolvePath(e,o.imports[d]))&&h(n);if(o.weakImports)for(d=0;d<o.weakImports.length;++d)(n=u(o.weakImports[d])||a.resolvePath(e,o.weakImports[d]))&&h(n,!0)}else a.setOptions(t.options).addJSON(t.nested)}catch(e){l(e)}s||f||l(null,a)}function h(e,t){if(e=u(e)||e,!(a.files.indexOf(e)>-1))if(a.files.push(e),e in o)s?d(e,o[e]):(++f,setTimeout((function(){--f,d(e,o[e])})));else if(s){var r;try{r=c.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||l(e))}d(e,r)}else++f,a.fetch(e,(function(r,i){--f,n&&(r?t?f||l(null,a):l(r):d(e,i))}))}var f=0;c.isString(t)&&(t=[t]);for(var m,g=0;g<t.length;++g)(m=a.resolvePath("",t[g]))&&h(m);if(s)return a;f||l(null,a)},d.prototype.loadSync=function(e,t){if(!c.isNode)throw Error("not supported");return this.load(e,t,p)},d.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return n.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function f(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new s(t.fullName,t.id,t.type,t.rule,void 0,t.options);return r.get(n.name)||(n.declaringField=t,t.extensionField=n,r.add(n)),!0}return!1}d.prototype._handleAdd=function(e){if(e instanceof s)void 0===e.extend||e.extensionField||f(0,e)||this.deferred.push(e);else if(e instanceof l)h.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof u)){if(e instanceof a)for(var t=0;t<this.deferred.length;)f(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);h.test(e.name)&&(e.parent[e.name]=e)}},d.prototype._handleRemove=function(e){if(e instanceof s){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof l)h.test(e.name)&&delete e.parent[e.name];else if(e instanceof n){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);h.test(e.name)&&delete e.parent[e.name]}},d._configure=function(e,t,r){a=e,i=t,o=r}},381:e=>{"use strict";e.exports={}},9691:(e,t,r)=>{"use strict";t.Service=r(4447)},4447:(e,t,r)=>{"use strict";e.exports=a;var n=r(5382);function a(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(a.prototype=Object.create(n.EventEmitter.prototype)).constructor=a,a.prototype.rpcCall=function e(t,r,a,i,o){if(!i)throw TypeError("request must be specified");var s=this;if(!o)return n.asPromise(e,s,t,r,a,i);if(s.rpcImpl)try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,r){if(e)return s.emit("error",e,t),o(e);if(null!==r){if(!(r instanceof a))try{r=a[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),o(e)}return s.emit("data",r,t),o(null,r)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},a.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},6467:(e,t,r)=>{"use strict";e.exports=s;var n=r(2815);((s.prototype=Object.create(n.prototype)).constructor=s).className="Service";var a=r(3055),i=r(6866),o=r(9691);function s(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function l(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var r=new s(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),i=0;i<n.length;++i)r.add(a.fromJSON(n[i],t.methods[n[i]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},s.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return i.toObject(["options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=i.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof a?(this.methods[e.name]=e,e.parent=this,l(this)):n.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof a){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,l(this)}return n.prototype.remove.call(this,e)},s.prototype.create=function(e,t,r){for(var n,a=new o.Service(e,t,r),s=0;s<this.methodsArray.length;++s){var l=i.lcFirst((n=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");a[l]=i.codegen(["r","c"],i.isReserved(l)?l+"_":l)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return a}},6:(e,t,r)=>{"use strict";e.exports=v;var n=r(2815);((v.prototype=Object.create(n.prototype)).constructor=v).className="Type";var a=r(2775),i=r(8957),o=r(3796),s=r(9504),l=r(6467),u=r(6619),c=r(1137),d=r(4301),p=r(6866),h=r(8852),f=r(9980),m=r(3040),g=r(3804),y=r(6942);function v(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=p.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=p.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof u||((e.prototype=new u).constructor=e,p.merge(e.prototype,t)),e.$type=e.prototype.$type=this,p.merge(e,u,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:p.oneOfGetter(this._oneofsArray[r].oneof),set:p.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),v.generateConstructor=function(e){for(var t,r=p.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",p.safeProp(t.name)):t.repeated&&r("this%s=[]",p.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},v.fromJSON=function(e,t){var r=new v(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var u=Object.keys(t.fields),c=0;c<u.length;++c)r.add((void 0!==t.fields[u[c]].keyType?s.fromJSON:o.fromJSON)(u[c],t.fields[u[c]]));if(t.oneofs)for(u=Object.keys(t.oneofs),c=0;c<u.length;++c)r.add(i.fromJSON(u[c],t.oneofs[u[c]]));if(t.nested)for(u=Object.keys(t.nested),c=0;c<u.length;++c){var d=t.nested[u[c]];r.add((void 0!==d.id?o.fromJSON:void 0!==d.fields?v.fromJSON:void 0!==d.values?a.fromJSON:void 0!==d.methods?l.fromJSON:n.fromJSON)(u[c],d))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},v.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return p.toObject(["options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},v.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return n.prototype.resolveAll.call(this)},v.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},v.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof o&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),b(this)}return e instanceof i?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),b(this)):n.prototype.add.call(this,e)},v.prototype.remove=function(e){if(e instanceof o&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),b(this)}if(e instanceof i){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),b(this)}return n.prototype.remove.call(this,e)},v.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},v.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},v.prototype.create=function(e){return new this.ctor(e)},v.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=h(this)({Writer:d,types:t,util:p}),this.decode=f(this)({Reader:c,types:t,util:p}),this.verify=m(this)({types:t,util:p}),this.fromObject=g.fromObject(this)({types:t,util:p}),this.toObject=g.toObject(this)({types:t,util:p});var n=y[e];if(n){var a=Object.create(this);a.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(a),a.toObject=this.toObject,this.toObject=n.toObject.bind(a)}return this},v.prototype.encode=function(e,t){return this.setup().encode(e,t)},v.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},v.prototype.decode=function(e,t){return this.setup().decode(e,t)},v.prototype.decodeDelimited=function(e){return e instanceof c||(e=c.create(e)),this.decode(e,e.uint32())},v.prototype.verify=function(e){return this.setup().verify(e)},v.prototype.fromObject=function(e){return this.setup().fromObject(e)},v.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},v.d=function(e){return function(t){p.decorateType(t,e)}}},1517:(e,t,r)=>{"use strict";var n=t,a=r(6866),i=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(e,t){var r=0,n={};for(t|=0;r<e.length;)n[i[r+t]]=e[r++];return n}n.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",a.emptyArray,null]),n.long=o([0,0,0,1,1],7),n.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},6866:(e,t,r)=>{"use strict";var n,a,i=e.exports=r(5382),o=r(381);i.codegen=r(7669),i.fetch=r(9240),i.path=r(2459),i.fs=i.inquire("fs"),i.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},i.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],a=e[r++];void 0!==a&&(t[n]=a)}return t};var s=/\\/g,l=/"/g;i.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},i.safeProp=function(e){return!/^[$\w_]+$/.test(e)||i.isReserved(e)?'["'+e.replace(s,"\\\\").replace(l,'\\"')+'"]':"."+e},i.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var u=/_([a-z])/g;i.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(u,(function(e,t){return t.toUpperCase()}))},i.compareFieldsById=function(e,t){return e.id-t.id},i.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(i.decorateRoot.remove(e.$type),e.$type.name=t,i.decorateRoot.add(e.$type)),e.$type;n||(n=r(6));var a=new n(t||e.name);return i.decorateRoot.add(a),a.ctor=e,Object.defineProperty(e,"$type",{value:a,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:a,enumerable:!1}),a};var c=0;i.decorateEnum=function(e){if(e.$type)return e.$type;a||(a=r(2775));var t=new a("Enum"+c++,e);return i.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},i.setProperty=function(e,t,r){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,r,n){var a=r.shift();if("__proto__"===a||"prototype"===a)return t;if(r.length>0)t[a]=e(t[a]||{},r,n);else{var i=t[a];i&&(n=[].concat(i).concat(n)),t[a]=n}return t}(e,t=t.split("."),r)},Object.defineProperty(i,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(r(8038)))}})},5003:(e,t,r)=>{"use strict";e.exports=a;var n=r(5382);function a(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=a.zero=new a(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var o=a.zeroHash="\0\0\0\0\0\0\0\0";a.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new a(r,n)},a.from=function(e){if("number"==typeof e)return a.fromNumber(e);if(n.isString(e)){if(!n.Long)return a.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new a(e.low>>>0,e.high>>>0):i},a.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},a.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;a.fromHash=function(e){return e===o?i:new a((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},a.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},a.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},a.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},a.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},5382:function(e,t,r){"use strict";var n=t;function a(e,t,r){for(var n=Object.keys(t),a=0;a<n.length;++a)void 0!==e[n[a]]&&r||(e[n[a]]=t[n[a]]);return e}function i(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&a(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(6233),n.base64=r(1979),n.EventEmitter=r(3474),n.float=r(5750),n.inquire=r(1925),n.utf8=r(2971),n.pool=r(4226),n.LongBits=r(5003),n.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=a,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=i,n.ProtocolError=i("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},3040:(e,t,r)=>{"use strict";e.exports=function(e){var t=a.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,n={};r.length&&t("var p={}");for(var l=0;l<e.fieldsArray.length;++l){var u=e._fieldsArray[l].resolve(),c="m"+a.safeProp(u.name);if(u.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",c,u.name),u.map)t("if(!util.isObject(%s))",c)("return%j",i(u,"object"))("var k=Object.keys(%s)",c)("for(var i=0;i<k.length;++i){"),s(t,u,"k[i]"),o(t,u,l,c+"[k[i]]")("}");else if(u.repeated)t("if(!Array.isArray(%s))",c)("return%j",i(u,"array"))("for(var i=0;i<%s.length;++i){",c),o(t,u,l,c+"[i]")("}");else{if(u.partOf){var d=a.safeProp(u.partOf.name);1===n[u.partOf.name]&&t("if(p%s===1)",d)("return%j",u.partOf.name+": multiple values"),n[u.partOf.name]=1,t("p%s=1",d)}o(t,u,l,c)}u.optional&&t("}")}return t("return null")};var n=r(2775),a=r(6866);function i(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function o(e,t,r,a){if(t.resolvedType)if(t.resolvedType instanceof n){e("switch(%s){",a)("default:")("return%j",i(t,"enum value"));for(var o=Object.keys(t.resolvedType.values),s=0;s<o.length;++s)e("case %i:",t.resolvedType.values[o[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,a)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",a)("return%j",i(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",a,a,a,a)("return%j",i(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',a)("return%j",i(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',a)("return%j",i(t,"boolean"));break;case"string":e("if(!util.isString(%s))",a)("return%j",i(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',a,a,a)("return%j",i(t,"buffer"))}return e}function s(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",i(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",i(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",i(t,"boolean key"))}return e}},6942:(e,t,r)=>{"use strict";var n=t,a=r(6619);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var n="."===e["@type"].charAt(0)?e["@type"].slice(1):e["@type"];return-1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="",n="";if(t&&t.json&&e.type_url&&e.value){n=e.type_url.substring(e.type_url.lastIndexOf("/")+1),r=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var i=this.lookup(n);i&&(e=i.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof a){var o=e.$type.toObject(e,t);return""===r&&(r="type.googleapis.com/"),n=r+("."===e.$type.fullName[0]?e.$type.fullName.slice(1):e.$type.fullName),o["@type"]=n,o}return this.toObject(e,t)}}},4301:(e,t,r)=>{"use strict";e.exports=d;var n,a=r(5382),i=a.LongBits,o=a.base64,s=a.utf8;function l(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new l(u,0,0),this.tail=this.head,this.states=null}var p=function(){return a.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d}};function h(e,t,r){t[r]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function g(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}d.create=p(),d.alloc=function(e){return new a.Array(e)},a.Array!==Array&&(d.alloc=a.pool(d.alloc,a.Array.prototype.subarray)),d.prototype._push=function(e,t,r){return this.tail=this.tail.next=new l(e,t,r),this.len+=t,this},f.prototype=Object.create(l.prototype),f.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(m,10,i.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=i.from(e);return this._push(m,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(m,t.length(),t)},d.prototype.bool=function(e){return this._push(h,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=i.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(a.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(a.float.writeDoubleLE,8,e)};var y=a.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(a.isString(e)){var r=d.alloc(t=o.length(e));o.decode(e,r,0),e=r}return this.uint32(t)._push(y,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},d.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new l(u,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(u,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},d._configure=function(e){n=e,d.create=p(),n._configure()}},8422:(e,t,r)=>{"use strict";e.exports=i;var n=r(4301);(i.prototype=Object.create(n.prototype)).constructor=i;var a=r(5382);function i(){n.call(this)}function o(e,t,r){e.length<40?a.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}i._configure=function(){i.alloc=a._Buffer_allocUnsafe,i.writeBytesBuffer=a.Buffer&&a.Buffer.prototype instanceof Uint8Array&&"set"===a.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},i.prototype.bytes=function(e){a.isString(e)&&(e=a._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=a.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},i._configure()},9111:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(5959)),a=p(r(2688)),i=p(r(8398)),o=p(r(8262)),s=r(2837),l=r(402),u=r(6732),c=p(r(1060)),d=p(r(7988));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends n.Component{static getDerivedStateFromProps(e,t){let{position:r}=e,{prevPropsPosition:n}=t;return!r||n&&r.x===n.x&&r.y===n.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:r,prevPropsPosition:n}),{x:r.x,y:r.y,prevPropsPosition:{...r}})}constructor(e){super(e),m(this,"onDragStart",((e,t)=>{(0,d.default)("Draggable: onDragStart: %j",t);if(!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})})),m(this,"onDrag",((e,t)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);const r=(0,l.createDraggableData)(this,t),n={x:r.x,y:r.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=n;n.x+=this.state.slackX,n.y+=this.state.slackY;const[a,i]=(0,l.getBoundPosition)(this,n.x,n.y);n.x=a,n.y=i,n.slackX=this.state.slackX+(e-n.x),n.slackY=this.state.slackY+(t-n.y),r.x=n.x,r.y=n.y,r.deltaX=n.x-this.state.x,r.deltaY=n.y-this.state.y}if(!1===this.props.onDrag(e,r))return!1;this.setState(n)})),m(this,"onDragStop",((e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);const r={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;r.x=e,r.y=t}this.setState(r)})),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:i.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:r,defaultPosition:a,defaultClassName:i,defaultClassNameDragging:u,defaultClassNameDragged:d,position:p,positionOffset:h,scale:m,...g}=this.props;let y={},v=null;const b=!Boolean(p)||this.state.dragging,w=p||a,S={x:(0,l.canDragX)(this)&&b?this.state.x:w.x,y:(0,l.canDragY)(this)&&b?this.state.y:w.y};this.state.isElementSVG?v=(0,s.createSVGTransform)(S,h):y=(0,s.createCSSTransform)(S,h);const x=(0,o.default)(r.props.className||"",i,{[u]:this.state.dragging,[d]:this.state.dragged});return n.createElement(c.default,f({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(r),{className:x,style:{...r.props.style,...y},transform:v}))}}t.default=g,m(g,"displayName","Draggable"),m(g,"propTypes",{...c.default.propTypes,axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),m(g,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},1060:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(5959)),a=c(r(2688)),i=c(r(8398)),o=r(2837),s=r(402),l=r(6732),u=c(r(7988));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h={start:"touchstart",move:"touchmove",stop:"touchend"},f={start:"mousedown",move:"mousemove",stop:"mouseup"};let m=f;class g extends n.Component{constructor(){super(...arguments),p(this,"dragging",!1),p(this,"lastX",NaN),p(this,"lastY",NaN),p(this,"touchIdentifier",null),p(this,"mounted",!1),p(this,"handleDragStart",(e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=t;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,o.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,o.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"===e.type&&e.preventDefault();const n=(0,o.getTouchIdentifier)(e);this.touchIdentifier=n;const a=(0,s.getControlPosition)(e,n,this);if(null==a)return;const{x:i,y:l}=a,c=(0,s.createCoreData)(this,i,l);(0,u.default)("DraggableCore: handleDragStart: %j",c),(0,u.default)("calling",this.props.onStart);!1!==this.props.onStart(e,c)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,o.addUserSelectStyles)(r),this.dragging=!0,this.lastX=i,this.lastY=l,(0,o.addEvent)(r,m.move,this.handleDrag),(0,o.addEvent)(r,m.stop,this.handleDragStop))})),p(this,"handleDrag",(e=>{const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:r,y:n}=t;if(Array.isArray(this.props.grid)){let e=r-this.lastX,t=n-this.lastY;if([e,t]=(0,s.snapToGrid)(this.props.grid,e,t),!e&&!t)return;r=this.lastX+e,n=this.lastY+t}const a=(0,s.createCoreData)(this,r,n);(0,u.default)("DraggableCore: handleDrag: %j",a);if(!1!==this.props.onDrag(e,a)&&!1!==this.mounted)this.lastX=r,this.lastY=n;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(e){const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}})),p(this,"handleDragStop",(e=>{if(!this.dragging)return;const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:r,y:n}=t;if(Array.isArray(this.props.grid)){let e=r-this.lastX||0,t=n-this.lastY||0;[e,t]=(0,s.snapToGrid)(this.props.grid,e,t),r=this.lastX+e,n=this.lastY+t}const a=(0,s.createCoreData)(this,r,n);if(!1===this.props.onStop(e,a)||!1===this.mounted)return!1;const i=this.findDOMNode();i&&this.props.enableUserSelectHack&&(0,o.removeUserSelectStyles)(i.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,i&&((0,u.default)("DraggableCore: Removing handlers"),(0,o.removeEvent)(i.ownerDocument,m.move,this.handleDrag),(0,o.removeEvent)(i.ownerDocument,m.stop,this.handleDragStop))})),p(this,"onMouseDown",(e=>(m=f,this.handleDragStart(e)))),p(this,"onMouseUp",(e=>(m=f,this.handleDragStop(e)))),p(this,"onTouchStart",(e=>(m=h,this.handleDragStart(e)))),p(this,"onTouchEnd",(e=>(m=h,this.handleDragStop(e))))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,o.addEvent)(e,h.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,o.removeEvent)(t,f.move,this.handleDrag),(0,o.removeEvent)(t,h.move,this.handleDrag),(0,o.removeEvent)(t,f.stop,this.handleDragStop),(0,o.removeEvent)(t,h.stop,this.handleDragStop),(0,o.removeEvent)(e,h.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,o.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:i.default.findDOMNode(this)}render(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=g,p(g,"displayName","DraggableCore"),p(g,"propTypes",{allowAnyClick:a.default.bool,children:a.default.node.isRequired,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),p(g,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},8230:(e,t,r)=>{"use strict";const{default:n,DraggableCore:a}=r(9111);e.exports=n,e.exports.default=n,e.exports.DraggableCore=a},2837:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=u,t.addEvent=function(e,t,r,n){if(!e)return;const a={capture:!0,...n};e.addEventListener?e.addEventListener(t,r,a):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&u(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const r=l(e,t,"px");return{[(0,a.browserPrefixToKey)("transform",a.default)]:r}},t.createSVGTransform=function(e,t){return l(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,n.findInArray)(e.targetTouches,(e=>t===e.identifier))||e.changedTouches&&(0,n.findInArray)(e.changedTouches,(e=>t===e.identifier))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=l,t.innerHeight=function(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,n.int)(r.paddingTop),t-=(0,n.int)(r.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,n.int)(r.paddingLeft),t-=(0,n.int)(r.paddingRight),t},t.matchesSelector=s,t.matchesSelectorAndParentsTo=function(e,t,r){let n=e;do{if(s(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1},t.offsetXYFromParent=function(e,t,r){const n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-n.left)/r,i=(e.clientY+t.scrollTop-n.top)/r;return{x:a,y:i}},t.outerHeight=function(e){let t=e.clientHeight;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,n.int)(r.borderTopWidth),t+=(0,n.int)(r.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const r=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,n.int)(r.borderLeftWidth),t+=(0,n.int)(r.borderRightWidth),t},t.removeClassName=c,t.removeEvent=function(e,t,r,n){if(!e)return;const a={capture:!0,...n};e.removeEventListener?e.removeEventListener(t,r,a):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&c(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var n=r(6732),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(7350));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}let o="";function s(e,t){return o||(o=(0,n.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,n.isFunction)(e[t])}))),!!(0,n.isFunction)(e[o])&&e[o](t)}function l(e,t,r){let{x:n,y:a}=e,i="translate(".concat(n).concat(r,",").concat(a).concat(r,")");if(t){const e="".concat("string"==typeof t.x?t.x:t.x+r),n="".concat("string"==typeof t.y?t.y:t.y+r);i="translate(".concat(e,", ").concat(n,")")+i}return i}function u(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function c(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},7350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=a,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=n;const r=["Moz","Webkit","O","ms"];function n(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";const n=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!n)return"";if(t in n)return"";for(let e=0;e<r.length;e++)if(a(t,r[e])in n)return r[e];return""}function a(e,t){return t?"".concat(t).concat(function(e){let t="",r=!0;for(let n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):"-"===e[n]?r=!0:t+=e[n];return t}(e)):e}t.default=n()},7988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},402:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,r){const a=!(0,n.isNum)(e.lastX),o=i(e);return a?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:o,deltaX:t-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:r}},t.createDraggableData=function(e,t){const r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,r){if(!e.props.bounds)return[t,r];let{bounds:o}=e.props;o="string"==typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);const s=i(e);if("string"==typeof o){const{ownerDocument:e}=s,t=e.defaultView;let r;if(r="parent"===o?s.parentNode:e.querySelector(o),!(r instanceof t.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');const i=r,l=t.getComputedStyle(s),u=t.getComputedStyle(i);o={left:-s.offsetLeft+(0,n.int)(u.paddingLeft)+(0,n.int)(l.marginLeft),top:-s.offsetTop+(0,n.int)(u.paddingTop)+(0,n.int)(l.marginTop),right:(0,a.innerWidth)(i)-(0,a.outerWidth)(s)-s.offsetLeft+(0,n.int)(u.paddingRight)-(0,n.int)(l.marginRight),bottom:(0,a.innerHeight)(i)-(0,a.outerHeight)(s)-s.offsetTop+(0,n.int)(u.paddingBottom)-(0,n.int)(l.marginBottom)}}(0,n.isNum)(o.right)&&(t=Math.min(t,o.right));(0,n.isNum)(o.bottom)&&(r=Math.min(r,o.bottom));(0,n.isNum)(o.left)&&(t=Math.max(t,o.left));(0,n.isNum)(o.top)&&(r=Math.max(r,o.top));return[t,r]},t.getControlPosition=function(e,t,r){const n="number"==typeof t?(0,a.getTouch)(e,t):null;if("number"==typeof t&&!n)return null;const o=i(r),s=r.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,a.offsetXYFromParent)(n||e,s,r.props.scale)},t.snapToGrid=function(e,t,r){const n=Math.round(t/e[0])*e[0],a=Math.round(r/e[1])*e[1];return[n,a]};var n=r(6732),a=r(2837);function i(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},6732:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(let r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},8262:(e,t,r)=>{"use strict";function n(e){var t,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=n(e[t]))&&(a&&(a+=" "),a+=r);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,r=0,a="";r<arguments.length;)(e=arguments[r++])&&(t=n(e))&&(a&&(a+=" "),a+=t);return a}r.r(t),r.d(t,{clsx:()=>a,default:()=>i});const i=a},8100:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(r(5959)),i=p(r(2688)),o=r(8230),s=r(936),l=r(414),u=r(906),c=r(7222),d=p(r(7256));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=b(e);if(t){var i=b(this).constructor;r=Reflect.construct(a,arguments,i)}else r=a.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}(this,r)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(c,e);var t,r,n,i=y(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return w(v(e=i.call.apply(i,[this].concat(r))),"state",{resizing:null,dragging:null,className:""}),w(v(e),"elementRef",a.default.createRef()),w(v(e),"onDragStart",(function(t,r){var n=r.node,a=e.props,i=a.onDragStart,o=a.transformScale;if(i){var s={top:0,left:0},l=n.offsetParent;if(l){var c=l.getBoundingClientRect(),d=n.getBoundingClientRect(),p=d.left/o,h=c.left/o,f=d.top/o,m=c.top/o;s.left=p-h+l.scrollLeft,s.top=f-m+l.scrollTop,e.setState({dragging:s});var g=(0,u.calcXY)(e.getPositionParams(),s.top,s.left,e.props.w,e.props.h),y=g.x,b=g.y;return i.call(v(e),e.props.i,y,b,{e:t,node:n,newPosition:s})}}})),w(v(e),"onDrag",(function(t,r){var n=r.node,a=r.deltaX,i=r.deltaY,o=e.props.onDrag;if(o){if(!e.state.dragging)throw new Error("onDrag called before onDragStart.");var s=e.state.dragging.top+i,l=e.state.dragging.left+a,c=e.props,d=c.isBounded,p=c.i,h=c.w,f=c.h,m=c.containerWidth,g=e.getPositionParams();if(d){var y=n.offsetParent;if(y){var b=e.props,w=b.margin,S=b.rowHeight,x=y.clientHeight-(0,u.calcGridItemWHPx)(f,S,w[1]);s=(0,u.clamp)(s,0,x);var O=(0,u.calcGridColWidth)(g),_=m-(0,u.calcGridItemWHPx)(h,O,w[0]);l=(0,u.clamp)(l,0,_)}}var E={top:s,left:l};e.setState({dragging:E});var k=(0,u.calcXY)(g,s,l,h,f),C=k.x,T=k.y;return o.call(v(e),p,C,T,{e:t,node:n,newPosition:E})}})),w(v(e),"onDragStop",(function(t,r){var n=r.node,a=e.props.onDragStop;if(a){if(!e.state.dragging)throw new Error("onDragEnd called before onDragStart.");var i=e.props,o=i.w,s=i.h,l=i.i,c=e.state.dragging,d=c.left,p=c.top,h={top:p,left:d};e.setState({dragging:null});var f=(0,u.calcXY)(e.getPositionParams(),p,d,o,s),m=f.x,g=f.y;return a.call(v(e),l,m,g,{e:t,node:n,newPosition:h})}})),w(v(e),"onResizeStop",(function(t,r){e.onResizeHandler(t,r,"onResizeStop")})),w(v(e),"onResizeStart",(function(t,r){e.onResizeHandler(t,r,"onResizeStart")})),w(v(e),"onResize",(function(t,r){e.onResizeHandler(t,r,"onResize")})),e}return t=c,r=[{key:"shouldComponentUpdate",value:function(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;var r=(0,u.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),n=(0,u.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,l.fastPositionEqual)(r,n)||this.props.useCSSTransforms!==e.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(e){this.moveDroppingItem(e)}},{key:"moveDroppingItem",value:function(e){var t=this.props.droppingPosition;if(t){var r=this.elementRef.current;if(r){var n=e.droppingPosition||{left:0,top:0},a=this.state.dragging,i=a&&t.left!==n.left||t.top!==n.top;if(a){if(i){var o=t.left-a.left,s=t.top-a.top;this.onDrag(t.e,{node:r,deltaX:o,deltaY:s})}}else this.onDragStart(t.e,{node:r,deltaX:t.left,deltaY:t.top})}}}},{key:"getPositionParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}},{key:"createStyle",value:function(e){var t,r=this.props,n=r.usePercentages,a=r.containerWidth;return r.useCSSTransforms?t=(0,l.setTransform)(e):(t=(0,l.setTopLeft)(e),n&&(t.left=(0,l.perc)(e.left/a),t.width=(0,l.perc)(e.width/a))),t}},{key:"mixinDraggable",value:function(e,t){return a.default.createElement(o.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},e)}},{key:"mixinResizable",value:function(e,t,r){var n=this.props,i=n.cols,o=n.x,l=n.minW,c=n.minH,d=n.maxW,p=n.maxH,h=n.transformScale,f=n.resizeHandles,m=n.resizeHandle,g=this.getPositionParams(),y=(0,u.calcGridItemPosition)(g,0,0,i-o,0).width,v=(0,u.calcGridItemPosition)(g,0,0,l,c),b=(0,u.calcGridItemPosition)(g,0,0,d,p),w=[v.width,v.height],S=[Math.min(b.width,y),Math.min(b.height,1/0)];return a.default.createElement(s.Resizable,{draggableOpts:{disabled:!r},className:r?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:w,maxConstraints:S,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:h,resizeHandles:f,handle:m},e)}},{key:"onResizeHandler",value:function(e,t,r){var n=t.node,a=t.size,i=this.props[r];if(i){var o=this.props,s=o.cols,l=o.x,c=o.y,d=o.i,p=o.maxH,h=o.minH,f=this.props,m=f.minW,g=f.maxW,y=(0,u.calcWH)(this.getPositionParams(),a.width,a.height,l,c),v=y.w,b=y.h;m=Math.max(m,1),g=Math.min(g,s-l),v=(0,u.clamp)(v,m,g),b=(0,u.clamp)(b,h,p),this.setState({resizing:"onResizeStop"===r?null:a}),i.call(this,d,v,b,{e,node:n,size:a})}}},{key:"render",value:function(){var e=this.props,t=e.x,r=e.y,n=e.w,i=e.h,o=e.isDraggable,s=e.isResizable,l=e.droppingPosition,c=e.useCSSTransforms,p=(0,u.calcGridItemPosition)(this.getPositionParams(),t,r,n,i,this.state),h=a.default.Children.only(this.props.children),m=a.default.cloneElement(h,{ref:this.elementRef,className:(0,d.default)("react-grid-item",h.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":o,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(l),cssTransforms:c}),style:f(f(f({},this.props.style),h.props.style),this.createStyle(p))});return m=this.mixinResizable(m,p,s),m=this.mixinDraggable(m,o)}}],r&&m(t.prototype,r),n&&m(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.default.Component);t.default=S,w(S,"propTypes",{children:i.default.element,cols:i.default.number.isRequired,containerWidth:i.default.number.isRequired,rowHeight:i.default.number.isRequired,margin:i.default.array.isRequired,maxRows:i.default.number.isRequired,containerPadding:i.default.array.isRequired,x:i.default.number.isRequired,y:i.default.number.isRequired,w:i.default.number.isRequired,h:i.default.number.isRequired,minW:function(e,t){var r=e[t];return"number"!=typeof r?new Error("minWidth not Number"):r>e.w||r>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var r=e[t];return"number"!=typeof r?new Error("maxWidth not Number"):r<e.w||r<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var r=e[t];return"number"!=typeof r?new Error("minHeight not Number"):r>e.h||r>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var r=e[t];return"number"!=typeof r?new Error("maxHeight not Number"):r<e.h||r<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:i.default.string.isRequired,resizeHandles:c.resizeHandleAxesType,resizeHandle:c.resizeHandleType,onDragStop:i.default.func,onDragStart:i.default.func,onDrag:i.default.func,onResizeStop:i.default.func,onResizeStart:i.default.func,onResize:i.default.func,isDraggable:i.default.bool.isRequired,isResizable:i.default.bool.isRequired,isBounded:i.default.bool.isRequired,static:i.default.bool,useCSSTransforms:i.default.bool.isRequired,transformScale:i.default.number,className:i.default.string,handle:i.default.string,cancel:i.default.string,droppingPosition:i.default.shape({e:i.default.object.isRequired,left:i.default.number.isRequired,top:i.default.number.isRequired})}),w(S,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},9482:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,r&&r.set(e,a);return a}(r(5959)),i=d(r(7842)),o=d(r(7256)),s=r(414),l=r(906),u=d(r(8100)),c=d(r(7222));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function h(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=O(e);if(t){var i=O(this).constructor;r=Reflect.construct(a,arguments,i)}else r=a.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,r)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E="react-grid-layout",k=!1;try{k=/firefox/i.test(navigator.userAgent)}catch(e){}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(d,e);var t,r,n,c=S(d);function d(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return _(x(e=c.call.apply(c,[this].concat(r))),"state",{activeDrag:null,layout:(0,s.synchronizeLayoutWithChildren)(e.props.layout,e.props.children,e.props.cols,(0,s.compactType)(e.props),e.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),_(x(e),"dragEnterCounter",0),_(x(e),"onDragStart",(function(t,r,n,a){var i=a.e,o=a.node,l=e.state.layout,u=(0,s.getLayoutItem)(l,t);if(u)return e.setState({oldDragItem:(0,s.cloneLayoutItem)(u),oldLayout:l}),e.props.onDragStart(l,u,u,null,i,o)})),_(x(e),"onDrag",(function(t,r,n,a){var i=a.e,o=a.node,l=e.state.oldDragItem,u=e.state.layout,c=e.props,d=c.cols,p=c.allowOverlap,h=c.preventCollision,f=(0,s.getLayoutItem)(u,t);if(f){var m={w:f.w,h:f.h,x:f.x,y:f.y,placeholder:!0,i:t};u=(0,s.moveElement)(u,f,r,n,!0,h,(0,s.compactType)(e.props),d,p),e.props.onDrag(u,l,f,m,i,o),e.setState({layout:p?u:(0,s.compact)(u,(0,s.compactType)(e.props),d),activeDrag:m})}})),_(x(e),"onDragStop",(function(t,r,n,a){var i=a.e,o=a.node;if(e.state.activeDrag){var l=e.state.oldDragItem,u=e.state.layout,c=e.props,d=c.cols,p=c.preventCollision,h=c.allowOverlap,f=(0,s.getLayoutItem)(u,t);if(f){u=(0,s.moveElement)(u,f,r,n,!0,p,(0,s.compactType)(e.props),d,h),e.props.onDragStop(u,l,f,null,i,o);var m=h?u:(0,s.compact)(u,(0,s.compactType)(e.props),d),g=e.state.oldLayout;e.setState({activeDrag:null,layout:m,oldDragItem:null,oldLayout:null}),e.onLayoutMaybeChanged(m,g)}}})),_(x(e),"onResizeStart",(function(t,r,n,a){var i=a.e,o=a.node,l=e.state.layout,u=(0,s.getLayoutItem)(l,t);u&&(e.setState({oldResizeItem:(0,s.cloneLayoutItem)(u),oldLayout:e.state.layout}),e.props.onResizeStart(l,u,u,null,i,o))})),_(x(e),"onResize",(function(t,r,n,a){var i=a.e,o=a.node,l=e.state,u=l.layout,c=l.oldResizeItem,d=e.props,p=d.cols,h=d.preventCollision,f=d.allowOverlap,y=(0,s.withLayoutItem)(u,t,(function(e){var t;if(h&&!f){var a=(0,s.getAllCollisions)(u,m(m({},e),{},{w:r,h:n})).filter((function(t){return t.i!==e.i}));if(t=a.length>0){var i=1/0,o=1/0;a.forEach((function(t){t.x>e.x&&(i=Math.min(i,t.x)),t.y>e.y&&(o=Math.min(o,t.y))})),Number.isFinite(i)&&(e.w=i-e.x),Number.isFinite(o)&&(e.h=o-e.y)}}return t||(e.w=r,e.h=n),e})),v=g(y,2),b=v[0],w=v[1];if(w){var S={w:w.w,h:w.h,x:w.x,y:w.y,static:!0,i:t};e.props.onResize(b,c,w,S,i,o),e.setState({layout:f?b:(0,s.compact)(b,(0,s.compactType)(e.props),p),activeDrag:S})}})),_(x(e),"onResizeStop",(function(t,r,n,a){var i=a.e,o=a.node,l=e.state,u=l.layout,c=l.oldResizeItem,d=e.props,p=d.cols,h=d.allowOverlap,f=(0,s.getLayoutItem)(u,t);e.props.onResizeStop(u,c,f,null,i,o);var m=h?u:(0,s.compact)(u,(0,s.compactType)(e.props),p),g=e.state.oldLayout;e.setState({activeDrag:null,layout:m,oldResizeItem:null,oldLayout:null}),e.onLayoutMaybeChanged(m,g)})),_(x(e),"onDragOver",(function(t){var r;if(t.preventDefault(),t.stopPropagation(),k&&(null===(r=t.nativeEvent.target)||void 0===r||!r.classList.contains(E)))return!1;var n=e.props,i=n.droppingItem,o=n.onDropDragOver,s=n.margin,u=n.cols,c=n.rowHeight,d=n.maxRows,p=n.width,f=n.containerPadding,g=n.transformScale,y=null==o?void 0:o(t);if(!1===y)return e.state.droppingDOMNode&&e.removeDroppingPlaceholder(),!1;var v=m(m({},i),y),b=e.state.layout,w=t.nativeEvent,S=w.layerX,x=w.layerY,O={left:S/g,top:x/g,e:t};if(e.state.droppingDOMNode){if(e.state.droppingPosition){var _=e.state.droppingPosition,C=_.left,T=_.top;(C!=S||T!=x)&&e.setState({droppingPosition:O})}}else{var D={cols:u,margin:s,maxRows:d,rowHeight:c,containerWidth:p,containerPadding:f||s},P=(0,l.calcXY)(D,x,S,v.w,v.h);e.setState({droppingDOMNode:a.createElement("div",{key:v.i}),droppingPosition:O,layout:[].concat(h(b),[m(m({},v),{},{x:P.x,y:P.y,static:!1,isDraggable:!0})])})}})),_(x(e),"removeDroppingPlaceholder",(function(){var t=e.props,r=t.droppingItem,n=t.cols,a=e.state.layout,i=(0,s.compact)(a.filter((function(e){return e.i!==r.i})),(0,s.compactType)(e.props),n);e.setState({layout:i,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})})),_(x(e),"onDragLeave",(function(t){t.preventDefault(),t.stopPropagation(),e.dragEnterCounter--,0===e.dragEnterCounter&&e.removeDroppingPlaceholder()})),_(x(e),"onDragEnter",(function(t){t.preventDefault(),t.stopPropagation(),e.dragEnterCounter++})),_(x(e),"onDrop",(function(t){t.preventDefault(),t.stopPropagation();var r=e.props.droppingItem,n=e.state.layout,a=n.find((function(e){return e.i===r.i}));e.dragEnterCounter=0,e.removeDroppingPlaceholder(),e.props.onDrop(n,a,t)})),e}return t=d,n=[{key:"getDerivedStateFromProps",value:function(e,t){var r;return t.activeDrag?null:((0,i.default)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,s.childrenEqual)(e.children,t.children)||(r=t.layout):r=e.layout,r?{layout:(0,s.synchronizeLayoutWithChildren)(r,e.children,e.cols,(0,s.compactType)(e),e.allowOverlap),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}}],(r=[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.children!==e.children||!(0,s.fastRGLPropsEqual)(this.props,e,i.default)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.activeDrag){var r=this.state.layout,n=t.layout;this.onLayoutMaybeChanged(r,n)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var e=(0,s.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}}},{key:"onLayoutMaybeChanged",value:function(e,t){t||(t=this.state.layout),(0,i.default)(t,e)||this.props.onLayoutChange(e)}},{key:"placeholder",value:function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,r=t.width,n=t.cols,i=t.margin,o=t.containerPadding,s=t.rowHeight,l=t.maxRows,c=t.useCSSTransforms,d=t.transformScale;return a.createElement(u.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:r,cols:n,margin:i,containerPadding:o||i,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:c,transformScale:d},a.createElement("div",null))}},{key:"processGridItem",value:function(e,t){if(e&&e.key){var r=(0,s.getLayoutItem)(this.state.layout,String(e.key));if(!r)return null;var n=this.props,i=n.width,o=n.cols,l=n.margin,c=n.containerPadding,d=n.rowHeight,p=n.maxRows,h=n.isDraggable,f=n.isResizable,m=n.isBounded,g=n.useCSSTransforms,y=n.transformScale,v=n.draggableCancel,b=n.draggableHandle,w=n.resizeHandles,S=n.resizeHandle,x=this.state,O=x.mounted,_=x.droppingPosition,E="boolean"==typeof r.isDraggable?r.isDraggable:!r.static&&h,k="boolean"==typeof r.isResizable?r.isResizable:!r.static&&f,C=r.resizeHandles||w,T=E&&m&&!1!==r.isBounded;return a.createElement(u.default,{containerWidth:i,cols:o,margin:l,containerPadding:c||l,maxRows:p,rowHeight:d,cancel:v,handle:b,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:E,isResizable:k,isBounded:T,useCSSTransforms:g&&O,usePercentages:!O,transformScale:y,w:r.w,h:r.h,x:r.x,y:r.y,i:r.i,minH:r.minH,minW:r.minW,maxH:r.maxH,maxW:r.maxW,static:r.static,droppingPosition:t?_:void 0,resizeHandles:C,resizeHandle:S},e)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.className,n=t.style,i=t.isDroppable,l=t.innerRef,u=(0,o.default)(E,r),c=m({height:this.containerHeight()},n);return a.createElement("div",{ref:l,className:u,style:c,onDrop:i?this.onDrop:s.noop,onDragLeave:i?this.onDragLeave:s.noop,onDragEnter:i?this.onDragEnter:s.noop,onDragOver:i?this.onDragOver:s.noop},a.Children.map(this.props.children,(function(t){return e.processGridItem(t)})),i&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}])&&b(t.prototype,r),n&&b(t,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(a.Component);t.default=C,_(C,"displayName","ReactGridLayout"),_(C,"propTypes",c.default),_(C,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:s.noop,onDragStart:s.noop,onDrag:s.noop,onDragStop:s.noop,onResizeStart:s.noop,onResize:s.noop,onResizeStop:s.noop,onDrop:s.noop,onDropDragOver:s.noop})},7222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resizeHandleType=t.resizeHandleAxesType=t.default=void 0;var n=i(r(2688)),a=i(r(5959));function i(e){return e&&e.__esModule?e:{default:e}}var o=n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));t.resizeHandleAxesType=o;var s=n.default.oneOfType([n.default.node,n.default.func]);t.resizeHandleType=s;var l={className:n.default.string,style:n.default.object,width:n.default.number,autoSize:n.default.bool,cols:n.default.number,draggableCancel:n.default.string,draggableHandle:n.default.string,verticalCompact:function(e){e.verticalCompact,0},compactType:n.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&r(414).validateLayout(t,"layout")},margin:n.default.arrayOf(n.default.number),containerPadding:n.default.arrayOf(n.default.number),rowHeight:n.default.number,maxRows:n.default.number,isBounded:n.default.bool,isDraggable:n.default.bool,isResizable:n.default.bool,allowOverlap:n.default.bool,preventCollision:n.default.bool,useCSSTransforms:n.default.bool,transformScale:n.default.number,isDroppable:n.default.bool,resizeHandles:o,resizeHandle:s,onLayoutChange:n.default.func,onDragStart:n.default.func,onDrag:n.default.func,onDragStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,onResizeStop:n.default.func,onDrop:n.default.func,droppingItem:n.default.shape({i:n.default.string.isRequired,w:n.default.number.isRequired,h:n.default.number.isRequired}),children:function(e,t){var r=e[t],n={};a.default.Children.forEach(r,(function(e){if(null!=(null==e?void 0:e.key)){if(n[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');n[e.key]=!0}}))},innerRef:n.default.any};t.default=l},4636:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,r&&r.set(e,a);return a}(r(5959)),i=d(r(2688)),o=d(r(7842)),s=r(414),l=r(544),u=d(r(9482)),c=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}function f(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=S(e);if(t){var i=S(this).constructor;r=Reflect.construct(a,arguments,i)}else r=a.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,r)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e){return Object.prototype.toString.call(e)};function _(e,t){return null==e?null:Array.isArray(e)?e:e[t]}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(d,e);var t,r,n,i=b(d);function d(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return x(w(e=i.call.apply(i,[this].concat(r))),"state",e.generateInitialState()),x(w(e),"onLayoutChange",(function(t){e.props.onLayoutChange(t,g(g({},e.props.layouts),{},x({},e.state.breakpoint,t)))})),e}return t=d,n=[{key:"getDerivedStateFromProps",value:function(e,t){if(!(0,o.default)(e.layouts,t.layouts)){var r=t.breakpoint,n=t.cols;return{layout:(0,l.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,r,r,n,e.compactType),layouts:e.layouts}}return null}}],(r=[{key:"generateInitialState",value:function(){var e=this.props,t=e.width,r=e.breakpoints,n=e.layouts,a=e.cols,i=(0,l.getBreakpointFromWidth)(r,t),o=(0,l.getColsFromBreakpoint)(i,a),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(n,r,i,i,o,s),breakpoint:i,cols:o}}},{key:"componentDidUpdate",value:function(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,o.default)(this.props.breakpoints,e.breakpoints)&&(0,o.default)(this.props.cols,e.cols)||this.onWidthChange(e)}},{key:"onWidthChange",value:function(e){var t=this.props,r=t.breakpoints,n=t.cols,a=t.layouts,i=t.compactType,o=this.props.breakpoint||(0,l.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),u=this.state.breakpoint,c=(0,l.getColsFromBreakpoint)(o,n),d=g({},a);if(u!==o||e.breakpoints!==r||e.cols!==n){u in d||(d[u]=(0,s.cloneLayout)(this.state.layout));var p=(0,l.findOrGenerateResponsiveLayout)(d,r,o,u,c,i);p=(0,s.synchronizeLayoutWithChildren)(p,this.props.children,c,i,this.props.allowOverlap),d[o]=p,this.props.onLayoutChange(p,d),this.props.onBreakpointChange(o,c),this.setState({breakpoint:o,layout:p,cols:c})}var h=_(this.props.margin,o),f=_(this.props.containerPadding,o);this.props.onWidthChange(this.props.width,h,c,f)}},{key:"render",value:function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.margin),r=e.containerPadding,n=(e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,f(e,c));return a.createElement(u.default,h({},n,{margin:_(t,this.state.breakpoint),containerPadding:_(r,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}])&&y(t.prototype,r),n&&y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(a.Component);t.default=E,x(E,"propTypes",{breakpoint:i.default.string,breakpoints:i.default.object,allowOverlap:i.default.bool,cols:i.default.object,margin:i.default.oneOfType([i.default.array,i.default.object]),containerPadding:i.default.oneOfType([i.default.array,i.default.object]),layouts:function(e,t){if("[object Object]"!==O(e[t]))throw new Error("Layout property must be an object. Received: "+O(e[t]));Object.keys(e[t]).forEach((function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(e.layouts[t],"layouts."+t)}))},width:i.default.number.isRequired,onBreakpointChange:i.default.func,onLayoutChange:i.default.func,onWidthChange:i.default.func}),x(E,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop})},906:(e,t)=>{"use strict";function r(e){var t=e.margin,r=e.containerPadding,n=e.containerWidth,a=e.cols;return(n-t[0]*(a-1)-2*r[0])/a}function n(e,t,r){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*r):e}function a(e,t,r){return Math.max(Math.min(e,r),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.calcGridColWidth=r,t.calcGridItemPosition=function(e,t,a,i,o,s){var l=e.margin,u=e.containerPadding,c=e.rowHeight,d=r(e),p={};s&&s.resizing?(p.width=Math.round(s.resizing.width),p.height=Math.round(s.resizing.height)):(p.width=n(i,d,l[0]),p.height=n(o,c,l[1]));s&&s.dragging?(p.top=Math.round(s.dragging.top),p.left=Math.round(s.dragging.left)):(p.top=Math.round((c+l[1])*a+u[1]),p.left=Math.round((d+l[0])*t+u[0]));return p},t.calcGridItemWHPx=n,t.calcWH=function(e,t,n,i,o){var s=e.margin,l=e.maxRows,u=e.cols,c=e.rowHeight,d=r(e),p=Math.round((t+s[0])/(d+s[0])),h=Math.round((n+s[1])/(c+s[1]));return p=a(p,0,u-i),h=a(h,0,l-o),{w:p,h}},t.calcXY=function(e,t,n,i,o){var s=e.margin,l=e.cols,u=e.rowHeight,c=e.maxRows,d=r(e),p=Math.round((n-s[0])/(d+s[0])),h=Math.round((t-s[1])/(u+s[1]));return p=a(p,0,l-i),h=a(h,0,c-o),{x:p,y:h}},t.clamp=a},6805:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.default=function(e){var t;return t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,t);var r,i,l=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(i){var a=f(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(h(e=l.call.apply(l,[this].concat(r))),"state",{width:1280}),m(h(e),"elementRef",a.createRef()),m(h(e),"mounted",!1),m(h(e),"onWindowResize",(function(){if(e.mounted){var t=e.elementRef.current;t instanceof HTMLElement&&t.offsetWidth&&e.setState({width:t.offsetWidth})}})),e}return function(e,t,r){t&&d(e.prototype,t);r&&d(e,r);Object.defineProperty(e,"prototype",{writable:!1})}(u,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var t=this.props,r=t.measureBeforeMount,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(t,s);return r&&!this.mounted?a.createElement("div",{className:(0,o.default)(this.props.className,g),style:this.props.style,ref:this.elementRef}):a.createElement(e,c({innerRef:this.elementRef},n,this.state))}}]),u}(a.Component),m(t,"defaultProps",{measureBeforeMount:!1}),m(t,"propTypes",{measureBeforeMount:i.default.bool}),t};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,r&&r.set(e,a);return a}(r(5959)),i=l(r(2688)),o=l(r(7256)),s=["measureBeforeMount"];function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g="react-grid-layout"},7434:e=>{e.exports=function(e,t,r){return e===t||e.className===t.className&&r(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&r(e.verticalCompact,t.verticalCompact)&&r(e.compactType,t.compactType)&&r(e.layout,t.layout)&&r(e.margin,t.margin)&&r(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.allowOverlap===t.allowOverlap&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&r(e.resizeHandles,t.resizeHandles)&&r(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&r(e.droppingItem,t.droppingItem)&&r(e.innerRef,t.innerRef)}},544:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findOrGenerateResponsiveLayout=function(e,t,r,i,o,s){if(e[r])return(0,n.cloneLayout)(e[r]);for(var l=e[i],u=a(t),c=u.slice(u.indexOf(r)),d=0,p=c.length;d<p;d++){var h=c[d];if(e[h]){l=e[h];break}}return l=(0,n.cloneLayout)(l||[]),(0,n.compact)((0,n.correctBounds)(l,{cols:o}),s,o)},t.getBreakpointFromWidth=function(e,t){for(var r=a(e),n=r[0],i=1,o=r.length;i<o;i++){var s=r[i];t>e[s]&&(n=s)}return n},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.sortBreakpoints=a;var n=r(414);function a(e){return Object.keys(e).sort((function(t,r){return e[t]-e[r]}))}},414:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bottom=d,t.childrenEqual=function(e,t){return(0,n.default)(a.default.Children.map(e,(function(e){return null==e?void 0:e.key})),a.default.Children.map(t,(function(e){return null==e?void 0:e.key})))},t.cloneLayout=p,t.cloneLayoutItem=f,t.collides=g,t.compact=y,t.compactItem=w,t.compactType=function(e){var t=e||{},r=t.verticalCompact,n=t.compactType;return!1===r?null:n},t.correctBounds=S,t.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},t.fastRGLPropsEqual=void 0,t.getAllCollisions=_,t.getFirstCollision=O,t.getLayoutItem=x,t.getStatics=E,t.modifyLayout=h,t.moveElement=k,t.moveElementAwayFromCollision=C,t.noop=void 0,t.perc=function(e){return 100*e+"%"},t.setTopLeft=function(e){var t=e.top,r=e.left,n=e.width,a=e.height;return{top:"".concat(t,"px"),left:"".concat(r,"px"),width:"".concat(n,"px"),height:"".concat(a,"px"),position:"absolute"}},t.setTransform=function(e){var t=e.top,r=e.left,n=e.width,a=e.height,i="translate(".concat(r,"px,").concat(t,"px)");return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:"".concat(n,"px"),height:"".concat(a,"px"),position:"absolute"}},t.sortLayoutItems=T,t.sortLayoutItemsByColRow=P,t.sortLayoutItemsByRowCol=D,t.synchronizeLayoutWithChildren=function(e,t,r,n,i){e=e||[];var o=[];a.default.Children.forEach(t,(function(t){if(null!=(null==t?void 0:t.key)){var r=x(e,String(t.key));if(r)o.push(f(r));else{!u&&t.props._grid&&console.warn("`_grid` properties on children have been deprecated as of React 15.2. Please use `data-grid` or add your properties directly to the `layout`.");var n=t.props["data-grid"]||t.props._grid;n?(u||R([n],"ReactGridLayout.children"),o.push(f(s(s({},n),{},{i:t.key})))):o.push(f({w:1,h:1,x:0,y:d(o),i:String(t.key)}))}}}));var l=S(o,{cols:r});return i?l:y(l,n,r)},t.validateLayout=R,t.withLayoutItem=function(e,t,r){var n=x(e,t);return n?(n=r(f(n)),[e=h(e,n),n]):[e,null]};var n=i(r(7842)),a=i(r(5959));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=!0,c=!1;function d(e){for(var t,r=0,n=0,a=e.length;n<a;n++)(t=e[n].y+e[n].h)>r&&(r=t);return r}function p(e){for(var t=Array(e.length),r=0,n=e.length;r<n;r++)t[r]=f(e[r]);return t}function h(e,t){for(var r=Array(e.length),n=0,a=e.length;n<a;n++)t.i===e[n].i?r[n]=t:r[n]=e[n];return r}function f(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}var m=r(7434);function g(e,t){return e.i!==t.i&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function y(e,t,r){for(var n=E(e),a=T(e,t),i=Array(e.length),o=0,s=a.length;o<s;o++){var l=f(a[o]);l.static||(l=w(n,l,t,r,a),n.push(l)),i[e.indexOf(a[o])]=l,l.moved=!1}return i}t.fastRGLPropsEqual=m;var v={x:"w",y:"h"};function b(e,t,r,n){var a=v[n];t[n]+=1;for(var i=e.map((function(e){return e.i})).indexOf(t.i)+1;i<e.length;i++){var o=e[i];if(!o.static){if(o.y>t.y+t.h)break;g(t,o)&&b(e,o,r+t[a],n)}}t[n]=r}function w(e,t,r,n,a){var i,o="horizontal"===r;if("vertical"===r)for(t.y=Math.min(d(e),t.y);t.y>0&&!O(e,t);)t.y--;else if(o)for(;t.x>0&&!O(e,t);)t.x--;for(;i=O(e,t);)o?b(a,t,i.x+i.w,"x"):b(a,t,i.y+i.h,"y"),o&&t.x+t.w>n&&(t.x=n-t.w,t.y++);return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function S(e,t){for(var r=E(e),n=0,a=e.length;n<a;n++){var i=e[n];if(i.x+i.w>t.cols&&(i.x=t.cols-i.w),i.x<0&&(i.x=0,i.w=t.cols),i.static)for(;O(r,i);)i.y++;else r.push(i)}return e}function x(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r].i===t)return e[r]}function O(e,t){for(var r=0,n=e.length;r<n;r++)if(g(e[r],t))return e[r]}function _(e,t){return e.filter((function(e){return g(e,t)}))}function E(e){return e.filter((function(e){return e.static}))}function k(e,t,r,n,a,i,o,s,l){if(t.static&&!0!==t.isDraggable)return e;if(t.y===n&&t.x===r)return e;A("Moving element ".concat(t.i," to [").concat(String(r),",").concat(String(n),"] from [").concat(t.x,",").concat(t.y,"]"));var u=t.x,c=t.y;"number"==typeof r&&(t.x=r),"number"==typeof n&&(t.y=n),t.moved=!0;var d=T(e,o);("vertical"===o&&"number"==typeof n?c>=n:"horizontal"===o&&"number"==typeof r&&u>=r)&&(d=d.reverse());var h=_(d,t),f=h.length>0;if(f&&l)return p(e);if(f&&i)return A("Collision prevented on ".concat(t.i,", reverting.")),t.x=u,t.y=c,t.moved=!1,e;for(var m=0,g=h.length;m<g;m++){var y=h[m];A("Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(y.i," at [").concat(y.x,",").concat(y.y,"]")),y.moved||(e=y.static?C(e,y,t,a,o,s):C(e,t,y,a,o,s))}return e}function C(e,t,r,n,a,i){var o="horizontal"===a,s="horizontal"!==a,l=t.static;if(n){n=!1;var u={x:o?Math.max(t.x-r.w,0):r.x,y:s?Math.max(t.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"};if(!O(e,u))return A("Doing reverse collision on ".concat(r.i," up to [").concat(u.x,",").concat(u.y,"].")),k(e,r,o?u.x:void 0,s?u.y:void 0,n,l,a,i)}return k(e,r,o?r.x+1:void 0,s?r.y+1:void 0,n,l,a,i)}function T(e,t){return"horizontal"===t?P(e):"vertical"===t?D(e):e}function D(e){return e.slice(0).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function P(e){return e.slice(0).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",r=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var n=0,a=e.length;n<a;n++)for(var i=e[n],o=0;o<r.length;o++)if("number"!=typeof i[r[o]])throw new Error("ReactGridLayout: "+t+"["+n+"]."+r[o]+" must be a number!")}function A(){var e;c&&(e=console).log.apply(e,arguments)}t.noop=function(){}},2548:(e,t,r)=>{e.exports=r(9482).default,e.exports.utils=r(414),e.exports.Responsive=r(4636).default,e.exports.Responsive.utils=r(544),e.exports.WidthProvider=r(6805).default},7256:(e,t,r)=>{"use strict";function n(e){var t,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=n(e[t]))&&(a&&(a+=" "),a+=r);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,r=0,a="";r<arguments.length;)(e=arguments[r++])&&(t=n(e))&&(a&&(a+=" "),a+=t);return a}r.r(t),r.d(t,{clsx:()=>a,default:()=>i});const i=a},1794:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(5959)),a=r(8230),i=r(9954),o=r(6333),s=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var f=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleRefs={},t.lastHandleRect=null,t.slack=null,t}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,h(t,r);var l=o.prototype;return l.componentWillUnmount=function(){this.resetData()},l.resetData=function(){this.lastHandleRect=this.slack=null},l.runConstraints=function(e,t){var r=this.props,n=r.minConstraints,a=r.maxConstraints,i=r.lockAspectRatio;if(!n&&!a&&!i)return[e,t];if(i){var o=this.props.width/this.props.height,s=e-this.props.width,l=t-this.props.height;Math.abs(s)>Math.abs(l*o)?t=e/o:e=t*o}var u=e,c=t,d=this.slack||[0,0],p=d[0],h=d[1];return e+=p,t+=h,n&&(e=Math.max(n[0],e),t=Math.max(n[1],t)),a&&(e=Math.min(a[0],e),t=Math.min(a[1],t)),this.slack=[p+(u-e),h+(c-t)],[e,t]},l.resizeHandler=function(e,t){var r=this;return function(n,a){var i=a.node,o=a.deltaX,s=a.deltaY;"onResizeStart"===e&&r.resetData();var l=("both"===r.props.axis||"x"===r.props.axis)&&"n"!==t&&"s"!==t,u=("both"===r.props.axis||"y"===r.props.axis)&&"e"!==t&&"w"!==t;if(l||u){var c=t[0],d=t[t.length-1],p=i.getBoundingClientRect();if(null!=r.lastHandleRect){if("w"===d)o+=p.left-r.lastHandleRect.left;if("n"===c)s+=p.top-r.lastHandleRect.top}r.lastHandleRect=p,"w"===d&&(o=-o),"n"===c&&(s=-s);var h=r.props.width+(l?o/r.props.transformScale:0),f=r.props.height+(u?s/r.props.transformScale:0),m=r.runConstraints(h,f);h=m[0],f=m[1];var g=h!==r.props.width||f!==r.props.height,y="function"==typeof r.props[e]?r.props[e]:null;y&&!("onResize"===e&&!g)&&(null==n.persist||n.persist(),y(n,{node:i,size:{width:h,height:f},handle:t})),"onResizeStop"===e&&r.resetData()}}},l.renderResizeHandle=function(e,t){var r=this.props.handle;if(!r)return n.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e,ref:t});if("function"==typeof r)return r(e,t);var a=d({ref:t},"string"==typeof r.type?{}:{handleAxis:e});return n.cloneElement(r,a)},l.render=function(){var e=this,t=this.props,r=t.children,o=t.className,l=t.draggableOpts,c=(t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),p=(t.transformScale,function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(t,s));return(0,i.cloneElement)(r,d(d({},p),{},{className:(o?o+" ":"")+"react-resizable",children:[].concat(r.props.children,c.map((function(t){var r,i=null!=(r=e.handleRefs[t])?r:e.handleRefs[t]=n.createRef();return n.createElement(a.DraggableCore,u({},l,{nodeRef:i,key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t,i))})))}))},o}(n.Component);t.default=f,f.propTypes=o.resizableProps,f.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},6609:(e,t,r)=>{"use strict";t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(5959)),a=l(r(2688)),i=l(r(1794)),o=r(6333),s=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var m=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height},t.onResize=function(e,r){var n=r.size;t.props.onResize?(null==e.persist||e.persist(),t.setState(n,(function(){return t.props.onResize&&t.props.onResize(e,r)}))):t.setState(n)},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,f(t,r),a.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},a.prototype.render=function(){var e=this.props,t=e.handle,r=e.handleSize,a=(e.onResize,e.onResizeStart),o=e.onResizeStop,l=e.draggableOpts,u=e.minConstraints,d=e.maxConstraints,h=e.lockAspectRatio,f=e.axis,m=(e.width,e.height,e.resizeHandles),g=e.style,y=e.transformScale,v=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,s);return n.createElement(i.default,{axis:f,draggableOpts:l,handle:t,handleSize:r,height:this.state.height,lockAspectRatio:h,maxConstraints:d,minConstraints:u,onResizeStart:a,onResize:this.onResize,onResizeStop:o,resizeHandles:m,transformScale:y,width:this.state.width},n.createElement("div",c({},v,{style:p(p({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},a}(n.Component);t.default=m,m.propTypes=p(p({},o.resizableProps),{},{children:a.default.element})},6333:(e,t,r)=>{"use strict";t.__esModule=!0,t.resizableProps=void 0;var n,a=(n=r(2688))&&n.__esModule?n:{default:n};r(8230);var i={axis:a.default.oneOf(["both","x","y","none"]),className:a.default.string,children:a.default.element.isRequired,draggableOpts:a.default.shape({allowAnyClick:a.default.bool,cancel:a.default.string,children:a.default.node,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:a.default.node,grid:a.default.arrayOf(a.default.number),handle:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number}),height:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0];return"both"===i.axis||"y"===i.axis?(n=a.default.number).isRequired.apply(n,t):a.default.number.apply(a.default,t)},handle:a.default.oneOfType([a.default.node,a.default.func]),handleSize:a.default.arrayOf(a.default.number),lockAspectRatio:a.default.bool,maxConstraints:a.default.arrayOf(a.default.number),minConstraints:a.default.arrayOf(a.default.number),onResizeStop:a.default.func,onResizeStart:a.default.func,onResize:a.default.func,resizeHandles:a.default.arrayOf(a.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:a.default.number,width:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0];return"both"===i.axis||"x"===i.axis?(n=a.default.number).isRequired.apply(n,t):a.default.number.apply(a.default,t)}};t.resizableProps=i},9954:(e,t,r)=>{"use strict";t.__esModule=!0,t.cloneElement=function(e,t){t.style&&e.props.style&&(t.style=o(o({},e.props.style),t.style));t.className&&e.props.className&&(t.className=e.props.className+" "+t.className);return a.default.cloneElement(e,t)};var n,a=(n=r(5959))&&n.__esModule?n:{default:n};function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},936:(e,t,r)=>{"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=r(1794).default,e.exports.ResizableBox=r(6609).default},8353:(e,t,r)=>{"use strict";r.d(t,{Ms:()=>y,vU:()=>h});var n=r(4120),a=r(1693),i=r(3449),o=r(2236),s=r(6712);function l(){}var u=c("C",void 0,void 0);function c(e,t,r){return{kind:e,value:t,error:r}}var d=r(2332),p=r(3004),h=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,(0,i.Uv)(t)&&t.add(r)):r.destination=w,r}return(0,n.C6)(t,e),t.create=function(e,t,r){return new y(e,t,r)},t.prototype.next=function(e){this.isStopped?b(function(e){return c("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?b(function(e){return c("E",void 0,e)}(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?b(u,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(i.yU),f=Function.prototype.bind;function m(e,t){return f.call(e,t)}var g=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){v(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){v(e)}else v(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){v(e)}},e}(),y=function(e){function t(t,r,n){var i,s,l=e.call(this)||this;(0,a.T)(t)||!t?i={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:l&&o.$.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return l.unsubscribe()},i={next:t.next&&m(t.next,s),error:t.error&&m(t.error,s),complete:t.complete&&m(t.complete,s)}):i=t;return l.destination=new g(i),l}return(0,n.C6)(t,e),t}(h);function v(e){o.$.useDeprecatedSynchronousErrorHandling?(0,p.l)(e):(0,s.m)(e)}function b(e,t){var r=o.$.onStoppedNotification;r&&d.f.setTimeout((function(){return r(e,t)}))}var w={closed:!0,next:l,error:function(e){throw e},complete:l}},3449:(e,t,r)=>{"use strict";r.d(t,{yU:()=>l,Uv:()=>u});var n=r(4120),a=r(1693);var i,o=((i=function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}((function(e){Error.call(e),e.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),i.prototype.constructor=i,i);function s(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var l=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,r,i,s;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var u=(0,n.Ju)(l),d=u.next();!d.done;d=u.next()){d.value.remove(this)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}else l.remove(this);var p=this.initialTeardown;if((0,a.T)(p))try{p()}catch(e){s=e instanceof o?e.errors:[e]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var f=(0,n.Ju)(h),m=f.next();!m.done;m=f.next()){var g=m.value;try{c(g)}catch(e){s=null!=s?s:[],e instanceof o?s=(0,n.fX)((0,n.fX)([],(0,n.zs)(s)),(0,n.zs)(e.errors)):s.push(e)}}}catch(e){r={error:e}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}if(s)throw new o(s)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)c(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&s(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&s(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();l.EMPTY;function u(e){return e instanceof l||e&&"closed"in e&&(0,a.T)(e.remove)&&(0,a.T)(e.add)&&(0,a.T)(e.unsubscribe)}function c(e){(0,a.T)(e)?e():e.unsubscribe()}},2236:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});var n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4370:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(4120);function a(e,t,r,n,a){return new i(e,t,r,n,a)}var i=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t)||this;return s.onFinalize=i,s.shouldUnsubscribe=o,s._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return(0,n.C6)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(r(8353).vU)},7708:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var n=r(5096),a=r(4370);function i(e,t){return(0,n.N)((function(r,n){var i=0;r.subscribe((0,a._)(n,(function(r){n.next(e.call(t,r,i++))})))}))}},2332:(e,t,r)=>{"use strict";r.d(t,{f:()=>a});var n=r(4120),a={setTimeout:function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=a.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,(0,n.fX)([e,t],(0,n.zs)(r))):setTimeout.apply(void 0,(0,n.fX)([e,t],(0,n.zs)(r)))},clearTimeout:function(e){var t=a.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},3004:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i,l:()=>o});var n=r(2236),a=null;function i(e){if(n.$.useDeprecatedSynchronousErrorHandling){var t=!a;if(t&&(a={errorThrown:!1,error:null}),e(),t){var r=a,i=r.errorThrown,o=r.error;if(a=null,i)throw o}}else e()}function o(e){n.$.useDeprecatedSynchronousErrorHandling&&a&&(a.errorThrown=!0,a.error=e)}},3887:(e,t,r)=>{"use strict";function n(e){return e}r.d(t,{D:()=>n})},1693:(e,t,r)=>{"use strict";function n(e){return"function"==typeof e}r.d(t,{T:()=>n})},5096:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var n=r(1693);function a(e){return function(t){if(function(e){return(0,n.T)(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},6712:(e,t,r)=>{"use strict";r.d(t,{m:()=>i});var n=r(2236),a=r(2332);function i(e){a.f.setTimeout((function(){var t=n.$.onUnhandledError;if(!t)throw e;t(e)}))}},9524:(e,t,r)=>{const n=Symbol("SemVer ANY");class a{static get ANY(){return n}constructor(e,t){if(t=i(t),e instanceof a){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?o[s.COMPARATORLOOSE]:o[s.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new c(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof a))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):(!(t=i(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=a;const i=r(7095),{safeRe:o,t:s}=r(6850),l=r(3811),u=r(9796),c=r(7944),d=r(8395)},8395:(e,t,r)=>{class n{constructor(e,t){if(t=i(t),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof o)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!g(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&y(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&f)|(this.options.loose&&m))+":"+e,r=a.get(t);if(r)return r;const n=this.options.loose,i=n?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];e=e.replace(i,D(this.options.includePrerelease)),s("hyphen replace",e),e=e.replace(u[c.COMPARATORTRIM],d),s("comparator trim",e),e=e.replace(u[c.TILDETRIM],p),s("tilde trim",e),e=e.replace(u[c.CARETTRIM],h),s("caret trim",e);let l=e.split(" ").map((e=>b(e,this.options))).join(" ").split(/\s+/).map((e=>T(e,this.options)));n&&(l=l.filter((e=>(s("loose invalid filter",e,this.options),!!e.match(u[c.COMPARATORLOOSE]))))),s("range list",l);const y=new Map,v=l.map((e=>new o(e,this.options)));for(const e of v){if(g(e))return[e];y.set(e.value,e)}y.size>1&&y.has("")&&y.delete("");const w=[...y.values()];return a.set(t,w),w}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Range is required");return this.set.some((r=>v(r,t)&&e.set.some((e=>v(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(P(this.set[t],e,this.options))return!0;return!1}}e.exports=n;const a=new(r(1158)),i=r(7095),o=r(9524),s=r(9796),l=r(7944),{safeRe:u,t:c,comparatorTrimReplace:d,tildeTrimReplace:p,caretTrimReplace:h}=r(6850),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:m}=r(9630),g=e=>"<0.0.0-0"===e.value,y=e=>""===e.value,v=(e,t)=>{let r=!0;const n=e.slice();let a=n.pop();for(;r&&n.length;)r=n.every((e=>a.intersects(e,t))),a=n.pop();return r},b=(e,t)=>(s("comp",e,t),e=O(e,t),s("caret",e),e=S(e,t),s("tildes",e),e=E(e,t),s("xrange",e),e=C(e,t),s("stars",e),e),w=e=>!e||"x"===e.toLowerCase()||"*"===e,S=(e,t)=>e.trim().split(/\s+/).map((e=>x(e,t))).join(" "),x=(e,t)=>{const r=t.loose?u[c.TILDELOOSE]:u[c.TILDE];return e.replace(r,((t,r,n,a,i)=>{let o;return s("tilde",e,t,r,n,a,i),w(r)?o="":w(n)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:w(a)?o=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?(s("replaceTilde pr",i),o=`>=${r}.${n}.${a}-${i} <${r}.${+n+1}.0-0`):o=`>=${r}.${n}.${a} <${r}.${+n+1}.0-0`,s("tilde return",o),o}))},O=(e,t)=>e.trim().split(/\s+/).map((e=>_(e,t))).join(" "),_=(e,t)=>{s("caret",e,t);const r=t.loose?u[c.CARETLOOSE]:u[c.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,a,i,o)=>{let l;return s("caret",e,t,r,a,i,o),w(r)?l="":w(a)?l=`>=${r}.0.0${n} <${+r+1}.0.0-0`:w(i)?l="0"===r?`>=${r}.${a}.0${n} <${r}.${+a+1}.0-0`:`>=${r}.${a}.0${n} <${+r+1}.0.0-0`:o?(s("replaceCaret pr",o),l="0"===r?"0"===a?`>=${r}.${a}.${i}-${o} <${r}.${a}.${+i+1}-0`:`>=${r}.${a}.${i}-${o} <${r}.${+a+1}.0-0`:`>=${r}.${a}.${i}-${o} <${+r+1}.0.0-0`):(s("no pr"),l="0"===r?"0"===a?`>=${r}.${a}.${i}${n} <${r}.${a}.${+i+1}-0`:`>=${r}.${a}.${i}${n} <${r}.${+a+1}.0-0`:`>=${r}.${a}.${i} <${+r+1}.0.0-0`),s("caret return",l),l}))},E=(e,t)=>(s("replaceXRanges",e,t),e.split(/\s+/).map((e=>k(e,t))).join(" ")),k=(e,t)=>{e=e.trim();const r=t.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return e.replace(r,((r,n,a,i,o,l)=>{s("xRange",e,r,n,a,i,o,l);const u=w(a),c=u||w(i),d=c||w(o),p=d;return"="===n&&p&&(n=""),l=t.includePrerelease?"-0":"",u?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&p?(c&&(i=0),o=0,">"===n?(n=">=",c?(a=+a+1,i=0,o=0):(i=+i+1,o=0)):"<="===n&&(n="<",c?a=+a+1:i=+i+1),"<"===n&&(l="-0"),r=`${n+a}.${i}.${o}${l}`):c?r=`>=${a}.0.0${l} <${+a+1}.0.0-0`:d&&(r=`>=${a}.${i}.0${l} <${a}.${+i+1}.0-0`),s("xRange return",r),r}))},C=(e,t)=>(s("replaceStars",e,t),e.trim().replace(u[c.STAR],"")),T=(e,t)=>(s("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?c.GTE0PRE:c.GTE0],"")),D=e=>(t,r,n,a,i,o,s,l,u,c,d,p)=>`${r=w(n)?"":w(a)?`>=${n}.0.0${e?"-0":""}`:w(i)?`>=${n}.${a}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`} ${l=w(u)?"":w(c)?`<${+u+1}.0.0-0`:w(d)?`<${u}.${+c+1}.0-0`:p?`<=${u}.${c}.${d}-${p}`:e?`<${u}.${c}.${+d+1}-0`:`<=${l}`}`.trim(),P=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(s(e[r].semver),e[r].semver!==o.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},7944:(e,t,r)=>{const n=r(9796),{MAX_LENGTH:a,MAX_SAFE_INTEGER:i}=r(9630),{safeRe:o,t:s}=r(6850),l=r(7095),{compareIdentifiers:u}=r(4031);class c{constructor(e,t){if(t=l(t),e instanceof c){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>a)throw new TypeError(`version is longer than ${a} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?o[s.LOOSE]:o[s.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof c)){if("string"==typeof e&&e===this.version)return 0;e=new c(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof c||(e=new c(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof c||(e=new c(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],a=e.prerelease[t];if(n("prerelease compare",t,r,a),void 0===r&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===r)return-1;if(r!==a)return u(r,a)}while(++t)}compareBuild(e){e instanceof c||(e=new c(e,this.options));let t=0;do{const r=this.build[t],a=e.build[t];if(n("build compare",t,r,a),void 0===r&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===r)return-1;if(r!==a)return u(r,a)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=c},7994:(e,t,r)=>{const n=r(5860);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},3811:(e,t,r)=>{const n=r(6909),a=r(7659),i=r(144),o=r(2077),s=r(599),l=r(7092);e.exports=(e,t,r,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,u);case"!=":return a(e,r,u);case">":return i(e,r,u);case">=":return o(e,r,u);case"<":return s(e,r,u);case"<=":return l(e,r,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},5334:(e,t,r)=>{const n=r(7944),a=r(5860),{safeRe:i,t:o}=r(6850);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?i[o.COERCERTLFULL]:i[o.COERCERTL];let a;for(;(a=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&a.index+a[0].length===r.index+r[0].length||(r=a),n.lastIndex=a.index+a[1].length+a[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?i[o.COERCEFULL]:i[o.COERCE]);if(null===r)return null;const s=r[2],l=r[3]||"0",u=r[4]||"0",c=t.includePrerelease&&r[5]?`-${r[5]}`:"",d=t.includePrerelease&&r[6]?`+${r[6]}`:"";return a(`${s}.${l}.${u}${c}${d}`,t)}},2801:(e,t,r)=>{const n=r(7944);e.exports=(e,t,r)=>{const a=new n(e,r),i=new n(t,r);return a.compare(i)||a.compareBuild(i)}},7023:(e,t,r)=>{const n=r(5380);e.exports=(e,t)=>n(e,t,!0)},5380:(e,t,r)=>{const n=r(7944);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},660:(e,t,r)=>{const n=r(5860);e.exports=(e,t)=>{const r=n(e,null,!0),a=n(t,null,!0),i=r.compare(a);if(0===i)return null;const o=i>0,s=o?r:a,l=o?a:r,u=!!s.prerelease.length;if(!!l.prerelease.length&&!u)return l.patch||l.minor?s.patch?"patch":s.minor?"minor":"major":"major";const c=u?"pre":"";return r.major!==a.major?c+"major":r.minor!==a.minor?c+"minor":r.patch!==a.patch?c+"patch":"prerelease"}},6909:(e,t,r)=>{const n=r(5380);e.exports=(e,t,r)=>0===n(e,t,r)},144:(e,t,r)=>{const n=r(5380);e.exports=(e,t,r)=>n(e,t,r)>0},2077:(e,t,r)=>{const n=r(5380);e.exports=(e,t,r)=>n(e,t,r)>=0},5955:(e,t,r)=>{const n=r(7944);e.exports=(e,t,r,a,i)=>{"string"==typeof r&&(i=a,a=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,a,i).version}catch(e){return null}}},599:(e,t,r)=>{const n=r(5380);e.exports=(e,t,r)=>n(e,t,r)<0},7092:(e,t,r)=>{const n=r(5380);e.exports=(e,t,r)=>n(e,t,r)<=0},2966:(e,t,r)=>{const n=r(7944);e.exports=(e,t)=>new n(e,t).major},5986:(e,t,r)=>{const n=r(7944);e.exports=(e,t)=>new n(e,t).minor},7659:(e,t,r)=>{const n=r(5380);e.exports=(e,t,r)=>0!==n(e,t,r)},5860:(e,t,r)=>{const n=r(7944);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},1617:(e,t,r)=>{const n=r(7944);e.exports=(e,t)=>new n(e,t).patch},9613:(e,t,r)=>{const n=r(5860);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},2862:(e,t,r)=>{const n=r(5380);e.exports=(e,t,r)=>n(t,e,r)},6033:(e,t,r)=>{const n=r(2801);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},1722:(e,t,r)=>{const n=r(8395);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},603:(e,t,r)=>{const n=r(2801);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},7645:(e,t,r)=>{const n=r(5860);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},8449:(e,t,r)=>{const n=r(6850),a=r(9630),i=r(7944),o=r(4031),s=r(5860),l=r(7645),u=r(7994),c=r(5955),d=r(660),p=r(2966),h=r(5986),f=r(1617),m=r(9613),g=r(5380),y=r(2862),v=r(7023),b=r(2801),w=r(603),S=r(6033),x=r(144),O=r(599),_=r(6909),E=r(7659),k=r(2077),C=r(7092),T=r(3811),D=r(5334),P=r(9524),R=r(8395),A=r(1722),j=r(651),I=r(7840),L=r(7930),N=r(3489),M=r(7494),V=r(5463),$=r(7871),z=r(4266),F=r(1112),B=r(1465),U=r(9252);e.exports={parse:s,valid:l,clean:u,inc:c,diff:d,major:p,minor:h,patch:f,prerelease:m,compare:g,rcompare:y,compareLoose:v,compareBuild:b,sort:w,rsort:S,gt:x,lt:O,eq:_,neq:E,gte:k,lte:C,cmp:T,coerce:D,Comparator:P,Range:R,satisfies:A,toComparators:j,maxSatisfying:I,minSatisfying:L,minVersion:N,validRange:M,outside:V,gtr:$,ltr:z,intersects:F,simplifyRange:B,subset:U,SemVer:i,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:a.SEMVER_SPEC_VERSION,RELEASE_TYPES:a.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},9630:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},9796:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},4031:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),a=t.test(r);return n&&a&&(e=+e,r=+r),e===r?0:n&&!a?-1:a&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},1158:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},7095:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},6850:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:i}=r(9630),o=r(9796),s=(t=e.exports={}).re=[],l=t.safeRe=[],u=t.src=[],c=t.t={};let d=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[p,a]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),a=d++;o(e,a,t),c[e]=a,u[a]=t,s[a]=new RegExp(t,r?"g":void 0),l[a]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),f("MAINVERSION",`(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${u[c.NUMERICIDENTIFIER]}|${u[c.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${u[c.NUMERICIDENTIFIERLOOSE]}|${u[c.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${u[c.PRERELEASEIDENTIFIER]}(?:\\.${u[c.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${u[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[c.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${p}+`),f("BUILD",`(?:\\+(${u[c.BUILDIDENTIFIER]}(?:\\.${u[c.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${u[c.MAINVERSION]}${u[c.PRERELEASE]}?${u[c.BUILD]}?`),f("FULL",`^${u[c.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${u[c.MAINVERSIONLOOSE]}${u[c.PRERELEASELOOSE]}?${u[c.BUILD]}?`),f("LOOSE",`^${u[c.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${u[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${u[c.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:${u[c.PRERELEASE]})?${u[c.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:${u[c.PRERELEASELOOSE]})?${u[c.BUILD]}?)?)?`),f("XRANGE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${u[c.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",u[c.COERCEPLAIN]+`(?:${u[c.PRERELEASE]})?`+`(?:${u[c.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",u[c.COERCE],!0),f("COERCERTLFULL",u[c.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${u[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${u[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${u[c.LONECARET]}${u[c.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${u[c.LONECARET]}${u[c.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${u[c.GTLT]}\\s*(${u[c.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]}|${u[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${u[c.XRANGEPLAIN]})\\s+-\\s+(${u[c.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${u[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[c.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},7871:(e,t,r)=>{const n=r(5463);e.exports=(e,t,r)=>n(e,t,">",r)},1112:(e,t,r)=>{const n=r(8395);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},4266:(e,t,r)=>{const n=r(5463);e.exports=(e,t,r)=>n(e,t,"<",r)},7840:(e,t,r)=>{const n=r(7944),a=r(8395);e.exports=(e,t,r)=>{let i=null,o=null,s=null;try{s=new a(t,r)}catch(e){return null}return e.forEach((e=>{s.test(e)&&(i&&-1!==o.compare(e)||(i=e,o=new n(i,r)))})),i}},7930:(e,t,r)=>{const n=r(7944),a=r(8395);e.exports=(e,t,r)=>{let i=null,o=null,s=null;try{s=new a(t,r)}catch(e){return null}return e.forEach((e=>{s.test(e)&&(i&&1!==o.compare(e)||(i=e,o=new n(i,r)))})),i}},3489:(e,t,r)=>{const n=r(7944),a=r(8395),i=r(144);e.exports=(e,t)=>{e=new a(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const a=e.set[t];let o=null;a.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":o&&!i(t,o)||(o=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!o||r&&!i(r,o)||(r=o)}return r&&e.test(r)?r:null}},5463:(e,t,r)=>{const n=r(7944),a=r(9524),{ANY:i}=a,o=r(8395),s=r(1722),l=r(144),u=r(599),c=r(7092),d=r(2077);e.exports=(e,t,r,p)=>{let h,f,m,g,y;switch(e=new n(e,p),t=new o(t,p),r){case">":h=l,f=c,m=u,g=">",y=">=";break;case"<":h=u,f=d,m=l,g="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,p))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let o=null,s=null;if(n.forEach((e=>{e.semver===i&&(e=new a(">=0.0.0")),o=o||e,s=s||e,h(e.semver,o.semver,p)?o=e:m(e.semver,s.semver,p)&&(s=e)})),o.operator===g||o.operator===y)return!1;if((!s.operator||s.operator===g)&&f(e,s.semver))return!1;if(s.operator===y&&m(e,s.semver))return!1}return!0}},1465:(e,t,r)=>{const n=r(1722),a=r(5380);e.exports=(e,t,r)=>{const i=[];let o=null,s=null;const l=e.sort(((e,t)=>a(e,t,r)));for(const e of l){n(e,t,r)?(s=e,o||(o=e)):(s&&i.push([o,s]),s=null,o=null)}o&&i.push([o,null]);const u=[];for(const[e,t]of i)e===t?u.push(e):t||e!==l[0]?t?e===l[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const c=u.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return c.length<d.length?c:t}},9252:(e,t,r)=>{const n=r(8395),a=r(9524),{ANY:i}=a,o=r(1722),s=r(5380),l=[new a(">=0.0.0-0")],u=[new a(">=0.0.0")],c=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=r.includePrerelease?l:u}if(1===t.length&&t[0].semver===i){if(r.includePrerelease)return!0;t=u}const n=new Set;let a,c,h,f,m,g,y;for(const t of e)">"===t.operator||">="===t.operator?a=d(a,t,r):"<"===t.operator||"<="===t.operator?c=p(c,t,r):n.add(t.semver);if(n.size>1)return null;if(a&&c){if(h=s(a.semver,c.semver,r),h>0)return null;if(0===h&&(">="!==a.operator||"<="!==c.operator))return null}for(const e of n){if(a&&!o(e,String(a),r))return null;if(c&&!o(e,String(c),r))return null;for(const n of t)if(!o(e,String(n),r))return!1;return!0}let v=!(!c||r.includePrerelease||!c.semver.prerelease.length)&&c.semver,b=!(!a||r.includePrerelease||!a.semver.prerelease.length)&&a.semver;v&&1===v.prerelease.length&&"<"===c.operator&&0===v.prerelease[0]&&(v=!1);for(const e of t){if(y=y||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,a)if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if(f=d(a,e,r),f===e&&f!==a)return!1}else if(">="===a.operator&&!o(a.semver,String(e),r))return!1;if(c)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if(m=p(c,e,r),m===e&&m!==c)return!1}else if("<="===c.operator&&!o(c.semver,String(e),r))return!1;if(!e.operator&&(c||a)&&0!==h)return!1}return!(a&&g&&!c&&0!==h)&&(!(c&&y&&!a&&0!==h)&&(!b&&!v))},d=(e,t,r)=>{if(!e)return t;const n=s(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,r)=>{if(!e)return t;const n=s(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let a=!1;e:for(const n of e.set){for(const e of t.set){const t=c(n,e,r);if(a=a||null!==t,t)continue e}if(a)return!1}return!0}},651:(e,t,r)=>{const n=r(8395);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},7494:(e,t,r)=>{const n=r(8395);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},6852:(e,t,r)=>{"use strict";var n=r(8036),a=Array.prototype.concat,i=Array.prototype.slice,o=e.exports=function(e){for(var t=[],r=0,o=e.length;r<o;r++){var s=e[r];n(s)?t=a.call(t,i.call(s)):t.push(s)}return t};o.wrap=function(e){return function(){return e(o(arguments))}}},8036:e=>{e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},5244:(e,t,r)=>{"use strict";r.d(t,{Py:()=>l,gY:()=>u,pz:()=>s,sk:()=>c});var n=r(2551),a=r(5968),i=r(4648);function o(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[a.s7]=function(){return this},t}function s(e,t,r,n){var i,s=(0,a.Xd)(e.src),u=null===(i=null==t?void 0:t.options.services)||void 0===i?void 0:i[s.type],c=e.data?(0,a.A9)(e.data,r,n):void 0,d=u?l(u,e.id,c):o(e.id);return d.meta=e,d}function l(e,t,r){var n=o(t);if(n.deferred=!0,(0,a.Ai)(e)){var s=n.state=(0,i.G)(void 0,(function(){return(r?e.withContext(r):e).initialState}));n.getSnapshot=function(){return s}}return n}function u(e){return function(e){try{return"function"==typeof e.send}catch(e){return!1}}(e)&&"id"in e}function c(e){var t;return(0,n.Cl)(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[a.s7]=function(){return this},t),e)}},1015:(e,t,r)=>{"use strict";r.d(t,{O:()=>w});var n=r(2551),a=r(5968),i=r(7768),o=r(6590),s=r(5846),l=r(5184),u=r(8204),c=r(6099),d=r(5244);function p(e){if("string"==typeof e){var t={type:e,toString:function(){return e}};return t}return e}function h(e){return(0,n.Cl)((0,n.Cl)({type:o.lA},e),{toJSON:function(){e.onDone,e.onError;var t=(0,n.Tt)(e,["onDone","onError"]);return(0,n.Cl)((0,n.Cl)({},t),{type:o.lA,src:p(e.src)})}})}var f="",m="*",g={},y=function(e){return"#"===e[0]},v=function(){function e(t,r,i,o){void 0===i&&(i="context"in t?t.context:void 0);var d,p=this;this.config=t,this._context=i,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},r),this.parent=null==o?void 0:o.parent,this.key=this.config.key||(null==o?void 0:o.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:u.AD),this.id=this.config.id||(0,n.fX)([this.machine.key],(0,n.zs)(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(d=this.config.schema)&&void 0!==d?d:{},this.description=this.config.description,l.p||(0,a.R8)(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?(0,a.LG)(this.config.states,(function(t,r){var a,i=new e(t,{},void 0,{parent:p,key:r});return Object.assign(p.idMap,(0,n.Cl)(((a={})[i.id]=i,a),i.idMap)),i})):g;var m=0;!function e(t){var r,a;t.order=m++;try{for(var i=(0,n.Ju)((0,c.rz)(t)),o=i.next();!o.done;o=i.next()){e(o.value)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return e.event===f})):f in this.config.on),this.strict=!!this.config.strict,this.onEntry=(0,a.$r)(this.config.entry||this.config.onEntry).map((function(e){return(0,s.Hf)(e)})),this.onExit=(0,a.$r)(this.config.exit||this.config.onExit).map((function(e){return(0,s.Hf)(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=(0,a.$r)(this.config.invoke).map((function(e,t){var r,i;if((0,a.Ai)(e)){var o=(0,a.cv)(p.id,t);return p.machine.options.services=(0,n.Cl)(((r={})[o]=e,r),p.machine.options.services),h({src:o,id:o})}if((0,a.Kg)(e.src)){o=e.id||(0,a.cv)(p.id,t);return h((0,n.Cl)((0,n.Cl)({},e),{id:o,src:e.src}))}if((0,a.Ai)(e.src)||(0,a.Tn)(e.src)){o=e.id||(0,a.cv)(p.id,t);return p.machine.options.services=(0,n.Cl)(((i={})[o]=e.src,i),p.machine.options.services),h((0,n.Cl)((0,n.Cl)({id:o},e),{src:o}))}var s=e.src;return h((0,n.Cl)((0,n.Cl)({id:(0,a.cv)(p.id,t)},e),{src:s}))})),this.activities=(0,a.$r)(this.config.activities).concat(this.invoke).map((function(e){return(0,s._4)(e)})),this.transition=this.transition.bind(this),this.tags=(0,a.$r)(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||(0,c.Ki)(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,r){var a=this.options,i=a.actions,o=a.activities,s=a.guards,l=a.services,u=a.delays;return new e(this.config,{actions:(0,n.Cl)((0,n.Cl)({},i),t.actions),activities:(0,n.Cl)((0,n.Cl)({},o),t.activities),guards:(0,n.Cl)((0,n.Cl)({},s),t.guards),services:(0,n.Cl)((0,n.Cl)({},l),t.services),delays:(0,n.Cl)((0,n.Cl)({},u),t.delays)},null!=r?r:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return(0,a.Tn)(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:(0,a.LG)(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===f,r=this.transitions.filter((function(r){var n=r.eventType===e;return t?n:n||r.eventType===m}));return this.__cache.candidates[e]=r,r},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var r=function(t,r){var n=(0,a.Tn)(t)?"".concat(e.id,":delay[").concat(r,"]"):t,i=(0,s.Pl)(n,e.id);return e.onEntry.push((0,s.tN)(i,{delay:t})),e.onExit.push((0,s.ZT)(i)),i};return((0,a.cy)(t)?t.map((function(e,t){var a=r(e.delay,t);return(0,n.Cl)((0,n.Cl)({},e),{event:a})})):(0,a.Bq)(Object.keys(t).map((function(e,i){var o=t[e],s=(0,a.Kg)(o)?{target:o}:o,l=isNaN(+e)?e:+e,u=r(l,i);return(0,a.$r)(s).map((function(e){return(0,n.Cl)((0,n.Cl)({},e),{event:u,delay:l})}))})))).map((function(t){var r=t.delay;return(0,n.Cl)((0,n.Cl)({},e.formatTransition(t)),{delay:r})}))},e.prototype.getStateNodes=function(e){var t,r=this;if(!e)return[];var o=e instanceof i.Uw?e.value:(0,a.at)(e,this.delimiter);if((0,a.Kg)(o)){var s=this.getStateNode(o).initial;return void 0!==s?this.getStateNodes(((t={})[o]=s,t)):[this,this.states[o]]}var l=Object.keys(o),u=[this];return u.push.apply(u,(0,n.fX)([],(0,n.zs)((0,a.Bq)(l.map((function(e){return r.getStateNode(e).getStateNodes(o[e])})))),!1)),u},e.prototype.handles=function(e){var t=(0,a.vd)(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof i.Uw?e:i.Uw.create(e),r=Array.from((0,c.D0)([],this.getStateNodes(t.value)));return new i.Uw((0,n.Cl)((0,n.Cl)({},t),{value:this.resolve(t.value),configuration:r,done:(0,c.BJ)(r,this),tags:(0,c.iU)(r),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,r){var n=this.getStateNode(e).next(t,r);return n&&n.transitions.length?n:this.next(t,r)},e.prototype.transitionCompoundNode=function(e,t,r){var n=Object.keys(e),a=this.getStateNode(n[0])._transition(e[n[0]],t,r);return a&&a.transitions.length?a:this.next(t,r)},e.prototype.transitionParallelNode=function(e,t,r){var i,o,s={};try{for(var l=(0,n.Ju)(Object.keys(e)),u=l.next();!u.done;u=l.next()){var c=u.value,d=e[c];if(d){var p=this.getStateNode(c)._transition(d,t,r);p&&(s[c]=p)}}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}var h=Object.keys(s).map((function(e){return s[e]})),f=(0,a.Bq)(h.map((function(e){return e.transitions})));if(!h.some((function(e){return e.transitions.length>0})))return this.next(t,r);var m=(0,a.Bq)(Object.keys(s).map((function(e){return s[e].configuration})));return{transitions:f,exitSet:(0,a.Bq)(h.map((function(e){return e.exitSet}))),configuration:m,source:t,actions:(0,a.Bq)(Object.keys(s).map((function(e){return s[e].actions})))}},e.prototype._transition=function(e,t,r){return(0,a.Kg)(e)?this.transitionLeafNode(e,t,r):1===Object.keys(e).length?this.transitionCompoundNode(e,t,r):this.transitionParallelNode(e,t,r)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,(0,a.ft)(t))},e.prototype.next=function(e,t){var r,i,o,s=this,l=t.name,u=[],c=[];try{for(var d=(0,n.Ju)(this.getCandidates(l)),p=d.next();!p.done;p=d.next()){var h=p.value,f=h.cond,m=h.in,g=e.context,v=!m||((0,a.Kg)(m)&&y(m)?e.matches((0,a.at)(this.getStateNodeById(m).path,this.delimiter)):(0,a.HK)((0,a.at)(m,this.delimiter),(0,a.Ae)(this.path.slice(0,-2))(e.value))),b=!1;try{b=!f||(0,a.re)(this.machine,f,g,t,e)}catch(e){throw new Error("Unable to evaluate guard '".concat(f.name||f.type,"' in transition for event '").concat(l,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(b&&v){void 0!==h.target&&(c=h.target),u.push.apply(u,(0,n.fX)([],(0,n.zs)(h.actions),!1)),o=h;break}}}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}if(o){if(!c.length)return{transitions:[o],exitSet:[],configuration:e.value?[this]:[],source:e,actions:u};var w=(0,a.Bq)(c.map((function(t){return s.getRelativeStateNodes(t,e.historyValue)})));return{transitions:[o],exitSet:!!o.internal?[]:(0,a.Bq)(c.map((function(e){return s.getPotentiallyReenteringNodes(e)}))),configuration:w,source:e,actions:u}}},e.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var t=[],r=this,n=e;r&&r!==n;)t.push(r),r=r.parent;return r!==n?[]:(t.push(n),t)},e.prototype.getActions=function(e,t,r,i,o,l,u){var d,p,h,f,m=this,g=l?(0,c.D0)([],this.getStateNodes(l.value)):[],y=new Set;try{for(var v=(0,n.Ju)(Array.from(e).sort((function(e,t){return e.order-t.order}))),b=v.next();!b.done;b=v.next()){var w=b.value;(!(0,c.zy)(g,w)||(0,c.zy)(r.exitSet,w)||w.parent&&y.has(w.parent))&&y.add(w)}}catch(e){d={error:e}}finally{try{b&&!b.done&&(p=v.return)&&p.call(v)}finally{if(d)throw d.error}}try{for(var S=(0,n.Ju)(g),x=S.next();!x.done;x=S.next()){w=x.value;(0,c.zy)(e,w)&&!(0,c.zy)(r.exitSet,w.parent)||r.exitSet.push(w)}}catch(e){h={error:e}}finally{try{x&&!x.done&&(f=S.return)&&f.call(S)}finally{if(h)throw h.error}}r.exitSet.sort((function(e,t){return t.order-e.order}));var O=Array.from(y).sort((function(e,t){return e.order-t.order})),_=new Set(r.exitSet),E=(0,a.Bq)(O.map((function(e){var t=[];if("final"!==e.type)return t;var n=e.parent;if(!n.parent)return t;t.push((0,s.Vw)(e.id,e.doneData),(0,s.Vw)(n.id,e.doneData?(0,a.A9)(e.doneData,i,o):void 0));var l=n.parent;return"parallel"===l.type&&(0,c.i0)(l).every((function(e){return(0,c.BJ)(r.configuration,e)}))&&t.push((0,s.Vw)(l.id)),t}))),k=O.map((function(e){var t=e.onEntry,r=e.activities.map((function(e){return(0,s.ni)(e)}));return{type:"entry",actions:(0,s.Um)(u?(0,n.fX)((0,n.fX)([],(0,n.zs)(t),!1),(0,n.zs)(r),!1):(0,n.fX)((0,n.fX)([],(0,n.zs)(r),!1),(0,n.zs)(t),!1),m.machine.options.actions)}})).concat({type:"state_done",actions:E.map((function(e){return(0,s.xl)(e)}))}),C=Array.from(_).map((function(e){return{type:"exit",actions:(0,s.Um)((0,n.fX)((0,n.fX)([],(0,n.zs)(e.onExit),!1),(0,n.zs)(e.activities.map((function(e){return(0,s.ds)(e)}))),!1),m.machine.options.actions)}})).concat({type:"transition",actions:(0,s.Um)(r.actions,this.machine.options.actions)}).concat(k);if(t){var T=(0,s.Um)((0,a.Bq)((0,n.fX)([],(0,n.zs)(e),!1).sort((function(e,t){return t.order-e.order})).map((function(e){return e.onExit}))),this.machine.options.actions).filter((function(e){return!(0,a.Gx)(e)}));return C.concat({type:"stop",actions:T})}return C},e.prototype.transition=function(e,t,r,o){void 0===e&&(e=this.initialState);var s,u=(0,a.ft)(t);if(e instanceof i.Uw)s=void 0===r?e:this.resolveState(i.Uw.from(e,r));else{var d=(0,a.Kg)(e)?this.resolve((0,a.zr)(this.getResolvedPath(e))):this.resolve(e),p=null!=r?r:this.machine.context;s=this.resolveState(i.Uw.from(d,p))}if(!l.p&&u.name===m)throw new Error("An event cannot have the wildcard type ('".concat(m,"')"));if(this.strict&&!this.events.includes(u.name)&&!(0,a.M7)(u.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(u.name,"'"));var h=this._transition(s.value,s,u)||{transitions:[],configuration:[],exitSet:[],source:s,actions:[]},f=(0,c.D0)([],this.getStateNodes(s.value)),g=h.configuration.length?(0,c.D0)(f,h.configuration):f;return h.configuration=(0,n.fX)([],(0,n.zs)(g),!1),this.resolveTransition(h,s,s.context,o,u)},e.prototype.resolveRaisedTransition=function(e,t,r,a){var i,o=e.actions;return(e=this.transition(e,t,void 0,a))._event=r,e.event=r.data,(i=e.actions).unshift.apply(i,(0,n.fX)([],(0,n.zs)(o),!1)),e},e.prototype.resolveTransition=function(e,t,r,l,u){var p,h,m,g,y=this;void 0===u&&(u=s.zp);var v=e.configuration,b=!t||e.transitions.length>0,w=b?e.configuration:t?t.configuration:[],S=(0,c.BJ)(w,this),x=b?(0,c._W)(this.machine,v):void 0,O=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,_=this.getActions(new Set(w),S,e,r,u,t,l),E=t?(0,n.Cl)({},t.activities):{};try{for(var k=(0,n.Ju)(_),C=k.next();!C.done;C=k.next()){var T=C.value;try{for(var D=(m=void 0,(0,n.Ju)(T.actions)),P=D.next();!P.done;P=D.next()){var R=P.value;R.type===o.ni?E[R.activity.id||R.activity.type]=R:R.type===o.ds&&(E[R.activity.id||R.activity.type]=!1)}}catch(e){m={error:e}}finally{try{P&&!P.done&&(g=D.return)&&g.call(D)}finally{if(m)throw m.error}}}}catch(e){p={error:e}}finally{try{C&&!C.done&&(h=k.return)&&h.call(k)}finally{if(p)throw p.error}}var A=(0,n.zs)((0,s.AS)(this,t,r,u,_,l,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),j=A[0],I=A[1],L=(0,n.zs)((0,a.jB)(j,a.Gx),2),N=L[0],M=L[1],V=j.filter((function(e){var t;return e.type===o.ni&&(null===(t=e.activity)||void 0===t?void 0:t.type)===o.lA})),$=V.reduce((function(e,t){return e[t.activity.id]=(0,d.pz)(t.activity,y.machine,I,u),e}),t?(0,n.Cl)({},t.children):{}),z=new i.Uw({value:x||t.value,context:I,_event:u,_sessionid:t?t._sessionid:null,historyValue:x?O?(0,a.BY)(O,x):void 0:t?t.historyValue:void 0,history:!x||e.source?t:void 0,actions:x?M:[],activities:x?E:t?t.activities:{},events:[],configuration:w,transitions:e.transitions,children:$,done:S,tags:(0,c.iU)(w),machine:this}),F=r!==I;z.changed=u.name===o.yo||F;var B=z.history;B&&delete B.history;var U=!S&&(this._transient||v.some((function(e){return e._transient})));if(!(b||U&&u.name!==f))return z;var H=z;if(!S)for(U&&(H=this.resolveRaisedTransition(H,{type:o.kx},u,l));N.length;){var q=N.shift();H=this.resolveRaisedTransition(H,q._event,u,l)}var W=H.changed||(B?!!H.actions.length||F||typeof B.value!=typeof H.value||!(0,i.iE)(H.value,B.value):void 0);return H.changed=W,H.history=B,H},e.prototype.getStateNode=function(e){if(y(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=y(e)?e.slice(1):e;if(t===this.id)return this;var r=this.machine.idMap[t];if(!r)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return r},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&y(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=(0,a._J)(e,this.delimiter).slice(),r=this;t.length;){var n=t.shift();if(!n.length)break;r=r.getStateNode(n)}return r},e.prototype.resolve=function(e){var t,r=this;if(!e)return this.initialStateValue||g;switch(this.type){case"parallel":return(0,a.LG)(this.initialStateValue,(function(t,n){return t?r.getStateNode(n).resolve(e[n]||t):g}));case"compound":if((0,a.Kg)(e)){var n=this.getStateNode(e);return"parallel"===n.type||"compound"===n.type?((t={})[e]=n.initialStateValue,t):e}return Object.keys(e).length?(0,a.LG)(e,(function(e,t){return e?r.getStateNode(t).resolve(e):g})):this.initialStateValue||{};default:return e||g}},e.prototype.getResolvedPath=function(e){if(y(e)){var t=this.machine.idMap[e.slice(1)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return(0,a._J)(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=(0,a.rp)(this.states,(function(e){return e.initialStateValue||g}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=(0,c.d2)(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var r=this.getStateNodes(e);return this.resolveTransition({configuration:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=(0,a.Kg)(t.target)&&y(t.target)?(0,a.zr)(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,r){return void 0===r&&(r=!0),r?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;if((0,c.d2)(this))return[this];if("compound"===this.type&&!this.initial)return l.p||(0,a.R8)(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var t=(0,a.bm)(this.initialStateValue);return(0,a.Bq)(t.map((function(t){return e.getFromRelativePath(t)})))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=(0,n.zs)(e),r=t[0],a=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var i=this.getStateNode(r);if("history"===i.type)return i.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(a)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:(0,a.rp)(this.states,(function(t,r){if(!e)return t.historyValue();var n=(0,a.Kg)(e)?void 0:e[r];return t.historyValue(n||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var r=this.parent;if(!e){var n=this.target;return n?(0,a.Bq)((0,a.bm)(n).map((function(e){return r.getFromRelativePath(e)}))):r.initialStateNodes}var i=(0,a.VQ)(r.path,"states")(e).current;return(0,a.Kg)(i)?[r.getStateNode(i)]:(0,a.Bq)((0,a.bm)(i).map((function(e){return"deep"===t.history?r.getFromRelativePath(e):[r.states[e[0]]]})))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=(0,a.Bq)(Object.keys(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,r,a;if(this.__cache.events)return this.__cache.events;var i=this.states,o=new Set(this.ownEvents);if(i)try{for(var s=(0,n.Ju)(Object.keys(i)),l=s.next();!l.done;l=s.next()){var u=i[l.value];if(u.states)try{for(var c=(r=void 0,(0,n.Ju)(u.events)),d=c.next();!d.done;d=c.next()){var p=d.value;o.add("".concat(p))}}catch(e){r={error:e}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!(0,a.Kg)(e))return e;var r=e[0]===t.delimiter;if(r&&!t.parent)return t.getStateNodeByPath(e.slice(1));var n=r?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(n);try{return t.parent.getStateNodeByPath(n)}catch(e){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}}))},e.prototype.formatTransition=function(e){var t=this,r=(0,a.R_)(e.target),i="internal"in e?e.internal:!r||r.some((function(e){return(0,a.Kg)(e)&&e[0]===t.delimiter})),o=this.machine.options.guards,l=this.resolveTarget(r),u=(0,n.Cl)((0,n.Cl)({},e),{actions:(0,s.Um)((0,a.$r)(e.actions)),cond:(0,a.Z8)(e.cond,o),target:l,source:this,internal:i,eventType:e.event,toJSON:function(){return(0,n.Cl)((0,n.Cl)({},u),{target:u.target?u.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return u},e.prototype.formatTransitions=function(){var e,t,r,i=this;if(this.config.on)if(Array.isArray(this.config.on))r=this.config.on;else{var o=this.config.on,u=m,c=o[u],d=void 0===c?[]:c,p=(0,n.Tt)(o,["*"]);r=(0,a.Bq)(Object.keys(p).map((function(e){l.p||e!==f||(0,a.R8)(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(i.id,'".'));var t=(0,a.oc)(e,p[e]);return l.p||function(e,t,r){var n=r.slice(0,-1).some((function(e){return!("cond"in e)&&!("in"in e)&&((0,a.Kg)(e.target)||(0,a.Ai)(e.target))})),i=t===f?"the transient event":"event '".concat(t,"'");(0,a.R8)(!n,"One or more transitions for ".concat(i," on state '").concat(e.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")}(i,e,t),t})).concat((0,a.oc)(m,d)))}else r=[];var h=this.config.always?(0,a.oc)("",this.config.always):[],g=this.config.onDone?(0,a.oc)(String((0,s.Vw)(this.id)),this.config.onDone):[];l.p||(0,a.R8)(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var y=(0,a.Bq)(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,(0,n.fX)([],(0,n.zs)((0,a.oc)(String((0,s.tS)(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,(0,n.fX)([],(0,n.zs)((0,a.oc)(String((0,s.z3)(e.id)),e.onError)),!1)),t}))),v=this.after,b=(0,a.Bq)((0,n.fX)((0,n.fX)((0,n.fX)((0,n.fX)([],(0,n.zs)(g),!1),(0,n.zs)(y),!1),(0,n.zs)(r),!1),(0,n.zs)(h),!1).map((function(e){return(0,a.$r)(e).map((function(e){return i.formatTransition(e)}))})));try{for(var w=(0,n.Ju)(v),S=w.next();!S.done;S=w.next()){var x=S.value;b.push(x)}}catch(t){e={error:t}}finally{try{S&&!S.done&&(t=w.return)&&t.call(w)}finally{if(e)throw e.error}}return b},e}(),b=!1;function w(e,t){return l.p||"predictableActionArguments"in e||b||(b=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new v(e,t)}},7768:(e,t,r)=>{"use strict";r.d(t,{OS:()=>c,Sv:()=>d,Uw:()=>p,iE:()=>u});var n=r(2551),a=r(8204),i=r(5968),o=r(6099),s=r(5846),l=r(5184);function u(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if((0,i.Kg)(e)||(0,i.Kg)(t))return e===t;var r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every((function(r){return u(e[r],t[r])}))}function c(e){return"object"==typeof e&&null!==e&&("value"in e&&"_event"in e)}function d(e,t){var r=e.exec;return(0,n.Cl)((0,n.Cl)({},e),{exec:void 0!==r?function(){return r(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})}var p=function(){function e(e){var t,r=this;this.actions=[],this.activities=a.xP,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||a.xP,this.meta=(0,o.IQ)(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return(0,o.Xh)(r.configuration)}})}return e.from=function(t,r){return t instanceof e?t.context!==r?new e({value:t.value,context:r,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:r,_event:s.zp,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,r){if(t instanceof e){if(!t.actions.length)return t;var n=s.zp;return new e({value:t.value,context:r,_event:n,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,r)},e.prototype.toStrings=function(e,t){var r=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),(0,i.Kg)(e))return[e];var a=Object.keys(e);return a.concat.apply(a,(0,n.fX)([],(0,n.zs)(a.map((function(n){return r.toStrings(e[n],t).map((function(e){return n+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var r=(0,n.Tt)(e,["configuration","transitions","tags","machine"]);return(0,n.Cl)((0,n.Cl)({},r),{tags:Array.from(t)})},e.prototype.matches=function(e){return(0,i.HK)(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;l.p&&(0,i.R8)(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var r=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==r?void 0:r.transitions.length)&&r.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}()},2551:(e,t,r)=>{"use strict";r.d(t,{Cl:()=>n,Ju:()=>i,Tt:()=>a,fX:()=>s,zs:()=>o});var n=function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function i(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o}function s(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}},6590:(e,t,r)=>{"use strict";r.d(t,{LM:()=>v,O$:()=>f,Rm:()=>d,Sw:()=>y,Ts:()=>p,ZT:()=>l,ds:()=>i,kp:()=>c,kx:()=>u,lA:()=>h,ni:()=>a,tN:()=>s,xl:()=>o,yo:()=>g,z3:()=>m});var n=r(5468),a=n.Q.Start,i=n.Q.Stop,o=n.Q.Raise,s=n.Q.Send,l=n.Q.Cancel,u=n.Q.NullEvent,c=n.Q.Assign,d=(n.Q.After,n.Q.DoneState,n.Q.Log),p=n.Q.Init,h=n.Q.Invoke,f=(n.Q.ErrorExecution,n.Q.ErrorPlatform),m=n.Q.ErrorCustom,g=n.Q.Update,y=n.Q.Choose,v=n.Q.Pure},5846:(e,t,r)=>{"use strict";r.d(t,{AS:()=>E,H7:()=>u,Hf:()=>c,Pl:()=>w,Um:()=>d,Vw:()=>S,ZT:()=>g,_4:()=>p,ds:()=>v,kp:()=>b,ni:()=>y,tN:()=>f,tS:()=>x,xl:()=>h,z3:()=>O,zp:()=>l});var n=r(2551),a=r(5468),i=r(6590),o=r(5968),s=r(5184),l=(0,o.ft)({type:i.Ts});function u(e,t){return t&&t[e]||void 0}function c(e,t){var r;if((0,o.Kg)(e)||"number"==typeof e){var a=u(e,t);r=(0,o.Tn)(a)?{type:e,exec:a}:a||{type:e,exec:void 0}}else if((0,o.Tn)(e))r={type:e.name||e.toString(),exec:e};else{a=u(e.type,t);if((0,o.Tn)(a))r=(0,n.Cl)((0,n.Cl)({},e),{exec:a});else if(a){var i=a.type||e.type;r=(0,n.Cl)((0,n.Cl)((0,n.Cl)({},a),e),{type:i})}else r=e}return r}var d=function(e,t){return e?((0,o.cy)(e)?e:[e]).map((function(e){return c(e,t)})):[]};function p(e){var t=c(e);return(0,n.Cl)((0,n.Cl)({id:(0,o.Kg)(e)?e:t.id},t),{type:t.type})}function h(e,t){return{type:i.xl,event:"function"==typeof e?e:(0,o.jK)(e),delay:t?t.delay:void 0,id:null==t?void 0:t.id}}function f(e,t){return{to:t?t.to:void 0,type:i.tN,event:(0,o.Tn)(e)?e:(0,o.jK)(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:(0,o.Tn)(e)?e.name:(0,o.vd)(e)}}var m=function(e,t,r){return(0,n.Cl)((0,n.Cl)({},e),{value:(0,o.Kg)(e.expr)?e.expr:e.expr(t,r.data,{_event:r})})},g=function(e){return{type:i.ZT,sendId:e}};function y(e){var t=p(e);return{type:a.Q.Start,activity:t,exec:void 0}}function v(e){var t=(0,o.Tn)(e)?e:p(e);return{type:a.Q.Stop,activity:t,exec:void 0}}var b=function(e){return{type:i.kp,assignment:e}};function w(e,t){var r=t?"#".concat(t):"";return"".concat(a.Q.After,"(").concat(e,")").concat(r)}function S(e,t){var r="".concat(a.Q.DoneState,".").concat(e),n={type:r,data:t,toString:function(){return r}};return n}function x(e,t){var r="".concat(a.Q.DoneInvoke,".").concat(e),n={type:r,data:t,toString:function(){return r}};return n}function O(e,t){var r="".concat(a.Q.ErrorPlatform,".").concat(e),n={type:r,data:t,toString:function(){return r}};return n}var _=function(e){var t,r,a=[];try{for(var o=(0,n.Ju)(e),s=o.next();!s.done;s=o.next())for(var l=s.value,u=0;u<l.actions.length;)l.actions[u].type!==i.kp?u++:(a.push(l.actions[u]),l.actions.splice(u,1))}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return a};function E(e,t,r,l,u,p,h){void 0===h&&(h=!1);var f=h?[]:_(u),g=f.length?(0,o.r_)(r,l,f,t):r,y=h?[r]:void 0,v=[];function b(u,f){var b;switch(f.type){case i.xl:var w=function(e,t,r,a){var s,l={_event:r},u=(0,o.ft)((0,o.Tn)(e.event)?e.event(t,r.data,l):e.event);if((0,o.Kg)(e.delay)){var c=a&&a[e.delay];s=(0,o.Tn)(c)?c(t,r.data,l):c}else s=(0,o.Tn)(e.delay)?e.delay(t,r.data,l):e.delay;return(0,n.Cl)((0,n.Cl)({},e),{type:i.xl,_event:u,delay:s})}(f,g,l,e.options.delays);return p&&"number"==typeof w.delay&&p(w,g,l),w;case i.tN:var S=function(e,t,r,a){var i,s={_event:r},l=(0,o.ft)((0,o.Tn)(e.event)?e.event(t,r.data,s):e.event);if((0,o.Kg)(e.delay)){var u=a&&a[e.delay];i=(0,o.Tn)(u)?u(t,r.data,s):u}else i=(0,o.Tn)(e.delay)?e.delay(t,r.data,s):e.delay;var c=(0,o.Tn)(e.to)?e.to(t,r.data,s):e.to;return(0,n.Cl)((0,n.Cl)({},e),{to:c,_event:l,event:l.data,delay:i})}(f,g,l,e.options.delays);if(!s.p){var x=f.delay;(0,o.R8)(!(0,o.Kg)(x)||"number"==typeof S.delay,"No delay reference for delay expression '".concat(x,"' was found on machine '").concat(e.id,"'"))}return p&&S.to!==a.i.Internal&&("entry"===u?v.push(S):p(S,g,l)),S;case i.Rm:var O=m(f,g,l);return null==p||p(O,g,l),O;case i.Sw:if(!(T=null===(b=f.conds.find((function(r){var n=(0,o.Z8)(r.cond,e.options.guards);return!n||(0,o.re)(e,n,g,l,p?void 0:t)})))||void 0===b?void 0:b.actions))return[];var _=(0,n.zs)(E(e,t,g,l,[{type:u,actions:d((0,o.$r)(T),e.options.actions)}],p,h),2),k=_[0],C=_[1];return g=C,null==y||y.push(g),k;case i.LM:var T;if(!(T=f.get(g,l.data)))return[];var D=(0,n.zs)(E(e,t,g,l,[{type:u,actions:d((0,o.$r)(T),e.options.actions)}],p,h),2),P=D[0],R=D[1];return g=R,null==y||y.push(g),P;case i.ds:O=function(e,t,r){var n=(0,o.Tn)(e.activity)?e.activity(t,r.data):e.activity,i="string"==typeof n?{id:n}:n;return{type:a.Q.Stop,activity:i}}(f,g,l);return null==p||p(O,r,l),O;case i.kp:g=(0,o.r_)(g,l,[f],p?void 0:t),null==y||y.push(g);break;default:var A=c(f,e.options.actions),j=A.exec;if(p)p(A,g,l);else if(j&&y){var I=y.length-1,L=(0,n.Cl)((0,n.Cl)({},A),{exec:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];j.apply(void 0,(0,n.fX)([y[I]],(0,n.zs)(t),!1))}});A=L}return A}}return[(0,o.Bq)(u.map((function(e){var t,r,a=[];try{for(var i=(0,n.Ju)(e.actions),o=i.next();!o.done;o=i.next()){var s=o.value,u=b(e.type,s);u&&(a=a.concat(u))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return v.forEach((function(e){p(e,g,l)})),v.length=0,a}))),g]}},8204:(e,t,r)=>{"use strict";r.d(t,{$D:()=>o,AD:()=>n,hS:()=>i,xP:()=>a});var n=".",a={},i="xstate.guard",o=""},5184:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var n=!0},9221:(e,t,r)=>{"use strict";r.d(t,{kp:()=>n});var n=r(5846).kp},7268:(e,t,r)=>{"use strict";r.d(t,{U4:()=>k});var n=r(2551),a=r(5468),i=r(7768),o=r(6590),s=r(5846),l=r(5184),u=r(5968),c={deferEvents:!1},d=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=(0,n.Cl)((0,n.Cl)({},c),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),p=r(5244),h=new Map,f=0,m=function(){return"x:".concat(f++)},g=function(e,t){return h.set(e,t),e},y=function(e){return h.get(e)},v=function(e){h.delete(e)};function b(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:void(l.p||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues"))}function w(e){if(b()){var t=function(){var e=b();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}var S=r(4648);function x(e,t){void 0===t&&(t={});var r=e.initialState,n=new Set,a=[],i=!1,o=(0,p.sk)({id:t.id,send:function(t){a.push(t),function(){if(!i){for(i=!0;a.length>0;){var t=a.shift();r=e.transition(r,t,s),n.forEach((function(e){return e.next(r)}))}i=!1}}()},getSnapshot:function(){return r},subscribe:function(e,t,a){var i=(0,u.WV)(e,t,a);return n.add(i),i.next(r),{unsubscribe:function(){n.delete(i)}}}}),s={parent:t.parent,self:o,id:t.id||"anonymous",observers:n};return r=e.start?e.start(s):r,o}var O,_={sync:!1,autoForward:!1};!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(O||(O={}));var E=function(){function e(t,r){void 0===r&&(r=e.defaultOptions);var i=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=O.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if((0,u.cy)(e))return i.batch(e),i.state;var r=(0,u.ft)((0,u.jK)(e,t));if(i.status===O.Stopped)return l.p||(0,u.R8)(!1,'Event "'.concat(r.name,'" was sent to stopped service "').concat(i.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(r.data))),i.state;if(i.status!==O.Running&&!i.options.deferEvents)throw new Error('Event "'.concat(r.name,'" was sent to uninitialized service "').concat(i.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(r.data)));return i.scheduler.schedule((function(){i.forward(r);var e=i._nextState(r);i.update(e,r)})),i._state},this.sendTo=function(e,t,r){var c=i.parent&&(t===a.i.Parent||i.parent.id===t),d=c?i.parent:(0,u.Kg)(t)?t===a.i.Internal?i:i.children.get(t)||y(t):(0,u._3)(t)?t:void 0;if(d)if("machine"in d){if(i.status!==O.Stopped||i.parent!==d||i.state.done){var p=(0,n.Cl)((0,n.Cl)({},e),{name:e.name===o.z3?"".concat((0,s.z3)(i.id)):e.name,origin:i.sessionId});!r&&i.machine.config.predictableActionArguments?i._outgoingQueue.push([d,p]):d.send(p)}}else!r&&i.machine.config.predictableActionArguments?i._outgoingQueue.push([d,e.data]):d.send(e.data);else{if(!c)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(i.id,"'."));l.p||(0,u.R8)(!1,"Service '".concat(i.id,"' has no parent: unable to send event ").concat(e.type))}},this._exec=function(e,t,r,n){void 0===n&&(n=i.machine.options.actions);var c=e.exec||(0,s.H7)(e.type,n),d=(0,u.Tn)(c)?c:c?c.exec:e.exec;if(d)try{return d(t,r.data,i.machine.config.predictableActionArguments?{action:e,_event:r}:{action:e,state:i.state,_event:r})}catch(e){throw i.parent&&i.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case o.xl:var p=e;i.defer(p);break;case o.tN:var h=e;if("number"==typeof h.delay)return void i.defer(h);h.to?i.sendTo(h._event,h.to,r===s.zp):i.send(h._event);break;case o.ZT:i.cancel(e.sendId);break;case o.ni:if(i.status!==O.Running)return;var f=e.activity;if(!i.machine.config.predictableActionArguments&&!i.state.activities[f.id||f.type])break;if(f.type===a.Q.Invoke){var m=(0,u.Xd)(f.src),g=i.machine.options.services?i.machine.options.services[m.type]:void 0,y=f.id,v=f.data;l.p||(0,u.R8)(!("forward"in f),"`forward` property is deprecated (found in invocation of '".concat(f.src,"' in in machine '").concat(i.machine.id,"'). ")+"Please use `autoForward` instead.");var b="autoForward"in f?f.autoForward:!!f.forward;if(!g)return void(l.p||(0,u.R8)(!1,"No service found for invocation '".concat(f.src,"' in machine '").concat(i.machine.id,"'.")));var w=v?(0,u.A9)(v,t,r):void 0;if("string"==typeof g)return;var S=(0,u.Tn)(g)?g(t,r.data,{data:w,src:m,meta:f.meta}):g;if(!S)return;var x=void 0;(0,u.Ai)(S)&&(S=w?S.withContext(w):S,x={autoForward:b}),i.spawn(S,y,x)}else i.spawnActivity(f);break;case o.ds:i.stopChild(e.activity.id);break;case o.Rm:var _=e,E=_.label,k=_.value;E?i.logger(E,k):i.logger(k);break;default:l.p||(0,u.R8)(!1,"No implementation found for action type '".concat(e.type,"'"))}};var c=(0,n.Cl)((0,n.Cl)({},e.defaultOptions),r),p=c.clock,h=c.logger,f=c.parent,g=c.id,v=void 0!==g?g:t.id;this.id=v,this.logger=h,this.clock=p,this.parent=f,this.options=c,this.scheduler=new d({deferEvents:this.options.deferEvents}),this.sessionId=m()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:(0,S.G)(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return l.p||(0,u.R8)(this.status!==O.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var r,a;try{for(var i=(0,n.Ju)(e.actions),o=i.next();!o.done;o=i.next()){var s=o.value;this.exec(s,e,t)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}},e.prototype.update=function(e,t){var r,a,i,o,l,c,d,p,h=this;if(e._sessionid=this.sessionId,this._state=e,this.machine.config.predictableActionArguments&&t!==s.zp||!this.options.execute)for(var f=void 0;f=this._outgoingQueue.shift();)f[0].send(f[1]);else this.execute(this.state);if(this.children.forEach((function(e){h.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var m=(0,n.Ju)(this.eventListeners),g=m.next();!g.done;g=m.next()){(0,g.value)(e.event)}}catch(e){r={error:e}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(r)throw r.error}}try{for(var y=(0,n.Ju)(this.listeners),b=y.next();!b.done;b=y.next()){(0,b.value)(e,e.event)}}catch(e){i={error:e}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}try{for(var w=(0,n.Ju)(this.contextListeners),S=w.next();!S.done;S=w.next()){(0,S.value)(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(e){l={error:e}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}if(this.state.done){var x=e.configuration.find((function(e){return"final"===e.type&&e.parent===h.machine})),O=x&&x.doneData?(0,u.A9)(x.doneData,e.context,t):void 0;this._doneEvent=(0,s.tS)(this.id,O);try{for(var _=(0,n.Ju)(this.doneListeners),E=_.next();!E.done;E=_.next()){(0,E.value)(this._doneEvent)}}catch(e){d={error:e}}finally{try{E&&!E.done&&(p=_.return)&&p.call(_)}finally{if(d)throw d.error}}this._stop(),this._stopChildren(),v(this.sessionId)}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===O.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,r){var n=this,a=(0,u.WV)(e,t,r);this.listeners.add(a.next),this.status!==O.NotStarted&&a.next(this.state);var i=function(){n.doneListeners.delete(i),n.stopListeners.delete(i),a.complete()};return this.status===O.Stopped?a.complete():(this.onDone(i),this.onStop(i)),{unsubscribe:function(){n.listeners.delete(a.next),n.doneListeners.delete(i),n.stopListeners.delete(i)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.status===O.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t=this;if(this.status===O.Running)return this;this.machine._init(),g(this.sessionId,this),this.initialized=!0,this.status=O.Running;var r=void 0===e?this.initialState:(0,S.G)(this,(function(){return(0,i.OS)(e)?t.machine.resolveState(e):t.machine.resolveState(i.Uw.from(e,t.machine.context))}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){t.update(r,s.zp)})),this},e.prototype._stopChildren=function(){this.children.forEach((function(e){(0,u.Tn)(e.stop)&&e.stop()})),this.children.clear()},e.prototype._stop=function(){var e,t,r,a,i,o,s,l,u,c;try{for(var p=(0,n.Ju)(this.listeners),h=p.next();!h.done;h=p.next()){var f=h.value;this.listeners.delete(f)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}try{for(var m=(0,n.Ju)(this.stopListeners),g=m.next();!g.done;g=m.next()){(f=g.value)(),this.stopListeners.delete(f)}}catch(e){r={error:e}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(r)throw r.error}}try{for(var y=(0,n.Ju)(this.contextListeners),v=y.next();!v.done;v=y.next()){f=v.value;this.contextListeners.delete(f)}}catch(e){i={error:e}}finally{try{v&&!v.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}try{for(var b=(0,n.Ju)(this.doneListeners),w=b.next();!w.done;w=b.next()){f=w.value;this.doneListeners.delete(f)}}catch(e){s={error:e}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}if(!this.initialized)return this;this.initialized=!1,this.status=O.Stopped,this._initialState=void 0;try{for(var S=(0,n.Ju)(Object.keys(this.delayedEventsMap)),x=S.next();!x.done;x=S.next()){var _=x.value;this.clock.clearTimeout(this.delayedEventsMap[_])}}catch(e){u={error:e}}finally{try{x&&!x.done&&(c=S.return)&&c.call(S)}finally{if(u)throw u.error}}this.scheduler.clear(),this.scheduler=new d({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule((function(){var t;if(!(null===(t=e._state)||void 0===t?void 0:t.done)){var r=(0,u.ft)({type:"xstate.stop"}),a=(0,S.G)(e,(function(){var t=(0,u.Bq)((0,n.fX)([],(0,n.zs)(e.state.configuration),!1).sort((function(e,t){return t.order-e.order})).map((function(t){return(0,s.Um)(t.onExit,e.machine.options.actions)}))),a=(0,n.zs)((0,s.AS)(e.machine,e.state,e.state.context,r,[{type:"exit",actions:t}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),o=a[0],l=a[1],c=new i.Uw({value:e.state.value,context:l,_event:r,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:o.filter((function(e){return!(0,u.Gx)(e)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return c.changed=!0,c}));e.update(a,r),e._stopChildren(),v(e.sessionId)}})),this},e.prototype.batch=function(e){var t=this;if(this.status===O.NotStarted&&this.options.deferEvents)l.p||(0,u.R8)(!1,"".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==O.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var r=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule((function(){var a,o,s=t.state,l=!1,c=[],d=function(e){var a=(0,u.ft)(e);t.forward(a),s=(0,S.G)(t,(function(){return t.machine.transition(s,a,void 0,r||void 0)})),c.push.apply(c,(0,n.fX)([],(0,n.zs)(t.machine.config.predictableActionArguments?s.actions:s.actions.map((function(e){return(0,i.Sv)(e,s)}))),!1)),l=l||!!s.changed};try{for(var p=(0,n.Ju)(e),h=p.next();!h.done;h=p.next()){d(h.value)}}catch(e){a={error:e}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}s.changed=l,s.actions=c,t.update(s,(0,u.ft)(e[e.length-1]))}))}},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var r=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var n=(0,u.ft)(e);if(0===n.name.indexOf(o.O$)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(o.O$)})))throw n.data.data;return(0,S.G)(this,(function(){return r.machine.transition(r.state,n,void 0,t||void 0)}))},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,r;try{for(var a=(0,n.Ju)(this.forwardTo),i=a.next();!i.done;i=a.next()){var o=i.value,s=this.children.get(o);if(!s)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));s.send(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this,r=this.clock.setTimeout((function(){"to"in e&&e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)}),e.delay);e.id&&(this.delayedEventsMap[e.id]=r)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,r){void 0===r&&(r=this.machine.options.actions),this._exec(e,t.context,t._event,r)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),(0,u.Tn)(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,r){if(this.status!==O.Running)return(0,p.Py)(e,t);if((0,u.$X)(e))return this.spawnPromise(Promise.resolve(e),t);if((0,u.Tn)(e))return this.spawnCallback(e,t);if((0,p.gY)(e))return this.spawnActor(e,t);if((0,u.AT)(e))return this.spawnObservable(e,t);if((0,u.Ai)(e))return this.spawnMachine(e,(0,n.Cl)((0,n.Cl)({},r),{id:t}));if((0,u.lx)(e))return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'))},e.prototype.spawnMachine=function(t,r){var a=this;void 0===r&&(r={});var i=new e(t,(0,n.Cl)((0,n.Cl)({},this.options),{parent:this,id:r.id||t.id})),s=(0,n.Cl)((0,n.Cl)({},_),r);s.sync&&i.onTransition((function(e){a.send(o.yo,{state:e,id:i.id})}));var l=i;return this.children.set(i.id,l),s.autoForward&&this.forwardTo.add(i.id),i.onDone((function(e){a.removeChild(i.id),a.send((0,u.ft)(e,{origin:i.id}))})).start(),l},e.prototype.spawnBehavior=function(e,t){var r=x(e,{id:t,parent:this});return this.children.set(t,r),r},e.prototype.spawnPromise=function(e,t){var r,n,a=this,i=!1;e.then((function(e){i||(n=e,a.removeChild(t),a.send((0,u.ft)((0,s.tS)(t,e),{origin:t})))}),(function(e){if(!i){a.removeChild(t);var r=(0,s.z3)(t,e);try{a.send((0,u.ft)(r,{origin:t}))}catch(n){(0,u.En)(e,n,t),a.devTools&&a.devTools.send(r,a.state),a.machine.strict&&a.stop()}}}));var o=((r={id:t,send:function(){},subscribe:function(t,r,n){var a=(0,u.WV)(t,r,n),i=!1;return e.then((function(e){i||(a.next(e),i||a.complete())}),(function(e){i||a.error(e)})),{unsubscribe:function(){return i=!0}}},stop:function(){i=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return n}})[u.s7]=function(){return this},r);return this.children.set(t,o),o},e.prototype.spawnCallback=function(e,t){var r,n,a,i=this,o=!1,l=new Set,c=new Set;try{a=e((function(e){n=e,c.forEach((function(t){return t(e)})),o||i.send((0,u.ft)(e,{origin:t}))}),(function(e){l.add(e)}))}catch(e){this.send((0,s.z3)(t,e))}if((0,u.$X)(a))return this.spawnPromise(a,t);var d=((r={id:t,send:function(e){return l.forEach((function(t){return t(e)}))},subscribe:function(e){var t=(0,u.WV)(e);return c.add(t.next),{unsubscribe:function(){c.delete(t.next)}}},stop:function(){o=!0,(0,u.Tn)(a)&&a()},toJSON:function(){return{id:t}},getSnapshot:function(){return n}})[u.s7]=function(){return this},r);return this.children.set(t,d),d},e.prototype.spawnObservable=function(e,t){var r,n,a=this,i=e.subscribe((function(e){n=e,a.send((0,u.ft)(e,{origin:t}))}),(function(e){a.removeChild(t),a.send((0,u.ft)((0,s.z3)(t,e),{origin:t}))}),(function(){a.removeChild(t),a.send((0,u.ft)((0,s.tS)(t),{origin:t}))})),o=((r={id:t,send:function(){},subscribe:function(t,r,n){return e.subscribe(t,r,n)},stop:function(){return i.unsubscribe()},getSnapshot:function(){return n},toJSON:function(){return{id:t}}})[u.s7]=function(){return this},r);return this.children.set(t,o),o},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var r=t(this.state.context,e);this.spawnEffect(e.id,r)}else l.p||(0,u.R8)(!1,"No implementation found for activity '".concat(e.type,"'"))},e.prototype.spawnEffect=function(e,t){var r;this.children.set(e,((r={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[u.s7]=function(){return this},r))},e.prototype.attachDev=function(){var e=b();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect((0,n.Cl)((0,n.Cl)({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:(0,n.Cl)({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}w(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[u.s7]=function(){return this},e.prototype.getSnapshot=function(){return this.status===O.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=k,e}();function k(e,t){return new E(e,t)}},4648:(e,t,r)=>{"use strict";r.d(t,{G:()=>a});var n=[],a=function(e,t){n.push(e);var r=t(e);return n.pop(),r}},6099:(e,t,r)=>{"use strict";r.d(t,{BJ:()=>m,D0:()=>u,IQ:()=>g,Ki:()=>l,Xh:()=>f,_W:()=>p,d2:()=>i,i0:()=>s,iU:()=>y,rz:()=>o,zy:()=>h});var n=r(2551),a=r(5968),i=function(e){return"atomic"===e.type||"final"===e.type};function o(e){return Object.keys(e.states).map((function(t){return e.states[t]}))}function s(e){return o(e).filter((function(e){return"history"!==e.type}))}function l(e){var t=[e];return i(e)?t:t.concat((0,a.Bq)(s(e).map(l)))}function u(e,t){var r,a,i,o,l,u,c,p,h=d(new Set(e)),f=new Set(t);try{for(var m=(0,n.Ju)(f),g=m.next();!g.done;g=m.next())for(var y=(k=g.value).parent;y&&!f.has(y);)f.add(y),y=y.parent}catch(e){r={error:e}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(r)throw r.error}}var v=d(f);try{for(var b=(0,n.Ju)(f),w=b.next();!w.done;w=b.next()){if("compound"!==(k=w.value).type||v.get(k)&&v.get(k).length){if("parallel"===k.type)try{for(var S=(l=void 0,(0,n.Ju)(s(k))),x=S.next();!x.done;x=S.next()){var O=x.value;f.has(O)||(f.add(O),h.get(O)?h.get(O).forEach((function(e){return f.add(e)})):O.initialStateNodes.forEach((function(e){return f.add(e)})))}}catch(e){l={error:e}}finally{try{x&&!x.done&&(u=S.return)&&u.call(S)}finally{if(l)throw l.error}}}else h.get(k)?h.get(k).forEach((function(e){return f.add(e)})):k.initialStateNodes.forEach((function(e){return f.add(e)}))}}catch(e){i={error:e}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(i)throw i.error}}try{for(var _=(0,n.Ju)(f),E=_.next();!E.done;E=_.next()){var k;for(y=(k=E.value).parent;y&&!f.has(y);)f.add(y),y=y.parent}}catch(e){c={error:e}}finally{try{E&&!E.done&&(p=_.return)&&p.call(_)}finally{if(c)throw c.error}}return f}function c(e,t){var r=t.get(e);if(!r)return{};if("compound"===e.type){var n=r[0];if(!n)return{};if(i(n))return n.key}var a={};return r.forEach((function(e){a[e.key]=c(e,t)})),a}function d(e){var t,r,a=new Map;try{for(var i=(0,n.Ju)(e),o=i.next();!o.done;o=i.next()){var s=o.value;a.has(s)||a.set(s,[]),s.parent&&(a.has(s.parent)||a.set(s.parent,[]),a.get(s.parent).push(s))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return a}function p(e,t){return c(e,d(u([e],t)))}function h(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function f(e){return(0,n.fX)([],(0,n.zs)(new Set((0,a.Bq)((0,n.fX)([],(0,n.zs)(e.map((function(e){return e.ownEvents}))),!1)))),!1)}function m(e,t){return"compound"===t.type?s(t).some((function(t){return"final"===t.type&&h(e,t)})):"parallel"===t.type&&s(t).every((function(t){return m(e,t)}))}function g(e){return void 0===e&&(e=[]),e.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})}function y(e){return new Set((0,a.Bq)(e.map((function(e){return e.tags}))))}},5468:(e,t,r)=>{"use strict";var n,a;r.d(t,{Q:()=>n,i:()=>a}),function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"}(n||(n={})),function(e){e.Parent="#_parent",e.Internal="#_internal"}(a||(a={}))},5968:(e,t,r)=>{"use strict";r.d(t,{$X:()=>_,$r:()=>S,A9:()=>x,AT:()=>L,Ae:()=>g,Ai:()=>M,BY:()=>T,Bq:()=>b,En:()=>U,Gx:()=>Q,HK:()=>u,Kg:()=>j,LG:()=>f,M7:()=>O,R8:()=>P,R_:()=>B,Tn:()=>A,VQ:()=>y,WV:()=>W,Xd:()=>q,Z8:()=>I,_3:()=>V,_J:()=>d,at:()=>p,bm:()=>v,cv:()=>G,cy:()=>R,ft:()=>z,jB:()=>k,jK:()=>$,lx:()=>E,oc:()=>F,r_:()=>D,re:()=>H,rp:()=>m,s7:()=>N,vd:()=>c,zr:()=>h});var n,a=r(2551),i=r(5468),o=r(6590),s=r(8204),l=r(5184);function u(e,t,r){void 0===r&&(r=s.AD);var n=p(e,r),a=p(t,r);return j(a)?!!j(n)&&a===n:j(n)?n in a:Object.keys(n).every((function(e){return e in a&&u(n[e],a[e])}))}function c(e){try{return j(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function d(e,t){try{return R(e)?e:e.toString().split(t)}catch(t){throw new Error("'".concat(e,"' is not a valid state path."))}}function p(e,t){return"object"==typeof(r=e)&&"value"in r&&"context"in r&&"event"in r&&"_event"in r?e.value:R(e)?h(e):"string"!=typeof e?e:h(d(e,t));var r}function h(e){if(1===e.length)return e[0];for(var t={},r=t,n=0;n<e.length-1;n++)n===e.length-2?r[e[n]]=e[n+1]:(r[e[n]]={},r=r[e[n]]);return t}function f(e,t){for(var r={},n=Object.keys(e),a=0;a<n.length;a++){var i=n[a];r[i]=t(e[i],i,e,a)}return r}function m(e,t,r){var n,i,o={};try{for(var s=(0,a.Ju)(Object.keys(e)),l=s.next();!l.done;l=s.next()){var u=l.value,c=e[u];r(c)&&(o[u]=t(c,u,e))}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o}var g=function(e){return function(t){var r,n,i=t;try{for(var o=(0,a.Ju)(e),s=o.next();!s.done;s=o.next()){i=i[s.value]}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}};function y(e,t){return function(r){var n,i,o=r;try{for(var s=(0,a.Ju)(e),l=s.next();!l.done;l=s.next()){var u=l.value;o=o[t][u]}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o}}function v(e){return e?j(e)?[[e]]:b(Object.keys(e).map((function(t){var r=e[t];return"string"==typeof r||r&&Object.keys(r).length?v(e[t]).map((function(e){return[t].concat(e)})):[[t]]}))):[[]]}function b(e){var t;return(t=[]).concat.apply(t,(0,a.fX)([],(0,a.zs)(e),!1))}function w(e){return R(e)?e:[e]}function S(e){return void 0===e?[]:w(e)}function x(e,t,r){var n,i;if(A(e))return e(t,r.data);var o={};try{for(var s=(0,a.Ju)(Object.keys(e)),l=s.next();!l.done;l=s.next()){var u=l.value,c=e[u];A(c)?o[u]=c(t,r.data):o[u]=c}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o}function O(e){return/^(done|error)\./.test(e)}function _(e){return e instanceof Promise||!(null===e||!A(e)&&"object"!=typeof e||!A(e.then))}function E(e){return null!==e&&"object"==typeof e&&"transition"in e&&"function"==typeof e.transition}function k(e,t){var r,n,i=(0,a.zs)([[],[]],2),o=i[0],s=i[1];try{for(var l=(0,a.Ju)(e),u=l.next();!u.done;u=l.next()){var c=u.value;t(c)?o.push(c):s.push(c)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return[o,s]}function C(e,t){return f(e.states,(function(e,r){if(e){var n=(j(t)?void 0:t[r])||(e?e.current:void 0);if(n)return{current:n,states:C(e,n)}}}))}function T(e,t){return{current:t,states:C(e,t)}}function D(e,t,r,n){l.p||P(!!e,"Attempting to update undefined context");var i=e?r.reduce((function(e,r){var i,o,s=r.assignment,l={state:n,action:r,_event:t},u={};if(A(s))u=s(e,t.data,l);else try{for(var c=(0,a.Ju)(Object.keys(s)),d=c.next();!d.done;d=c.next()){var p=d.value,h=s[p];u[p]=A(h)?h(e,t.data,l):h}}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return Object.assign({},e,u)}),e):e;return i}var P=function(){};function R(e){return Array.isArray(e)}function A(e){return"function"==typeof e}function j(e){return"string"==typeof e}function I(e,t){if(e)return j(e)?{type:s.hS,name:e,predicate:t?t[e]:void 0}:A(e)?{type:s.hS,name:e.name,predicate:e}:e}function L(e){try{return"subscribe"in e&&A(e.subscribe)}catch(e){return!1}}l.p||(P=function(e,t){var r=e instanceof Error?e:void 0;if((r||!e)&&void 0!==console){var n=["Warning: ".concat(t)];r&&n.push(r),console.warn.apply(console,n)}});var N=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();(n={})[N]=function(){return this},n[Symbol.observable]=function(){return this};function M(e){return!!e&&"__xstatenode"in e}function V(e){return!!e&&"function"==typeof e.send}function $(e,t){return j(e)||"number"==typeof e?(0,a.Cl)({type:e},t):e}function z(e,t){if(!j(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var r=$(e);return(0,a.Cl)({name:r.type,data:r,$$type:"scxml",type:"external"},t)}function F(e,t){return w(t).map((function(t){return void 0===t||"string"==typeof t||M(t)?{target:t,event:e}:(0,a.Cl)((0,a.Cl)({},t),{event:e})}))}function B(e){if(void 0!==e&&e!==s.$D)return S(e)}function U(e,t,r){if(!l.p){var n=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";if(e===t)console.error("Missing onError handler for invocation '".concat(r,"', error was '").concat(e,"'.").concat(n));else{var a=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(r,"'. ")+"Original error: '".concat(e,"'. ").concat(n," Current error is '").concat(t,"'.").concat(a))}}}function H(e,t,r,n,a){var i=e.options.guards,o={state:a,cond:t,_event:n};if(t.type===s.hS)return((null==i?void 0:i[t.name])||t.predicate)(r,n.data,o);var l=null==i?void 0:i[t.type];if(!l)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return l(r,n.data,o)}function q(e){return"string"==typeof e?{type:e}:e}function W(e,t,r){var n=function(){},a="object"==typeof e,i=a?e:null;return{next:((a?e.next:e)||n).bind(i),error:((a?e.error:t)||n).bind(i),complete:((a?e.complete:r)||n).bind(i)}}function G(e,t){return"".concat(e,":invocation[").concat(t,"]")}function Q(e){return(e.type===o.xl||e.type===o.tN&&e.to===i.i.Internal)&&"number"!=typeof e.delay}},5540:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var n=r(5959);function a(e){const{ref:t,box:r,onResize:a}=e;(0,n.useEffect)((()=>{let e=null==t?void 0:t.current;if(e){if(void 0===window.ResizeObserver)return window.addEventListener("resize",a,!1),()=>{window.removeEventListener("resize",a,!1)};{const t=new window.ResizeObserver((e=>{e.length&&a()}));return t.observe(e,{box:r}),()=>{e&&t.unobserve(e)}}}}),[a,t,r])}},6667:(e,t,r)=>{"use strict";r.d(t,{n:()=>d});var n=r(5959),a=r(9304),i=r(3403),o=r(7794),s=r(9106),l=class extends o.Q{#e;#t=void 0;#r;#n;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,s.f8)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,s.EN)(t.mutationKey)!==(0,s.EN)(this.options.mutationKey)?this.reset():"pending"===this.#r?.state.status&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#a(),this.#i()}mutate(e,t){return this.#n=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#a(){const e=this.#r?.state??(0,a.$)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){i.j.batch((()=>{if(this.#n&&this.hasListeners()){const t=this.#t.variables,r=this.#t.context;"success"===e?.type?(this.#n.onSuccess?.(e.data,t,r),this.#n.onSettled?.(e.data,null,t,r)):"error"===e?.type&&(this.#n.onError?.(e.error,t,r),this.#n.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach((e=>{e(this.#t)}))}))}},u=r(3715),c=r(908);function d(e,t){const r=(0,u.jE)(t),[a]=n.useState((()=>new l(r,e)));n.useEffect((()=>{a.setOptions(e)}),[a,e]);const o=n.useSyncExternalStore(n.useCallback((e=>a.subscribe(i.j.batchCalls(e))),[a]),(()=>a.getCurrentResult()),(()=>a.getCurrentResult())),s=n.useCallback(((e,t)=>{a.mutate(e,t).catch(c.l)}),[a]);if(o.error&&(0,c.G)(a.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:s,mutateAsync:o.mutate}}},7879:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>Ke});var n=r(5959);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}const i=["children","options"];var o,s,l;(l=o||(o={})).blockQuote="0",l.breakLine="1",l.breakThematic="2",l.codeBlock="3",l.codeFenced="4",l.codeInline="5",l.footnote="6",l.footnoteReference="7",l.gfmTask="8",l.heading="9",l.headingSetext="10",l.htmlBlock="11",l.htmlComment="12",l.htmlSelfClosing="13",l.image="14",l.link="15",l.linkAngleBraceStyleDetector="16",l.linkBareUrlDetector="17",l.linkMailtoDetector="18",l.newlineCoalescer="19",l.orderedList="20",l.paragraph="21",l.ref="22",l.refImage="23",l.refLink="24",l.table="25",l.tableSeparator="26",l.text="27",l.textBolded="28",l.textEmphasized="29",l.textEscaped="30",l.textMarked="31",l.textStrikethroughed="32",l.unorderedList="33",function(e){e[e.MAX=0]="MAX",e[e.HIGH=1]="HIGH",e[e.MED=2]="MED",e[e.LOW=3]="LOW",e[e.MIN=4]="MIN"}(s||(s={}));const u=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","className","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce(((e,t)=>(e[t.toLowerCase()]=t,e)),{for:"htmlFor"}),c={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"",quot:""},d=["style","script"],p=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,h=/mailto:/i,f=/\n{2,}$/,m=/^(\s*>[\s\S]*?)(?=\n{2,})/,g=/^ *> ?/gm,y=/^ {2,}\n/,v=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,b=/^\s*(`{3,}|~{3,}) *(\S+)?([^\n]*?)?\n([\s\S]+?)\s*\1 *(?:\n *)*\n?/,w=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,S=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,x=/^(?:\n *)*\n/,O=/\r\n?/g,_=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,E=/^\[\^([^\]]+)]/,k=/\f/g,C=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,T=/^\s*?\[(x|\s)\]/,D=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,P=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,R=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,A=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,j=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,I=/^<!--[\s\S]*?(?:-->)/,L=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,N=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,M=/^\{.*\}$/,V=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,$=/^<([^ >]+@[^ >]+)>/,z=/^<([^ >]+:\/[^ >]+)>/,F=/-([a-z])?/gi,B=/^(.*\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,U=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,H=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,q=/^\[([^\]]*)\] ?\[([^\]]*)\]/,W=/(\[|\])/g,G=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,Q=/\t/g,X=/(^ *\||\| *$)/g,J=/^ *:-+: *$/,K=/^ *:-+ *$/,Y=/^ *-+: *$/,Z="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~~.*?~~|==.*?==|.|\\n)*?)",ee=new RegExp(`^([*_])\\1${Z}\\1\\1(?!\\1)`),te=new RegExp(`^([*_])${Z}\\1(?!\\1|\\w)`),re=new RegExp(`^==${Z}==`),ne=new RegExp(`^~~${Z}~~`),ae=/^\\([^0-9A-Za-z\s])/,ie=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&#;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,oe=/^\n+/,se=/^([ \t]*)/,le=/\\([^\\])/g,ue=/ *\n+$/,ce=/(?:^|\n)( *)$/,de="(?:\\d+\\.)",pe="(?:[*+-])";function he(e){return"( *)("+(1===e?de:pe)+") +"}const fe=he(1),me=he(2);function ge(e){return new RegExp("^"+(1===e?fe:me))}const ye=ge(1),ve=ge(2);function be(e){return new RegExp("^"+(1===e?fe:me)+"[^\\n]*(?:\\n(?!\\1"+(1===e?de:pe)+" )[^\\n]*)*(\\n|$)","gm")}const we=be(1),Se=be(2);function xe(e){const t=1===e?de:pe;return new RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}const Oe=xe(1),_e=xe(2);function Ee(e,t){const r=1===t,n=r?Oe:_e,a=r?we:Se,i=r?ye:ve;return{match(e,t,r){const a=ce.exec(r);return a&&(t.list||!t.inline&&!t.simple)?n.exec(e=a[1]+e):null},order:1,parse(e,t,n){const o=r?+e[2]:void 0,s=e[0].replace(f,"\n").match(a);let l=!1;return{items:s.map((function(e,r){const a=i.exec(e)[0].length,o=new RegExp("^ {1,"+a+"}","gm"),u=e.replace(o,"").replace(i,""),c=r===s.length-1,d=-1!==u.indexOf("\n\n")||c&&l;l=d;const p=n.inline,h=n.list;let f;n.list=!0,d?(n.inline=!1,f=u.replace(ue,"\n\n")):(n.inline=!0,f=u.replace(ue,""));const m=t(f,n);return n.inline=p,n.list=h,m})),ordered:r,start:o}},render:(t,r,n)=>e(t.ordered?"ol":"ul",{key:n.key,start:"20"===t.type?t.start:void 0},t.items.map((function(t,a){return e("li",{key:a},r(t,n))})))}}const ke=new RegExp("^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)"),Ce=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,Te=[m,b,w,D,R,P,I,B,we,Oe,Se,_e],De=[...Te,/^[^\n]+(?:  \n|\n{2,})/,A,N];function Pe(e){return e.replace(/[]/g,"a").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function Re(e){return Y.test(e)?"right":J.test(e)?"center":K.test(e)?"left":null}function Ae(e,t,r,n){const a=r.inTable;r.inTable=!0;let i=e.trim().split(/( *(?:`[^`]*`|<.*?>.*?<\/.*?>(?!<\/.*?>)|\\\||\|) *)/).reduce(((e,a)=>("|"===a.trim()?e.push(n?{type:"26"}:{type:"27",text:a}):""!==a&&e.push.apply(e,t(a,r)),e)),[]);r.inTable=a;let o=[[]];return i.forEach((function(e,t){"26"===e.type?0!==t&&t!==i.length-1&&o.push([]):("27"!==e.type||null!=i[t+1]&&"26"!==i[t+1].type||(e.text=e.text.trimEnd()),o[o.length-1].push(e))})),o}function je(e,t,r){r.inline=!0;const n=e[2]?e[2].replace(X,"").split("|").map(Re):[],a=e[3]?function(e,t,r){return e.trim().split("\n").map((function(e){return Ae(e,t,r,!0)}))}(e[3],t,r):[],i=Ae(e[1],t,r,!!a.length);return r.inline=!1,a.length?{align:n,cells:a,header:i,type:"25"}:{children:i,type:"21"}}function Ie(e,t){return null==e.align[t]?{}:{textAlign:e.align[t]}}function Le(e){return function(t,r){return r.inline?e.exec(t):null}}function Ne(e){return function(t,r){return r.inline||r.simple?e.exec(t):null}}function Me(e){return function(t,r){return r.inline||r.simple?null:e.exec(t)}}function Ve(e){return function(t){return e.exec(t)}}function $e(e,t,r){if(t.inline||t.simple)return null;if(r&&!r.endsWith("\n"))return null;let n="";e.split("\n").every((e=>!Te.some((t=>t.test(e)))&&(n+=e+"\n",e.trim())));const a=n.trimEnd();return""==a?null:[n,a]}function ze(e){try{if(decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return}catch(e){return null}return e}function Fe(e){return e.replace(le,"$1")}function Be(e,t,r){const n=r.inline||!1,a=r.simple||!1;r.inline=!0,r.simple=!0;const i=e(t,r);return r.inline=n,r.simple=a,i}function Ue(e,t,r){const n=r.inline||!1,a=r.simple||!1;r.inline=!1,r.simple=!0;const i=e(t,r);return r.inline=n,r.simple=a,i}function He(e,t,r){const n=r.inline||!1;r.inline=!1;const a=e(t,r);return r.inline=n,a}const qe=(e,t,r)=>({children:Be(t,e[1],r)});function We(){return{}}function Ge(){return null}function Qe(...e){return e.filter(Boolean).join(" ")}function Xe(e,t,r){let n=e;const a=t.split(".");for(;a.length&&(n=n[a[0]],void 0!==n);)a.shift();return n||r}function Je(e="",t={}){t.overrides=t.overrides||{},t.slugify=t.slugify||Pe,t.namedCodesToUnicode=t.namedCodesToUnicode?a({},c,t.namedCodesToUnicode):c;const r=t.createElement||n.createElement;function i(e,n,...i){const o=Xe(t.overrides,`${e}.props`,{});return r(function(e,t){const r=Xe(t,e);return r?"function"==typeof r||"object"==typeof r&&"render"in r?r:Xe(t,`${e}.component`,e):e}(e,t.overrides),a({},n,o,{className:Qe(null==n?void 0:n.className,o.className)||void 0}),...i)}function o(e){e=e.replace(C,"");let r=!1;t.forceInline?r=!0:t.forceBlock||(r=!1===G.test(e));const a=K(J(r?e:`${e.trimEnd().replace(oe,"")}\n\n`,{inline:r}));for(;"string"==typeof a[a.length-1]&&!a[a.length-1].trim();)a.pop();if(null===t.wrapper)return a;const o=t.wrapper||(r?"span":"div");let s;if(a.length>1||t.forceWrapper)s=a;else{if(1===a.length)return s=a[0],"string"==typeof s?i("span",{key:"outer"},s):s;s=null}return n.createElement(o,{key:"outer"},s)}function s(e){const t=e.match(p);return t?t.reduce((function(e,t,r){const a=t.indexOf("=");if(-1!==a){const i=function(e){return-1!==e.indexOf("-")&&null===e.match(L)&&(e=e.replace(F,(function(e,t){return t.toUpperCase()}))),e}(t.slice(0,a)).trim(),s=function(e){const t=e[0];return('"'===t||"'"===t)&&e.length>=2&&e[e.length-1]===t?e.slice(1,-1):e}(t.slice(a+1).trim()),l=u[i]||i,c=e[l]=function(e,t){return"style"===e?t.split(/;\s?/).reduce((function(e,t){const r=t.slice(0,t.indexOf(":"));return e[r.trim().replace(/(-[a-z])/g,(e=>e[1].toUpperCase()))]=t.slice(r.length+1).trim(),e}),{}):"href"===e||"src"===e?ze(t):(t.match(M)&&(t=t.slice(1,t.length-1)),"true"===t||"false"!==t&&t)}(i,s);"string"==typeof c&&(A.test(c)||N.test(c))&&(e[l]=n.cloneElement(o(c.trim()),{key:r}))}else"style"!==t&&(e[u[t]||t]=!0);return e}),{}):null}const l=[],f={},X={0:{match:Me(m),order:1,parse:(e,t,r)=>({children:t(e[0].replace(g,""),r)}),render:(e,t,r)=>i("blockquote",{key:r.key},t(e.children,r))},1:{match:Ve(y),order:1,parse:We,render:(e,t,r)=>i("br",{key:r.key})},2:{match:Me(v),order:1,parse:We,render:(e,t,r)=>i("hr",{key:r.key})},3:{match:Me(w),order:0,parse:e=>({lang:void 0,text:e[0].replace(/^ {4}/gm,"").replace(/\n+$/,"")}),render:(e,t,r)=>i("pre",{key:r.key},i("code",a({},e.attrs,{className:e.lang?`lang-${e.lang}`:""}),e.text))},4:{match:Me(b),order:0,parse:e=>({attrs:s(e[3]||""),lang:e[2]||void 0,text:e[4],type:"3"})},5:{match:Ne(S),order:3,parse:e=>({text:e[2]}),render:(e,t,r)=>i("code",{key:r.key},e.text)},6:{match:Me(_),order:0,parse:e=>(l.push({footnote:e[2],identifier:e[1]}),{}),render:Ge},7:{match:Le(E),order:1,parse:e=>({target:`#${t.slugify(e[1])}`,text:e[1]}),render:(e,t,r)=>i("a",{key:r.key,href:ze(e.target)},i("sup",{key:r.key},e.text))},8:{match:Le(T),order:1,parse:e=>({completed:"x"===e[1].toLowerCase()}),render:(e,t,r)=>i("input",{checked:e.completed,key:r.key,readOnly:!0,type:"checkbox"})},9:{match:Me(t.enforceAtxHeadings?P:D),order:1,parse:(e,r,n)=>({children:Be(r,e[2],n),id:t.slugify(e[2]),level:e[1].length}),render:(e,t,r)=>i(`h${e.level}`,{id:e.id,key:r.key},t(e.children,r))},10:{match:Me(R),order:0,parse:(e,t,r)=>({children:Be(t,e[1],r),level:"="===e[2]?1:2,type:"9"})},11:{match:Ve(A),order:1,parse(e,t,r){const[,n]=e[3].match(se),a=new RegExp(`^${n}`,"gm"),i=e[3].replace(a,""),o=(l=i,De.some((e=>e.test(l)))?He:Be);var l;const u=e[1].toLowerCase(),c=-1!==d.indexOf(u),p={attrs:s(e[2]),noInnerParse:c,tag:(c?u:e[1]).trim()};return r.inAnchor=r.inAnchor||"a"===u,c?p.text=e[3]:p.children=o(t,i,r),r.inAnchor=!1,p},render:(e,t,r)=>i(e.tag,a({key:r.key},e.attrs),e.text||t(e.children,r))},13:{match:Ve(N),order:1,parse:e=>({attrs:s(e[2]||""),tag:e[1].trim()}),render:(e,t,r)=>i(e.tag,a({},e.attrs,{key:r.key}))},12:{match:Ve(I),order:1,parse:()=>({}),render:Ge},14:{match:Ne(Ce),order:1,parse:e=>({alt:e[1],target:Fe(e[2]),title:e[3]}),render:(e,t,r)=>i("img",{key:r.key,alt:e.alt||void 0,title:e.title||void 0,src:ze(e.target)})},15:{match:Le(ke),order:3,parse:(e,t,r)=>({children:Ue(t,e[1],r),target:Fe(e[2]),title:e[3]}),render:(e,t,r)=>i("a",{key:r.key,href:ze(e.target),title:e.title},t(e.children,r))},16:{match:Le(z),order:0,parse:e=>({children:[{text:e[1],type:"27"}],target:e[1],type:"15"})},17:{match:(e,t)=>t.inAnchor?null:Le(V)(e,t),order:0,parse:e=>({children:[{text:e[1],type:"27"}],target:e[1],title:void 0,type:"15"})},18:{match:Le($),order:0,parse(e){let t=e[1],r=e[1];return h.test(r)||(r="mailto:"+r),{children:[{text:t.replace("mailto:",""),type:"27"}],target:r,type:"15"}}},20:Ee(i,1),33:Ee(i,2),19:{match:Me(x),order:3,parse:We,render:()=>"\n"},21:{match:$e,order:3,parse:qe,render:(e,t,r)=>i("p",{key:r.key},t(e.children,r))},22:{match:Le(U),order:0,parse:e=>(f[e[1]]={target:e[2],title:e[4]},{}),render:Ge},23:{match:Ne(H),order:0,parse:e=>({alt:e[1]||void 0,ref:e[2]}),render:(e,t,r)=>f[e.ref]?i("img",{key:r.key,alt:e.alt,src:ze(f[e.ref].target),title:f[e.ref].title}):null},24:{match:Le(q),order:0,parse:(e,t,r)=>({children:t(e[1],r),fallbackChildren:t(e[0].replace(W,"\\$1"),r),ref:e[2]}),render:(e,t,r)=>f[e.ref]?i("a",{key:r.key,href:ze(f[e.ref].target),title:f[e.ref].title},t(e.children,r)):i("span",{key:r.key},t(e.fallbackChildren,r))},25:{match:Me(B),order:1,parse:je,render(e,t,r){const n=e;return i("table",{key:r.key},i("thead",null,i("tr",null,n.header.map((function(e,a){return i("th",{key:a,style:Ie(n,a)},t(e,r))})))),i("tbody",null,n.cells.map((function(e,a){return i("tr",{key:a},e.map((function(e,a){return i("td",{key:a,style:Ie(n,a)},t(e,r))})))}))))}},27:{match:Ve(ie),order:4,parse:e=>({text:e[0].replace(j,((e,r)=>t.namedCodesToUnicode[r]?t.namedCodesToUnicode[r]:e))}),render:e=>e.text},28:{match:Ne(ee),order:2,parse:(e,t,r)=>({children:t(e[2],r)}),render:(e,t,r)=>i("strong",{key:r.key},t(e.children,r))},29:{match:Ne(te),order:3,parse:(e,t,r)=>({children:t(e[2],r)}),render:(e,t,r)=>i("em",{key:r.key},t(e.children,r))},30:{match:Ne(ae),order:1,parse:e=>({text:e[1],type:"27"})},31:{match:Ne(re),order:3,parse:qe,render:(e,t,r)=>i("mark",{key:r.key},t(e.children,r))},32:{match:Ne(ne),order:3,parse:qe,render:(e,t,r)=>i("del",{key:r.key},t(e.children,r))}};!0===t.disableParsingRawHTML&&(delete X[11],delete X[13]);const J=function(e){let t=Object.keys(e);function r(n,a){let i=[],o="";for(;n;){let s=0;for(;s<t.length;){const l=t[s],u=e[l],c=u.match(n,a,o);if(c){const e=c[0];n=n.substring(e.length);const t=u.parse(c,r,a);null==t.type&&(t.type=l),i.push(t),o=e;break}s++}}return i}return t.sort((function(t,r){let n=e[t].order,a=e[r].order;return n!==a?n-a:t<r?-1:1})),function(e,t){return r(function(e){return e.replace(O,"\n").replace(k,"").replace(Q,"    ")}(e),t)}}(X),K=(Y=function(e,t){return function(r,n,a){const i=e[r.type].render;return t?t((()=>i(r,n,a)),r,n,a):i(r,n,a)}}(X,t.renderRule),function e(t,r={}){if(Array.isArray(t)){const n=r.key,a=[];let i=!1;for(let n=0;n<t.length;n++){r.key=n;const o=e(t[n],r),s="string"==typeof o;s&&i?a[a.length-1]+=o:null!==o&&a.push(o),i=s}return r.key=n,a}return Y(t,e,r)});var Y;const Z=o(e);return l.length?i("div",null,Z,i("footer",{key:"footer"},l.map((function(e){return i("div",{id:t.slugify(e.identifier),key:e.identifier},e.identifier,K(J(e.footnote,{inline:!0})))})))):Z}const Ke=e=>{let{children:t="",options:r}=e,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(a[r]=e[r]);return a}(e,i);return n.cloneElement(Je(t,r),a)}},8987:(e,t,r)=>{"use strict";r.d(t,{Ak:()=>n});let n=(e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&r[e]];return t}},8537:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});class n{value;next;constructor(e){this.value=e}}class a{#o;#s;#l;constructor(){this.clear()}enqueue(e){const t=new n(e);this.#o?(this.#s.next=t,this.#s=t):(this.#o=t,this.#s=t),this.#l++}dequeue(){const e=this.#o;if(e)return this.#o=this.#o.next,this.#l--,e.value}peek(){if(this.#o)return this.#o.value}clear(){this.#o=void 0,this.#s=void 0,this.#l=0}get size(){return this.#l}*[Symbol.iterator](){let e=this.#o;for(;e;)yield e.value,e=e.next}}function i(e){o(e);const t=new a;let r=0;const n=()=>{r<e&&t.size>0&&(t.dequeue()(),r++)},i=async(e,t,a)=>{const i=(async()=>e(...a))();t(i);try{await i}catch{}r--,n()},s=(a,...o)=>new Promise((s=>{((a,o,s)=>{new Promise((e=>{t.enqueue(e)})).then(i.bind(void 0,a,o,s)),(async()=>{await Promise.resolve(),r<e&&n()})()})(a,s,o)}));return Object.defineProperties(s,{activeCount:{get:()=>r},pendingCount:{get:()=>t.size},clearQueue:{value(){t.clear()}},concurrency:{get:()=>e,set(a){o(a),e=a,queueMicrotask((()=>{for(;r<e&&t.size>0;)n()}))}}}),s}function o(e){if(!Number.isInteger(e)&&e!==Number.POSITIVE_INFINITY||!(e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}},9488:(e,t,r)=>{"use strict";r.d(t,{A:()=>k});var n=r(5959),a=e=>"string"!=typeof e?{}:e.split(/ ?; ?/).reduce(((e,t)=>{const[r,n]=t.split(/ ?: ?/).map(((e,t)=>0===t?e.replace(/\s+/g,""):e.trim()));if(r&&n){const t=r.replace(/(\w)-(\w)/g,((e,t,r)=>`${t}${r.toUpperCase()}`));let a=n.trim();Number.isNaN(Number(n))||(a=Number(n)),e[r.startsWith("-")?r:t]=a}return e}),{});var i=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],o={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"};function s(e,t){const{key:r,level:s,...u}=t;switch(e.nodeType){case 1:return n.createElement(function(e){if(/[a-z]+[A-Z]+[a-z]+/.test(e))return e;return e.toLowerCase()}(e.nodeName),function(e,t){const r={key:t};if(e instanceof Element){const t=e.getAttribute("class");t&&(r.className=t),[...e.attributes].forEach((e=>{switch(e.name){case"class":break;case"style":r[e.name]=a(e.value);break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":r[o[e.name]||e.name]=!0;break;default:r[o[e.name]||e.name]=e.value}}))}return r}(e,r),l(e.childNodes,s,u));case 3:{const t=e.nodeValue?.toString()??"";if(!u.allowWhiteSpaces&&/^\s+$/.test(t)&&!/[\u00A0\u202F]/.test(t))return null;if(!e.parentNode)return t;const r=e.parentNode.nodeName.toLowerCase();return i.includes(r)?(/\S/.test(t)&&console.warn(`A textNode is not allowed inside '${r}'. Your text "${t}" will be ignored`),null):t}case 8:default:return null;case 11:return l(e.childNodes,s,t)}}function l(e,t,r){const n=[...e].map(((e,n)=>u(e,{...r,index:n,level:t+1}))).filter(Boolean);return n.length?n:null}function u(e,t={}){if(!(e&&e instanceof Node))return null;const{actions:r=[],index:n=0,level:a=0,randomKey:i}=t;let o=e,l=`${a}-${n}`;const u=[];return i&&0===a&&(l=`${function(e=6){const t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";let r="";for(let n=e;n>0;--n)r+=t[Math.round(61*Math.random())];return r}()}-${l}`),Array.isArray(r)&&r.forEach((t=>{t.condition(o,l,a)&&("function"==typeof t.pre&&(o=t.pre(o,l,a),o instanceof Node||(o=e)),"function"==typeof t.post&&u.push(t.post(o,l,a)))})),u.length?u:s(o,{key:l,level:a,...t})}function c(e,t={}){return"string"==typeof e?function(e,t={}){if(!e||"string"!=typeof e)return null;const{includeAllNodes:r=!1,nodeOnly:n=!1,selector:a="body > *",type:i="text/html"}=t;try{const o=(new DOMParser).parseFromString(e,i);if(r){const{childNodes:e}=o.body;return n?e:[...e].map((e=>u(e,t)))}const s=o.querySelector(a)||o.body.childNodes[0];if(!(s instanceof Node))throw new TypeError("Error parsing input");return n?s:u(s,t)}catch(e){}return null}(e,t):e instanceof Node?u(e,t):null}var d=r(2540),p=Object.defineProperty,h=(e,t,r)=>(((e,t,r)=>{t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r),f="react-inlinesvg",m={IDLE:"idle",LOADING:"loading",LOADED:"loaded",FAILED:"failed",READY:"ready",UNSUPPORTED:"unsupported"};function g(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}function y(){return function(){if(!document)return!1;const e=document.createElement("div");e.innerHTML="<svg />";const t=e.firstChild;return!!t&&"http://www.w3.org/2000/svg"===t.namespaceURI}()&&"undefined"!=typeof window&&null!==window}async function v(e,t){const r=await fetch(e,t),n=r.headers.get("content-type"),[a]=(n??"").split(/ ?; ?/);if(r.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some((e=>a.includes(e))))throw new Error(`Content type isn't valid: ${a}`);return r.text()}function b(e=1){return new Promise((t=>{setTimeout(t,1e3*e)}))}var w,S=class{constructor(){h(this,"cacheApi"),h(this,"cacheStore"),h(this,"subscribers",[]),h(this,"isReady",!1),this.cacheStore=new Map;let e=f,t=!1;g()&&(e=window.REACT_INLINESVG_CACHE_NAME??f,t=!!window.REACT_INLINESVG_PERSISTENT_CACHE&&"caches"in window),t?caches.open(e).then((e=>{this.cacheApi=e,this.isReady=!0,this.subscribers.forEach((e=>e()))})).catch((e=>{this.isReady=!0,console.error(`Failed to open cache: ${e.message}`)})):this.isReady=!0}onReady(e){this.isReady?e():this.subscribers.push(e)}async get(e,t){return await(this.cacheApi?this.fetchAndAddToPersistentCache(e,t):this.fetchAndAddToInternalCache(e,t)),this.cacheStore.get(e)?.content??""}set(e,t){this.cacheStore.set(e,t)}isCached(e){return this.cacheStore.get(e)?.status===m.LOADED}async fetchAndAddToInternalCache(e,t){const r=this.cacheStore.get(e);if(r?.status!==m.LOADING){if(!r?.content){this.cacheStore.set(e,{content:"",status:m.LOADING});try{const r=await v(e,t);this.cacheStore.set(e,{content:r,status:m.LOADED})}catch(t){throw this.cacheStore.set(e,{content:"",status:m.FAILED}),t}}}else await this.handleLoading(e,(async()=>{this.cacheStore.set(e,{content:"",status:m.IDLE}),await this.fetchAndAddToInternalCache(e,t)}))}async fetchAndAddToPersistentCache(e,t){const r=this.cacheStore.get(e);if(r?.status===m.LOADED)return;if(r?.status===m.LOADING)return void await this.handleLoading(e,(async()=>{this.cacheStore.set(e,{content:"",status:m.IDLE}),await this.fetchAndAddToPersistentCache(e,t)}));this.cacheStore.set(e,{content:"",status:m.LOADING});const n=await(this.cacheApi?.match(e));if(n){const t=await n.text();this.cacheStore.set(e,{content:t,status:m.LOADED})}else try{await(this.cacheApi?.add(new Request(e,t)));const r=await(this.cacheApi?.match(e)),n=await(r?.text())??"";this.cacheStore.set(e,{content:n,status:m.LOADED})}catch(t){throw this.cacheStore.set(e,{content:"",status:m.FAILED}),t}}async handleLoading(e,t){let r=0;for(;this.cacheStore.get(e)?.status===m.LOADING&&r<10;)await b(.1),r+=1;r>=10&&await t()}keys(){return[...this.cacheStore.keys()]}data(){return[...this.cacheStore.entries()].map((([e,t])=>({[e]:t})))}async delete(e){this.cacheApi&&await this.cacheApi.delete(e),this.cacheStore.delete(e)}async clear(){if(this.cacheApi){const e=await this.cacheApi.keys();for(const t of e)await this.cacheApi.delete(t)}this.cacheStore.clear()}};function x(e){const t=(0,n.useRef)();return(0,n.useEffect)((()=>{t.current=e})),t.current}function O(e){const{baseURL:t,content:r,description:n,handleError:a,hash:i,preProcessor:o,title:s,uniquifyIDs:l=!1}=e;try{const e=function(e,t){if(t)return t(e);return e}(r,o),a=c(e,{nodeOnly:!0});if(!(a&&a instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");const u=_(a,{baseURL:t,hash:i,uniquifyIDs:l});if(n){const e=u.querySelector("desc");e?.parentNode&&e.parentNode.removeChild(e);const t=document.createElementNS("http://www.w3.org/2000/svg","desc");t.innerHTML=n,u.prepend(t)}if(void 0!==s){const e=u.querySelector("title");if(e?.parentNode&&e.parentNode.removeChild(e),s){const e=document.createElementNS("http://www.w3.org/2000/svg","title");e.innerHTML=s,u.prepend(e)}}return u}catch(e){return a(e)}}function _(e,t){const{baseURL:r="",hash:n,uniquifyIDs:a}=t,i=["id","href","xlink:href","xlink:role","xlink:arcrole"],o=["href","xlink:href"];return a?([...e.children].forEach((e=>{if(e.attributes?.length){const t=Object.values(e.attributes).map((e=>{const t=e,a=/url\((.*?)\)/.exec(e.value);return a?.[1]&&(t.value=e.value.replace(a[0],`url(${r}${a[1]}__${n})`)),t}));i.forEach((e=>{const r=t.find((t=>t.name===e));var a,i;r&&(a=e,i=r.value,!o.includes(a)||!i||i.includes("#"))&&(r.value=`${r.value}__${n}`)}))}return e.children.length?_(e,t):e})),e):e}function E(e){const{cacheRequests:t=!0,children:r=null,description:a,fetchOptions:i,innerRef:o,loader:s=null,onError:l,onLoad:u,src:d,title:p,uniqueHash:h}=e,[f,b]=(0,n.useReducer)(((e,t)=>({...e,...t})),{content:"",element:null,isCached:t&&w.isCached(e.src),status:m.IDLE}),{content:S,element:_,isCached:E,status:k}=f,C=x(e),T=x(f),D=(0,n.useRef)(h??function(e){const t="abcdefghijklmnopqrstuvwxyz",r=`${t}${t.toUpperCase()}1234567890`;let n="";for(let t=0;t<e;t++)n+=(a=r)[Math.floor(Math.random()*a.length)];var a;return n}(8)),P=(0,n.useRef)(!1),R=(0,n.useRef)(!1),A=(0,n.useCallback)((e=>{P.current&&(b({status:"Browser does not support SVG"===e.message?m.UNSUPPORTED:m.FAILED}),l?.(e))}),[l]),j=(0,n.useCallback)(((e,t=!1)=>{P.current&&b({content:e,isCached:t,status:m.LOADED})}),[]),I=(0,n.useCallback)((async()=>{const e=await v(d,i);j(e)}),[i,j,d]),L=(0,n.useCallback)((()=>{try{const t=c(O({...e,handleError:A,hash:D.current,content:S}));if(!t||!(0,n.isValidElement)(t))throw new Error("Could not convert the src to a React element");b({element:t,status:m.READY})}catch(e){A(new Error(e.message))}}),[S,A,e]),N=(0,n.useCallback)((async()=>{const e=/^data:image\/svg[^,]*?(;base64)?,(.*)/u.exec(d);let r;if(e?r=e[1]?window.atob(e[2]):decodeURIComponent(e[2]):d.includes("<svg")&&(r=d),r)j(r);else try{if(t){const e=await w.get(d,i);j(e,!0)}else await I()}catch(e){A(e)}}),[t,I,i,A,j,d]),M=(0,n.useCallback)((async()=>{P.current&&b({content:"",element:null,isCached:!1,status:m.LOADING})}),[]);(0,n.useEffect)((()=>{if(P.current=!0,!g()||R.current)return()=>{};try{if(k===m.IDLE){if(!y())throw new Error("Browser does not support SVG");if(!d)throw new Error("Missing src");M()}}catch(e){A(e)}return R.current=!0,()=>{P.current=!1}}),[]),(0,n.useEffect)((()=>{if(g()&&C)if(C.src!==d){if(!d)return void A(new Error("Missing src"));M()}else C.title===p&&C.description===a||L()}),[a,L,A,M,C,d,p]),(0,n.useEffect)((()=>{T&&(T.status!==m.LOADING&&k===m.LOADING&&N(),T.status!==m.LOADED&&k===m.LOADED&&L(),T.status!==m.READY&&k===m.READY&&u?.(d,E))}),[N,L,E,u,T,d,k]);const V=function(e,...t){const r={};for(const n in e)({}).hasOwnProperty.call(e,n)&&(t.includes(n)||(r[n]=e[n]));return r}(e,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return g()?_?(0,n.cloneElement)(_,{ref:o,...V}):[m.UNSUPPORTED,m.FAILED].includes(k)?r:s:s}function k(e){w||(w=new S);const{loader:t}=e,r=(0,n.useRef)(!1),[a,i]=(0,n.useState)(w.isReady);return(0,n.useEffect)((()=>{r.current||(w.onReady((()=>{i(!0)})),r.current=!0)}),[]),a?(0,d.jsx)(E,{...e}):t}},4120:(e,t,r)=>{"use strict";r.d(t,{AQ:()=>d,C6:()=>a,Ju:()=>s,N3:()=>c,YH:()=>o,fX:()=>u,sH:()=>i,xN:()=>p,zs:()=>l});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function i(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))}function o(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create;function s(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o}function u(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function c(e){return this instanceof c?(this.v=e,this):new c(e)}function d(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),i=[];return n={},o("next"),o("throw"),o("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),n[Symbol.asyncIterator]=function(){return this},n;function o(e,t){a[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||s(e,t)}))},t&&(n[e]=t(n[e])))}function s(e,t){try{(r=a[e](t)).value instanceof c?Promise.resolve(r.value.v).then(l,u):d(i[0][2],r)}catch(e){d(i[0][3],e)}var r}function l(e){s("next",e)}function u(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function p(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=s(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,a){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,a,(t=e[r](t)).done,t.value)}))}}}Object.create;"function"==typeof SuppressedError&&SuppressedError}}]);
//# sourceMappingURL=755.js.map